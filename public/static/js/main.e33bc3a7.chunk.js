(this["webpackJsonpjungle-swap-client"]=this["webpackJsonpjungle-swap-client"]||[]).push([[0],{115:function(e,t,n){},116:function(e,t,n){"use strict";n.r(t);var a=n(1),s=n.n(a),r=n(20),c=n.n(r),i=n(9),l=(n(73),n(74),n(3)),o=n(121),u=n(31),d=function(){return Object(u.b)()},p=u.c,m=n(5),h=n.n(m),j=n(10),f=n(11),b=n(12),g=n.n(b),x=n(7),O="".concat("https://jungleswap.herokuapp.com","/api"),w=function(e){throw new Error(e)},v=Object(f.b)("jungleSwap/signUp",function(){var e=Object(j.a)(h.a.mark((function e(t){var n;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,g.a.post("".concat(O,"/auth/sign-up"),t);case 3:return n=e.sent,e.abrupt("return",n.data);case 7:return e.prev=7,e.t0=e.catch(0),e.abrupt("return",w(e.t0.response.data.error));case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t){return e.apply(this,arguments)}}()),N=Object(f.b)("jungleSwap/signIn",function(){var e=Object(j.a)(h.a.mark((function e(t){var n;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,g.a.post("".concat(O,"/auth/sign-in"),t,{withCredentials:!0});case 3:return n=e.sent,e.abrupt("return",n.data);case 7:return e.prev=7,e.t0=e.catch(0),e.abrupt("return",w(e.t0.response.data.error));case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t){return e.apply(this,arguments)}}()),y=Object(f.b)("jungleSwap/logOut",function(){var e=Object(j.a)(h.a.mark((function e(t){return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,g.a.post("".concat(O,"/auth/log-out"),t,{withCredentials:!0});case 3:e.next=8;break;case 5:return e.prev=5,e.t0=e.catch(0),e.abrupt("return",w(e.t0.response.data.error));case 8:case"end":return e.stop()}}),e,null,[[0,5]])})));return function(t){return e.apply(this,arguments)}}()),P=Object(f.b)("jungleSwap/checkUserLoggedIn",Object(j.a)(h.a.mark((function e(){var t;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,g.a.get("".concat(O,"/auth/check-user"),{withCredentials:!0});case 3:return t=e.sent,e.abrupt("return",t.data);case 7:return e.prev=7,e.t0=e.catch(0),e.abrupt("return",w(e.t0.response.data.error));case 10:case"end":return e.stop()}}),e,null,[[0,7]])})))),S=Object(f.b)("jungleSwap/createPlant",function(){var e=Object(j.a)(h.a.mark((function e(t){var n;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,g.a.post("".concat(O,"/plants/create"),t,{withCredentials:!0});case 3:return n=e.sent,e.abrupt("return",n.data);case 7:return e.prev=7,e.t0=e.catch(0),e.abrupt("return",w(e.t0.response.data.error));case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t){return e.apply(this,arguments)}}()),I=Object(f.b)("jungleSwap/fetchAllPlants",Object(j.a)(h.a.mark((function e(){var t;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,g.a.get("".concat(O,"/plants/fetch-all"));case 3:return t=e.sent,e.abrupt("return",t.data);case 7:return e.prev=7,e.t0=e.catch(0),e.abrupt("return",w(e.t0.response.data.error));case 10:case"end":return e.stop()}}),e,null,[[0,7]])})))),k=Object(f.b)("jungleSwap/fetchQueryPlants",function(){var e=Object(j.a)(h.a.mark((function e(t){var n;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,g.a.get("".concat(O,"/plants/search?q=").concat(t));case 3:return n=e.sent,e.abrupt("return",n.data);case 7:return e.prev=7,e.t0=e.catch(0),e.abrupt("return",w(e.t0.response.data.error));case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t){return e.apply(this,arguments)}}()),C=Object(f.b)("jungleSwap/fetchPlant",function(){var e=Object(j.a)(h.a.mark((function e(t){var n;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,g.a.get("".concat(O,"/plants/fetch/").concat(t),{withCredentials:!0});case 3:return n=e.sent,e.abrupt("return",n.data);case 7:return e.prev=7,e.t0=e.catch(0),e.abrupt("return",w(e.t0.response.data.error));case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t){return e.apply(this,arguments)}}()),F=Object(f.b)("jungleSwap/updatePlant",function(){var e=Object(j.a)(h.a.mark((function e(t){var n,a,s;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.plantId,a=t.updatedPlant,e.prev=1,e.next=4,g.a.patch("".concat(O,"/plants/update/").concat(n),a);case 4:return s=e.sent,e.abrupt("return",s.data);case 8:return e.prev=8,e.t0=e.catch(1),e.abrupt("return",w(e.t0.response.data.error));case 11:case"end":return e.stop()}}),e,null,[[1,8]])})));return function(t){return e.apply(this,arguments)}}()),U=Object(f.b)("jungleSwap/deletePlant",function(){var e=Object(j.a)(h.a.mark((function e(t){return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,g.a.delete("".concat(O,"/plants/delete/").concat(t));case 3:e.next=8;break;case 5:return e.prev=5,e.t0=e.catch(0),e.abrupt("return",w(e.t0.response.data.error));case 8:case"end":return e.stop()}}),e,null,[[0,5]])})));return function(t){return e.apply(this,arguments)}}()),M=Object(f.b)("jungleSwap/uploadPlantImage",function(){var e=Object(j.a)(h.a.mark((function e(t){var n;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,g.a.post("".concat(O,"/cloudinary/upload"),t);case 3:return n=e.sent,e.abrupt("return",n.data);case 7:return e.prev=7,e.t0=e.catch(0),e.abrupt("return",w(e.t0.response.data.error));case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t){return e.apply(this,arguments)}}()),T=Object(f.b)("jungleSwap/deletePlantImage",function(){var e=Object(j.a)(h.a.mark((function e(t){return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,g.a.post("".concat(O,"/cloudinary/destroy"),t);case 3:e.next=8;break;case 5:return e.prev=5,e.t0=e.catch(0),e.abrupt("return",w(e.t0.response.data.error));case 8:case"end":return e.stop()}}),e,null,[[0,5]])})));return function(t){return e.apply(this,arguments)}}()),R=Object(f.b)("jungleSwap/createPayment",function(){var e=Object(j.a)(h.a.mark((function e(t){var n;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,g.a.post("".concat(O,"/stripe/create-payment-intent"),{price:t.price});case 3:return n=e.sent,e.abrupt("return",n.data);case 7:return e.prev=7,e.t0=e.catch(0),e.abrupt("return",w(e.t0.response.data.error));case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t){return e.apply(this,arguments)}}()),q=Object(f.b)("jungleSwap/createMessage",function(){var e=Object(j.a)(h.a.mark((function e(t){var n;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,g.a.post("".concat(O,"/messages/create"),t,{withCredentials:!0});case 3:return n=e.sent,e.abrupt("return",n.data);case 7:return e.prev=7,e.t0=e.catch(0),e.abrupt("return",w(e.t0.response.data.error));case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t){return e.apply(this,arguments)}}()),D=Object(f.b)("jungleSwap/fetchAllMessages",Object(j.a)(h.a.mark((function e(){var t;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,g.a.get("".concat(O,"/messages/fetch-all"));case 3:return t=e.sent,e.abrupt("return",t.data);case 7:return e.prev=7,e.t0=e.catch(0),e.abrupt("return",w(e.t0.response.data.error));case 10:case"end":return e.stop()}}),e,null,[[0,7]])})))),E=Object(f.b)("jungleSwap/fetchMessage",function(){var e=Object(j.a)(h.a.mark((function e(t){var n;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,g.a.get("".concat(O,"/messages/fetch/").concat(t),{withCredentials:!0});case 3:return n=e.sent,e.abrupt("return",n.data);case 7:return e.prev=7,e.t0=e.catch(0),e.abrupt("return",w(e.t0.response.data.error));case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t){return e.apply(this,arguments)}}()),z=Object(f.b)("jungleSwap/updateMessage",function(){var e=Object(j.a)(h.a.mark((function e(t){var n,a,s;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.messageId,a=t.updatedMessage,e.prev=1,e.next=4,g.a.patch("".concat(O,"/messages/update/").concat(n),a);case 4:return s=e.sent,e.abrupt("return",s.data);case 8:return e.prev=8,e.t0=e.catch(1),e.abrupt("return",w(e.t0.response.data.error));case 11:case"end":return e.stop()}}),e,null,[[1,8]])})));return function(t){return e.apply(this,arguments)}}()),A=Object(f.b)("jungleSwap/deleteMessage",function(){var e=Object(j.a)(h.a.mark((function e(t){return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,g.a.delete("".concat(O,"/messages/delete/").concat(t));case 3:e.next=8;break;case 5:return e.prev=5,e.t0=e.catch(0),e.abrupt("return",w(e.t0.response.data.error));case 8:case"end":return e.stop()}}),e,null,[[0,5]])})));return function(t){return e.apply(this,arguments)}}()),_=Object(f.c)({name:"jungleSwap",initialState:{isUserChange:!1,loggedInUser:null,isCreatingPlant:!1,isFetchingPlants:!1,isFetchingPlant:!1,isUpdatingPlant:!1,isDeletingPlant:!1,plant:{},plants:[],filteredPlants:[],numberOfVisibleEntries:6,isUploadingPlantImage:!1,isDeletingPlantImage:!1,destroyImageData:null,clientSecret:"",isCreatingMessage:!1,isFetchingMessages:!1,isFetchingMessage:!1,isUpdatingMessage:!1,isDeletingMessage:!1,messages:[],message:{},isNewRequest:!1,isNewReply:!1,amountOfRequests:0,amountOfReplies:0,intervalId:null,delayCounter:0,titleSectionHeight:0,aboutSectionHeight:0,errorMessage:null},reducers:{setIsUserChange:function(e,t){e.isUserChange=t.payload},setLoggedInUser:function(e,t){e.loggedInUser=t.payload},setIsCreatingPlant:function(e,t){e.isCreatingPlant=t.payload},setIsFetchingPlants:function(e,t){e.isFetchingPlants=t.payload},setIsFetchingPlant:function(e,t){e.isFetchingPlant=t.payload},setIsUpdatingPlant:function(e,t){e.isUpdatingPlant=t.payload},setIsDeletingPlant:function(e,t){e.isDeletingPlant=t.payload},addPlant:function(e,t){e.plants.push(t.payload)},setPlant:function(e,t){e.plant=t.payload},setPlants:function(e,t){e.plants=t.payload},setFilteredPlants:function(e,t){e.filteredPlants=t.payload},setPlantChanges:function(e,t){var n=t.payload,a=n._id,s=n.name,r=n.description,c=n.size,i=n.imageUrl,l=n.imagePublicId,o=n.location,u=n.price;e.plants=e.plants.map((function(e){return e._id===a&&(e.name=s,e.description=r,e.size=c,e.imageUrl=i,e.imagePublicId=l,e.location=o,e.price=u),e}))},removePlant:function(e,t){e.plants=e.plants.filter((function(e){return e._id!==t.payload}))},setNumberOfVisibleEntries:function(e,t){e.numberOfVisibleEntries=t.payload},setIsUploadingPlantImage:function(e,t){e.isUploadingPlantImage=t.payload},setIsDeletingPlantImage:function(e,t){e.isDeletingPlantImage=t.payload},setDestroyImageData:function(e,t){e.destroyImageData=t.payload},setClientSecret:function(e,t){e.clientSecret=t.payload},setIsCreatingMessage:function(e,t){e.isCreatingMessage=t.payload},setIsFetchingMessages:function(e,t){e.isFetchingMessages=t.payload},setIsFetchingMessage:function(e,t){e.isFetchingMessage=t.payload},setIsUpdatingMessage:function(e,t){e.isUpdatingMessage=t.payload},setIsDeletingMessage:function(e,t){e.isDeletingMessage=t.payload},addMessage:function(e,t){e.messages.push(t.payload)},setMessages:function(e,t){e.messages=t.payload},setMessage:function(e,t){e.message=t.payload},setMessageChanges:function(e,t){var n=t.payload,a=n._id,s=n.buyer,r=n.seller,c=n.plant,i=n.request,l=n.reply,o=n.messageState;e.messages=e.messages.map((function(e){return e._id===a&&(e.buyer=s,e.seller=r,e.plant=c,e.request=i,e.reply=l,e.messageState=o),e}))},removeMessage:function(e,t){e.messages=e.messages.filter((function(e){return e._id!==t.payload}))},setIsNewRequest:function(e,t){e.isNewRequest=t.payload},setIsNewReply:function(e,t){e.isNewReply=t.payload},setStartAmountOfRequests:function(e){e.amountOfRequests=e.loggedInUser.amountOfRequests},setStartAmountOfReplies:function(e){e.amountOfReplies=e.loggedInUser.amountOfReplies},setAmountOfRequests:function(e,t){e.amountOfRequests=t.payload},setAmountOfReplies:function(e,t){e.amountOfReplies=t.payload},decreaseAmountOfRequests:function(e){e.amountOfRequests-=1},decreaseAmountOfReplies:function(e){e.amountOfReplies-=1},setIntervalId:function(e,t){e.intervalId=t.payload},setDelayCounter:function(e,t){e.delayCounter=t.payload},increaseDelayCounter:function(e){e.delayCounter+=1},setTitleSectionHeight:function(e,t){e.titleSectionHeight=t.payload},setAboutSectionHeight:function(e,t){e.aboutSectionHeight=t.payload},scrollToAbout:function(e){x.animateScroll.scrollTo(e.titleSectionHeight)},scrollToPlants:function(e){x.animateScroll.scrollTo(e.titleSectionHeight+e.aboutSectionHeight)},setErrorMessage:function(e,t){e.errorMessage=t.payload}},extraReducers:function(e){e.addCase(S.fulfilled,(function(e){e.isCreatingPlant=!1})),e.addCase(S.rejected,(function(e){e.isCreatingPlant=!1})),e.addCase(I.fulfilled,(function(e){e.isFetchingPlants=!1})),e.addCase(I.rejected,(function(e){e.isFetchingPlants=!1})),e.addCase(k.fulfilled,(function(e){e.isFetchingPlants=!1})),e.addCase(k.rejected,(function(e){e.isFetchingPlants=!1})),e.addCase(C.fulfilled,(function(e){e.isFetchingPlant=!1})),e.addCase(C.rejected,(function(e){e.isFetchingPlant=!1})),e.addCase(F.fulfilled,(function(e){e.isUpdatingPlant=!1})),e.addCase(F.rejected,(function(e){e.isUpdatingPlant=!1})),e.addCase(U.fulfilled,(function(e){e.isDeletingPlant=!1})),e.addCase(U.rejected,(function(e){e.isDeletingPlant=!1})),e.addCase(M.fulfilled,(function(e){e.isUploadingPlantImage=!1})),e.addCase(M.rejected,(function(e){e.isUploadingPlantImage=!1})),e.addCase(T.fulfilled,(function(e){e.isDeletingPlantImage=!1})),e.addCase(T.rejected,(function(e){e.isDeletingPlantImage=!1})),e.addCase(q.fulfilled,(function(e){e.isCreatingMessage=!1})),e.addCase(q.rejected,(function(e){e.isCreatingMessage=!1})),e.addCase(D.fulfilled,(function(e){e.isFetchingMessages=!1})),e.addCase(D.rejected,(function(e){e.isFetchingMessages=!1})),e.addCase(E.fulfilled,(function(e){e.isFetchingMessage=!1})),e.addCase(E.rejected,(function(e){e.isFetchingMessage=!1})),e.addCase(z.fulfilled,(function(e){e.isUpdatingMessage=!1})),e.addCase(z.rejected,(function(e){e.isUpdatingMessage=!1})),e.addCase(A.fulfilled,(function(e){e.isDeletingMessage=!1})),e.addCase(A.rejected,(function(e){e.isDeletingMessage=!1}))}}),B=_.actions,L=B.setIsUserChange,H=B.setLoggedInUser,J=B.setIsCreatingPlant,V=B.setIsFetchingPlants,Y=B.setIsFetchingPlant,W=B.setIsUpdatingPlant,Q=B.setIsDeletingPlant,G=B.addPlant,K=B.setPlants,Z=B.setFilteredPlants,X=B.setPlant,$=B.setPlantChanges,ee=B.removePlant,te=B.setNumberOfVisibleEntries,ne=B.setIsUploadingPlantImage,ae=B.setIsDeletingPlantImage,se=B.setDestroyImageData,re=B.setClientSecret,ce=B.setIsCreatingMessage,ie=B.setIsFetchingMessages,le=B.setIsFetchingMessage,oe=B.setIsUpdatingMessage,ue=B.setIsDeletingMessage,de=B.addMessage,pe=B.setMessages,me=B.setMessage,he=B.setMessageChanges,je=B.removeMessage,fe=B.setIsNewRequest,be=B.setIsNewReply,ge=B.setStartAmountOfRequests,xe=B.setStartAmountOfReplies,Oe=B.setAmountOfRequests,we=B.setAmountOfReplies,ve=B.decreaseAmountOfRequests,Ne=B.decreaseAmountOfReplies,ye=B.setIntervalId,Pe=B.setDelayCounter,Se=B.increaseDelayCounter,Ie=B.setTitleSectionHeight,ke=B.setAboutSectionHeight,Ce=B.scrollToAbout,Fe=B.scrollToPlants,Ue=B.setErrorMessage,Me=_.reducer,Te=function(){var e=d();return{stop:function(t){clearInterval(t),e(ye(null)),e(Pe(0))}}},Re=n(119),qe=n(120),De=n(27),Ee=n(28),ze=n(21),Ae=function e(t){var n=this;Object(ze.a)(this,e),this.dispatch=void 0,this.create=function(e,t){n.dispatch(ce(!0)),n.dispatch(q(e)).unwrap().then((function(e){n.dispatch(de(e)),t()})).catch((function(e){n.dispatch(Ue(e.message))}))},this.fetch=function(e,t){n.dispatch(le(!0)),n.dispatch(E(e)).unwrap().then((function(e){n.dispatch(me(e)),t()})).catch((function(e){n.dispatch(Ue(e.message))}))},this.fetchAll=function(e){n.dispatch(ie(!0)),n.dispatch(D()).unwrap().then((function(t){n.dispatch(pe(t)),e()})).catch((function(e){n.dispatch(Ue(e.message))}))},this.fetchCheck=function(e){n.dispatch(D()).unwrap().then((function(t){n.dispatch(pe(t)),e(t)})).catch((function(e){n.dispatch(Ue(e.message))}))},this.update=function(e,t,a){n.dispatch(oe(!0)),n.dispatch(z({messageId:e,updatedMessage:t})).unwrap().then((function(e){n.dispatch(he(e)),a()})).catch((function(e){n.dispatch(Ue(e.message))}))},this.delete=function(e,t){n.dispatch(ue(!0)),n.dispatch(A(e)).unwrap().then((function(){n.dispatch(je(e)),t()})).catch((function(e){n.dispatch(Ue(e.message))}))},this.deleteRemaining=function(e,t){e.forEach((function(e){var a=e._id;e.plant._id===t&&(n.dispatch(ue(!0)),n.dispatch(A(a)).unwrap().then((function(){n.dispatch(je(a))})).catch((function(e){n.dispatch(Ue(e.message))})))}))},this.checkNewRequests=function(e,t,a){!function(e,t){t<e&&n.dispatch(fe(!0)),t!==e&&n.dispatch(Oe(e))}(function(t){return t.filter((function(t){var n=t.seller,a=t.messageState;return n._id===e._id&&!0===a})).length}(t),a)},this.checkNewReplies=function(e,t,a){!function(e,t){t<e&&n.dispatch(be(!0)),t!==e&&n.dispatch(we(e))}(function(t){return t.filter((function(t){var n=t.buyer,a=t.reply;return n._id===e._id&&""!==a})).length}(t),a)},this.dispatch=t},_e=n(0),Be=function(){var e=Object(o.a)().t;return Object(_e.jsxs)(_e.Fragment,{children:[Object(_e.jsx)(l.b,{to:"/auth/sign-in",className:"p-2 is-link",children:e("link.signIn")}),Object(_e.jsx)(l.b,{to:"/auth/sign-up",className:"p-2 is-link",children:e("link.signUp")})]})},Le=function(){var e=p((function(e){return e.jungleSwap.loggedInUser})),t=p((function(e){return e.jungleSwap.isNewRequest})),n=p((function(e){return e.jungleSwap.isNewReply})),a=Object(o.a)().t;return Object(_e.jsxs)(_e.Fragment,{children:[Object(_e.jsx)(l.b,{to:"/plants/my-own",className:"p-2 is-link",children:a("link.myPlants")}),Object(_e.jsx)(l.b,{to:"/plants/create",className:"p-2 is-link",children:a("link.createPlant")}),Object(_e.jsxs)(l.b,{to:"/requests/fetch-all",title:t?a("link.tooltipps.newRequest"):"",className:"p-2 is-link",children:[t&&Object(_e.jsx)(De.a,{icon:Ee.a}),a("link.requests")]}),Object(_e.jsxs)(l.b,{to:"/replies/fetch-all",title:n?a("link.tooltipps.newReply"):"",className:"p-2 is-link",children:[n&&Object(_e.jsx)(De.a,{icon:Ee.a}),a("link.replies")]}),Object(_e.jsx)(l.b,{to:"/auth/log-out",title:e?e.username:"",className:"p-2 is-link",children:a("link.logOut")})]})},He=function(e){return e.user?Object(_e.jsx)(Le,{}):Object(_e.jsx)(Be,{})},Je=function(){var e=p((function(e){return e.jungleSwap.isUserChange})),t=p((function(e){return e.jungleSwap.loggedInUser})),n=p((function(e){return e.jungleSwap.intervalId})),s=p((function(e){return e.jungleSwap.delayCounter})),r=p((function(e){return e.jungleSwap.isNewRequest})),c=p((function(e){return e.jungleSwap.isNewReply})),i=p((function(e){return e.jungleSwap.amountOfRequests})),u=p((function(e){return e.jungleSwap.amountOfReplies})),m=d(),h=Te(),j=Object(o.a)().t;Object(a.useEffect)((function(){return function(){n&&h.stop(n)}}),[]),Object(a.useEffect)((function(){e&&new Ae(m).fetchAll((function(){m(ge()),m(xe()),m(L(!1)),function(){var e=setInterval((function(){m(Se())}),1e3);m(ye(e)),m(Se())}()}))}),[e]),Object(a.useEffect)((function(){e&&(m(ge()),m(xe())),t&&function(){var e=new Ae(m);e.fetchCheck((function(n){e.checkNewRequests(t,n,i),e.checkNewReplies(t,n,u)}))}()}),[s]);return Object(_e.jsx)("div",{children:Object(_e.jsxs)(Re.a,{variant:"dark",expand:"lg",fixed:"top",className:"pl-5",children:[Object(_e.jsx)(Re.a.Brand,{children:Object(_e.jsx)(l.b,{to:"/",className:"is-link",onClick:x.animateScroll.scrollToTop,children:j("link.jungleSwap")})}),Object(_e.jsx)(Re.a.Toggle,{"aria-controls":"basic-navbar-nav",children:(r||c)&&Object(_e.jsx)(De.a,{icon:Ee.a})}),Object(_e.jsx)(Re.a.Collapse,{id:"basic-navbar-nav",children:Object(_e.jsxs)(qe.a,{className:"mr-auto",children:[Object(_e.jsx)(l.b,{to:"/",className:"p-2 is-link",onClick:function(){m(Fe())},children:j("link.allPlants")}),Object(_e.jsx)(He,{user:t}),Object(_e.jsx)(l.b,{to:"/",title:j("link.tooltipps.search"),className:"p-2 is-link",onClick:function(){m(Fe())},children:Object(_e.jsx)(De.a,{icon:Ee.b})})]})})]})})},Ve=function(){var e=Object(o.a)().t,t=(new Date).getFullYear();return Object(_e.jsx)("div",{className:"has-background-image",children:Object(_e.jsxs)("footer",{children:[e("texts.footer.copyright")," ",t," ",Object(_e.jsx)(l.b,{to:{pathname:"https://www.linkedin.com/in/christian-gerbig/"},target:"_blank",rel:"noreferrer noopener",className:"is-link",children:e("texts.footer.appAuthor1")})," ","&"," ",Object(_e.jsx)(l.b,{to:{pathname:"https://www.linkedin.com/in/lisa-montebaur/"},target:"_blank",rel:"noreferrer noopener",className:"is-link",children:e("texts.footer.appAuthor2")})]})})},Ye=function e(t){var n=this;Object(ze.a)(this,e),this.dispatch=void 0,this.create=function(e,t,a){var s=e.name,r=e.description,c=e.size,i=e.location,l=e.price,o=t.imageUrl,u=t.imagePublicId,d={name:s.value,description:r.value,size:c.value,imageUrl:o,imagePublicId:u,location:i.value,price:l.value};n.dispatch(J(!0)),n.dispatch(S(d)).unwrap().then((function(e){n.dispatch(G(e)),a()})).catch((function(e){n.dispatch(Ue(e.message))}))},this.fetch=function(e,t){n.dispatch(Y(!0)),n.dispatch(C(e)).unwrap().then((function(e){n.dispatch(X(e)),t()})).catch((function(e){n.dispatch(Ue(e.message))}))},this.fetchAll=function(e){n.dispatch(V(!0)),n.dispatch(I()).unwrap().then((function(t){n.dispatch(K(t)),"undefined"!==typeof e&&e()})).catch((function(e){n.dispatch(Ue(e.message))}))},this.update=function(e,t){var a=e._id,s={name:e.name,description:e.description,size:e.size,imageUrl:e.imageUrl,imagePublicId:e.imagePublicId,location:e.location,price:e.price};n.dispatch(W(!0)),n.dispatch(F({plantId:a,updatedPlant:s})).unwrap().then((function(e){n.dispatch($(e)),t()})).catch((function(e){n.dispatch(Ue(e.message))}))},this.delete=function(e,t){n.dispatch(Q(!0)),n.dispatch(U(e)).unwrap().then((function(){n.dispatch(ee(e)),t()})).catch((function(e){n.dispatch(Ue(e.message))}))},this.search=function(e){n.dispatch(V(!0)),n.dispatch(k(e)).unwrap().then((function(e){n.dispatch(K(e))})).catch((function(e){n.dispatch(Ue(e.message))}))},this.dispatch=t},We=n.p+"static/media/JungleSwap_Home.c4ed9b4c.png",Qe=n.p+"static/media/JungleSwap_Icon.a6c7c44a.png",Ge=function(){var e=Object(o.a)().t;return Object(_e.jsx)("div",{className:"about centered container",children:Object(_e.jsxs)("div",{className:"row",children:[Object(_e.jsx)("div",{className:"col-sm-6 col-md-5 col-lg-6",children:Object(_e.jsx)("img",{src:We,loading:"eager",alt:"plants",className:"is-background-image"})}),Object(_e.jsx)("br",{}),Object(_e.jsx)("div",{className:"about col-sm-6 col-md-5 col-lg-6 px-5 is-no-overflow",children:Object(_e.jsxs)("article",{children:[Object(_e.jsxs)("header",{children:[Object(_e.jsx)("h4",{children:e("texts.home.about.headline")}),Object(_e.jsx)("h5",{children:e("texts.home.about.subheadline")})]}),Object(_e.jsxs)("p",{children:[e("texts.home.about.paragraph.line1"),Object(_e.jsx)("br",{}),e("texts.home.about.paragraph.line2"),Object(_e.jsx)("br",{}),e("texts.home.about.paragraph.line3"),Object(_e.jsx)("br",{}),e("texts.home.about.paragraph.line4"),Object(_e.jsx)("br",{}),e("texts.home.about.paragraph.line5"),Object(_e.jsx)("br",{}),e("texts.home.about.paragraph.line6")]}),Object(_e.jsx)("img",{src:Qe,loading:"lazy",alt:"plant pot",className:"is-icon"})]})})]})})},Ke=function(){return Object(_e.jsx)("div",{className:"d-flex align-items-center justify-content-center",children:Object(_e.jsx)("div",{role:"status",className:"spinner-border m-3 loading-wait-spinner"})})},Ze=n(22),Xe=function(){var e=Object(a.useState)(""),t=Object(Ze.a)(e,2),n=t[0],s=t[1],r=Object(a.useState)(""),c=Object(Ze.a)(r,2),i=c[0],l=c[1],u=p((function(e){return e.jungleSwap.plants})),m=d(),h=Object(o.a)().t;return Object(a.useEffect)((function(){!function(e){var t=new Ye(m);e?t.search(e):t.fetchAll()}(n)}),[n]),Object(a.useEffect)((function(){!function(e,t){var n=t.filter((function(t){var n=t.location;return e===n||""===e}));m(Z(n))}(i,u)}),[i]),Object(_e.jsxs)("div",{className:"mb-4",children:[Object(_e.jsx)("hr",{className:"horizontal-rule"}),Object(_e.jsx)("h4",{children:h("texts.home.searchPlant.headline")}),Object(_e.jsxs)("div",{className:"d-flex",children:[Object(_e.jsx)("input",{type:"text",placeholder:h("texts.home.searchPlant.namePlaceholder"),value:n,className:"is-width-medium form-control",onChange:function(e){s(e.target.value)}}),Object(_e.jsxs)("select",{name:"location",className:"location-filter form-control ml-4",onChange:function(e){l(e.target.value)},children:[Object(_e.jsx)("option",{value:"",children:h("select.location.title")}),Object(_e.jsx)("option",{value:"sun",children:h("select.location.sun")}),Object(_e.jsx)("option",{value:"shade",children:h("select.location.shade")}),Object(_e.jsx)("option",{value:"sun and shade",children:h("select.location.sunAndShade")})]})]})]})},$e=function(e){var t=e.plant,n=Object(o.a)().t,a=t._id,s=t.name,r=t.imageUrl,c=t.price;return Object(_e.jsx)("div",{className:"col mb-5",children:Object(_e.jsxs)("div",{className:"card card-medium-width text-center h-100",children:[Object(_e.jsx)("img",{src:r,loading:"lazy",alt:s,className:"card-img-top is-image-size-large"}),Object(_e.jsxs)("div",{className:"card-body mb-5",children:[Object(_e.jsx)("h5",{children:s}),Object(_e.jsxs)("p",{children:[c," ",n("texts.plants.plantThumbnail.currency")]}),Object(_e.jsx)(l.b,{className:"btn form-control is-width-medium is-link",to:"/plants/fetch/".concat(a),children:n("link.details")})]})]})})},et=function(){var e=p((function(e){return e.jungleSwap.filteredPlants})),t=p((function(e){return e.jungleSwap.numberOfVisibleEntries})),n=d(),a=Object(o.a)().t;return Object(_e.jsxs)("div",{children:[Object(_e.jsx)("div",{className:"row row-cols-1 row-cols-md-2 row-cols-lg-2 row-cols-xl-3 row-cols-xxl-3",children:e.map((function(e,n){var a=e._id;return n<t?Object(_e.jsx)($e,{plant:e},a):null}))}),t<e.length&&Object(_e.jsx)("div",{className:"is-text-align-center",children:Object(_e.jsx)("button",{type:"button",className:"btn btn-sm is-width-medium form-control",onClick:function(){n(te(t+6))},children:a("button.more")})})]})},tt=function(){var e=p((function(e){return e.jungleSwap.isFetchingPlants})),t=Object(o.a)().t;return Object(_e.jsxs)("div",{className:"container mt-5",children:[Object(_e.jsx)("div",{className:"mt-5 mb-3",children:Object(_e.jsx)("h2",{children:t("texts.home.allPlants.headline")})}),Object(_e.jsx)(Xe,{}),e?Object(_e.jsx)(Ke,{}):Object(_e.jsx)(et,{})]})},nt=function(){var e=d(),t=Object(o.a)().t;return Object(_e.jsx)("div",{className:"row my-5",children:Object(_e.jsxs)("div",{className:"col-6 offset-3 my-5 has-border-around",children:[Object(_e.jsx)("h2",{className:"title mb-2",children:t("texts.home.title.headline")}),Object(_e.jsx)("h5",{className:"mt-3 mb-5",children:t("texts.home.title.subheadline")}),Object(_e.jsx)("div",{className:"mb-5",children:Object(_e.jsx)(l.b,{to:"/",className:"try-it-link is-link",onClick:function(){e(Ce())},children:t("link.tryIt")})})]})})},at=function(){var e=p((function(e){return e.jungleSwap.plants})),t=d(),n=Object(a.useRef)([]);return Object(a.useEffect)((function(){var e=function(e){return Math.round(e.getBoundingClientRect().height)};new Ye(t).fetchAll((function(){var a=e(n.current[0]);t(Ie(a));var s=e(n.current[1]);t(ke(s))}))}),[]),Object(a.useEffect)((function(){t(Z(e))}),[e]),Object(_e.jsxs)("div",{children:[Object(_e.jsx)("section",{ref:function(e){n.current[0]=e},className:"text-center pt-5 pb-5 title-header has-fixed-background-image",children:Object(_e.jsx)(nt,{})}),Object(_e.jsx)("section",{ref:function(e){n.current[1]=e},children:Object(_e.jsx)(Ge,{})}),Object(_e.jsx)("section",{children:Object(_e.jsx)(tt,{})})]})},st=function(){var e=d();return{signIn:function(t,n){e(N(t)).unwrap().then((function(t){e(H(t)),n()})).catch((function(t){e(Ue(t.message))}))},signUp:function(t,n){e(v(t)).unwrap().then((function(t){e(H(t)),n()})).catch((function(t){e(Ue(t.message))}))},logOut:function(t,n){e(y(t)).unwrap().then((function(){e(H(null)),n()})).catch((function(t){e(Ue(t.message))}))}}},rt=function(e){var t=e.message,n=e.outputFunction;return t&&t.includes("Form")?Object(_e.jsx)(_e.Fragment,{children:Object(_e.jsx)("span",{className:"is-danger is-text-bold is-display-block",children:n(t)})}):null},ct=function(){var e=p((function(e){return e.jungleSwap.errorMessage})),t=d(),n=Object(i.g)(),s=st(),r=Object(o.a)().t;Object(a.useEffect)((function(){t(Ue(null)),x.animateScroll.scrollToTop()}),[]);return Object(_e.jsx)("div",{className:"container row mt-5",children:Object(_e.jsxs)("div",{className:"mt-5 col-11 col-md-5 offset-1 offset-md-5",children:[Object(_e.jsx)("h2",{className:"mb-5",children:r("texts.authentification.signUp.headline")}),Object(_e.jsxs)("form",{className:"form-style",onSubmit:function(e){!function(e){var a=e.target,r=a.username,c=a.email,i=a.password,l={username:r.value,email:c.value.toLowerCase(),password:i.value};e.preventDefault(),s.signUp(l,(function(){t(L(!0)),n.push("/")}))}(e)},children:[Object(_e.jsxs)("div",{className:"form-group",children:[Object(_e.jsx)("label",{htmlFor:"InputUsername",children:r("texts.authentification.signUp.username")}),Object(_e.jsx)("input",{type:"text",id:"InputUsername",name:"username",placeholder:r("texts.authentification.signUp.enterPlaceholder"),className:"form-control is-width-full"})]}),Object(_e.jsxs)("div",{className:"form-group",children:[Object(_e.jsx)("label",{htmlFor:"InputEmail",children:r("texts.authentification.signUp.email")}),Object(_e.jsx)("input",{type:"email",id:"InputEmail",name:"email",placeholder:r("texts.authentification.signUp.enterPlaceholder"),className:"form-control is-width-full"})]}),Object(_e.jsxs)("div",{className:"form-group",children:[Object(_e.jsx)("label",{htmlFor:"InputPassword",children:r("texts.authentification.signUp.password")}),Object(_e.jsx)("input",{type:"password",id:"InputPassword",name:"password",placeholder:r("texts.authentification.signUp.enterPlaceholder"),className:"form-control is-width-full"})]}),Object(_e.jsx)(rt,{message:e,outputFunction:function(e){switch(e){case"Form: Username missing":return r("errorTexts.authentification.signUp.form.usernameMissing");case"Form: Email missing":return r("errorTexts.authentification.signUp.form.emailMissing");case"Form: Password missing":return r("errorTexts.authentification.signUp.form.passwordMissing");case"Form: Email format invalid":return r("errorTexts.authentification.signUp.form.emailFormatInvalid");case"Form: Password invalid":return r("errorTexts.authentification.signUp.form.passwordInvalid");case"Form: Username or email already exists":return r("errorTexts.authentification.signUp.form.userAlreadyExists");default:return r("errorTexts.general")}}}),Object(_e.jsx)("button",{type:"submit",formNoValidate:!0,className:"btn btn-sm mt-4 is-width-medium form-control",children:r("button.signUp")}),Object(_e.jsx)("p",{className:"is-padding-top",children:r("texts.authentification.signUp.alreadyAccountCreated")}),Object(_e.jsx)("div",{className:"text-right",children:Object(_e.jsx)(l.b,{to:"/auth/sign-in",className:"is-link",children:Object(_e.jsx)("button",{className:"btn btn-sm ml-4 is-width-medium form-control mt-0 mb-2",children:r("button.signIn")})})})]})]})})},it=function(){var e=p((function(e){return e.jungleSwap.errorMessage})),t=d(),n=Object(i.g)(),s=st(),r=Object(o.a)().t;Object(a.useEffect)((function(){t(Ue(null)),x.animateScroll.scrollToTop()}),[]);return Object(_e.jsx)("div",{className:"container row mt-5 custom fullscreen",children:Object(_e.jsxs)("div",{className:"mt-5 col-11 col-md-5 offset-1 offset-md-5",children:[Object(_e.jsx)("h2",{className:"mb-5",children:r("texts.authentification.signIn.headline")}),Object(_e.jsxs)("form",{className:"form-style",onSubmit:function(e){!function(e){var a=e.target,r=a.email,c=a.password,i={email:r.value,password:c.value};e.preventDefault(),s.signIn(i,(function(){t(L(!0));var e=i.amountOfReplies;t(Oe(i.amountOfRequests)),t(we(e)),n.push("/")}))}(e)},children:[Object(_e.jsxs)("div",{className:"form-group",children:[Object(_e.jsx)("label",{htmlFor:"InputEmail",children:r("texts.authentification.signIn.email")}),Object(_e.jsx)("input",{type:"email",id:"InputEmail",name:"email",placeholder:r("texts.authentification.signIn.enterPlaceholder"),className:"form-control is-width-full"})]}),Object(_e.jsxs)("div",{className:"form-group",children:[Object(_e.jsx)("label",{htmlFor:"InputPassword",children:r("texts.authentification.signIn.password")}),Object(_e.jsx)("input",{type:"password",id:"InputPassword",name:"password",placeholder:r("texts.authentification.signIn.enterPlaceholder"),className:"form-control is-width-full"})]}),Object(_e.jsx)(rt,{message:e,outputFunction:function(e){switch(e){case"Form: Email missing":return r("errorTexts.authentification.signIn.form.emailMissing");case"Form: Password missing":return r("errorTexts.authentification.signIn.form.passwordMissing");case"Form: Email format invalid":return r("errorTexts.authentification.signIn.form.emailFormatInvalid");case"Form: Passwords don't match":return r("errorTexts.authentification.signIn.form.noMatchPasswords");default:return r("errorTexts.general")}}}),Object(_e.jsx)("button",{type:"submit",formNoValidate:!0,className:"btn btn-sm mt-4 is-width-medium form-control",children:r("button.signIn")})]})]})})},lt=function(){var e=p((function(e){return e.jungleSwap.loggedInUser})),t=p((function(e){return e.jungleSwap.intervalId})),n=p((function(e){return e.jungleSwap.amountOfRequests})),s=p((function(e){return e.jungleSwap.amountOfReplies})),r=d(),c=Object(i.g)(),l=st(),o=Te();return Object(a.useEffect)((function(){!function(e){l.logOut(e,(function(){o.stop(t),r(fe(!1)),r(Oe(0)),r(we(0)),c.push("/"),x.animateScroll.scrollToTop()}))}(function(e){var t=JSON.parse(JSON.stringify(e));return t.amountOfRequests=n,t.amountOfReplies=s,r(H(t)),t}(e))}),[]),Object(_e.jsx)("div",{})},ot=function e(t){var n=this;Object(ze.a)(this,e),this.dispatch=void 0,this.protect=function(e){n.dispatch(P()).unwrap().then((function(t){n.dispatch(H(t)),e()})).catch((function(e){"Unauthorized user"!==e.message&&n.dispatch(Ue(e.message))}))},this.dispatch=t},ut=function e(t){var n=this;Object(ze.a)(this,e),this.dispatch=void 0,this.create=function(e,t){n.dispatch(ne(!0)),n.dispatch(M(e)).unwrap().then((function(e){t(e)})).catch((function(e){n.dispatch(Ue(e.message))}))},this.delete=function(e){n.dispatch(ae(!0)),n.dispatch(T(e)).unwrap().then((function(){})).catch((function(e){n.dispatch(Ue(e.message))}))},this.dispatch=t},dt=function(){var e=p((function(e){return e.jungleSwap.loggedInUser})),t=p((function(e){return e.jungleSwap.isUploadingPlantImage})),n=p((function(e){return e.jungleSwap.isCreatingPlant})),s=p((function(e){return e.jungleSwap.errorMessage})),r=d(),c=Object(i.g)(),l=Object(o.a)().t;Object(a.useEffect)((function(){new ot(r).protect((function(){r(Ue(null)),x.animateScroll.scrollToTop()}))}),[]);return e?Object(_e.jsx)("div",{className:"container row mt-5 fullscreen",children:Object(_e.jsxs)("div",{className:"mt-5 col-12 col-md-6 offset-md-4",children:[Object(_e.jsx)("h2",{className:"mb-5 text-left",children:l("texts.plants.createPlant.form.headline")}),Object(_e.jsxs)("form",{className:"form-style",onSubmit:function(e){!function(e){var t=e.target.plantImage.files[0];e.preventDefault();var n=new FormData;n.append("image",t),new ut(r).create(n,(function(t){var n=t.imageUrl,a=t.imagePublicId;new Ye(r).create(e.target,{imageUrl:n,imagePublicId:a},(function(){c.push("/plants/my-own")}))}))}(e)},children:[Object(_e.jsx)("label",{htmlFor:"enterName",children:l("texts.plants.createPlant.form.name")}),Object(_e.jsx)("input",{type:"text",id:"enterName",name:"name",placeholder:l("texts.plants.createPlant.form.enterPlaceholder"),className:"mb-4 form-control is-width-full"}),Object(_e.jsx)("label",{htmlFor:"enterDescription",children:l("texts.plants.createPlant.form.description")}),Object(_e.jsx)("input",{type:"text",id:"enterDescription",name:"description",placeholder:l("texts.plants.createPlant.form.enterPlaceholder"),className:"mb-4 form-control is-width-full"}),Object(_e.jsx)("label",{htmlFor:"enterSize",children:l("texts.plants.createPlant.form.size")}),Object(_e.jsx)("input",{type:"number",id:"enterSize",name:"size",placeholder:l("texts.plants.createPlant.form.enterPlaceholder"),min:"1",className:"mb-4 form-control is-width-full"}),Object(_e.jsx)("label",{htmlFor:"enterLocation",children:l("texts.plants.createPlant.form.location")}),Object(_e.jsxs)("select",{id:"enterLocation",name:"location",className:"mb-4 form-control p-2",children:[Object(_e.jsx)("option",{children:l("select.location.title")}),Object(_e.jsx)("option",{value:"sun",children:l("select.location.sun")}),Object(_e.jsx)("option",{value:"shade",children:l("select.location.shade")}),Object(_e.jsx)("option",{value:"sun and shade",children:l("select.location.sunAndShade")})]}),Object(_e.jsx)("label",{htmlFor:"enterPrice",children:l("texts.plants.createPlant.form.price")}),Object(_e.jsx)("input",{type:"number",id:"enterPrice",name:"price",placeholder:l("texts.plants.createPlant.form.enterPlaceholder"),min:"1",className:"mb-4 form-control is-width-full"}),Object(_e.jsx)("label",{htmlFor:"enterImage",children:l("texts.plants.createPlant.form.image")}),Object(_e.jsx)("input",{type:"file",id:"enterImage",name:"plantImage",className:"mb-4 form-control is-width-full"}),Object(_e.jsx)(rt,{message:s,outputFunction:function(e){switch(e){case"Form: Name missing":return l("errorTexts.plants.createPlant.form.nameMissing");case"Form: Description missing":return l("errorTexts.plants.createPlant.form.descriptionMissing");case"Form: Size missing":return l("errorTexts.plants.createPlant.form.sizeMissing");case"Form: Location missing":return l("errorTexts.plants.createPlant.form.locationMissing");case"Form: Price missing":return l("errorTexts.plants.createPlant.form.priceMissing");case"Form: Image missing":return l("errorTexts.plants.createPlant.form.imageMissing");default:return l("errorTexts.general")}}}),Object(_e.jsxs)("div",{className:"col-12 text-right pr-0",children:[Object(_e.jsx)("button",{type:"submit",disabled:!(!t&&!n),className:"ml-4 mb-2 btn btn-sm form-control is-width-medium",children:l("button.create")}),Object(_e.jsx)("button",{className:"ml-4 mb-2 btn btn-sm form-control is-width-medium",onClick:function(){c.goBack()},children:l("button.goBack")})]})]})]})}):Object(_e.jsx)(i.a,{to:"/auth/unauthorized"})},pt=function(){var e=Object(o.a)().t;return Object(_e.jsxs)("div",{children:[Object(_e.jsx)(l.b,{to:"/plants/checkout",className:"is-link",children:Object(_e.jsx)("button",{className:"btn btn-sm ml-2 form-control is-width-medium mb-2",children:e("button.buy")})}),Object(_e.jsx)(l.b,{to:"/messages/create",className:"is-link",children:Object(_e.jsx)("button",{className:"btn btn-sm ml-2 form-control is-width-medium mb-2",children:e("button.swap")})})]})},mt=function(){var e=p((function(e){return e.jungleSwap.plant})),t=p((function(e){return e.jungleSwap.isDeletingPlant})),n=p((function(e){return e.jungleSwap.isDeletingPlantImage})),a=p((function(e){return e.jungleSwap.messages})),s=p((function(e){return e.jungleSwap.isDeletingMessage})),r=d(),c=Object(i.g)(),u=Object(o.a)().t,m=e,h=m._id,j=m.imagePublicId;return Object(_e.jsxs)("div",{className:"p-0",children:[Object(_e.jsx)(l.b,{to:"/plants/update",className:"is-link",children:Object(_e.jsx)("button",{className:"btn btn-sm ml-2 form-control is-width-medium mb-2",children:u("button.update")})}),Object(_e.jsx)("button",{disabled:!!(s||n||t),className:"btn btn-sm ml-2 form-control is-width-medium mb-2",onClick:function(){new Ae(r).deleteRemaining(a,h),new ut(r).delete({imagePublicId:j}),new Ye(r).delete(h,(function(){c.goBack()}))},children:u("button.delete")})]})},ht=function(e){return e.isCreator?Object(_e.jsx)(mt,{}):Object(_e.jsx)(pt,{})},jt=function(e){var t=e.plant,n=p((function(e){return e.jungleSwap.loggedInUser})),a=Object(i.g)(),s=Object(o.a)().t,r=t.name,c=t.description,l=t.size,u=t.imageUrl,d=t.location,m=t.price,h=t.creator._id;return Object(_e.jsx)("div",{className:"col",children:Object(_e.jsxs)("div",{className:"card is-card-width-large",children:[Object(_e.jsx)("img",{src:u,loading:"lazy",alt:r,className:"card-img-top is-image-size-large"}),Object(_e.jsxs)("div",{className:"ml-2 mt-2",children:[Object(_e.jsx)("span",{className:"is-text-bold",children:s("texts.plants.plantDetails.name")})," ",r]}),Object(_e.jsxs)("div",{className:"ml-2 mt-2",children:[Object(_e.jsx)("span",{className:"is-text-bold",children:s("texts.plants.plantDetails.description")})," ",c]}),Object(_e.jsxs)("div",{className:"ml-2 mt-2",children:[Object(_e.jsx)("span",{className:"is-text-bold",children:s("texts.plants.plantDetails.size")})," ",l," ",s("texts.plants.plantDetails.sizeUnit")]}),Object(_e.jsxs)("div",{className:"ml-2 mt-2",children:[Object(_e.jsx)("span",{children:s("texts.plants.plantDetails.likes")})," ",d]}),Object(_e.jsxs)("div",{className:"ml-2 mt-2",children:[Object(_e.jsx)("span",{className:"is-text-bold",children:s("texts.plants.plantDetails.price")})," ",m," ",s("texts.plants.plantDetails.currency")]}),Object(_e.jsx)("div",{className:"ml-2 mt-2 col justify-content-center",children:Object(_e.jsx)("div",{className:"row-2 justify-content-center",children:Object(_e.jsxs)("div",{className:"card-body text-right pt-0",children:[Object(_e.jsx)(ht,{isCreator:n._id===h}),Object(_e.jsx)("button",{className:"btn btn-sm ml-2 form-control is-width-medium mb-3",onClick:function(){a.goBack()},children:s("button.goBack")})]})})})]})})},ft=function(){var e=p((function(e){return e.jungleSwap.loggedInUser})),t=p((function(e){return e.jungleSwap.plant})),n=p((function(e){return e.jungleSwap.isFetchingPlant})),s=Object(i.h)().plantId,r=d(),c=Object(o.a)().t,l=t.creator;return Object(a.useEffect)((function(){new ot(r).protect((function(){new Ye(r).fetch(s,(function(){x.animateScroll.scrollToTop()}))}))}),[]),e?Object(_e.jsxs)("div",{className:"container mt-5 row row-md-10 offset-md-4",children:[Object(_e.jsx)("div",{className:"mt-4 mb-3 pt-4 container",children:Object(_e.jsx)("h2",{children:c("texts.plants.plantDetails.headline")})}),n||!l?Object(_e.jsx)(Ke,{}):Object(_e.jsx)(jt,{plant:t})]}):Object(_e.jsx)(i.a,{to:"/auth/sign-up"})},bt=function(){var e=p((function(e){return e.jungleSwap.loggedInUser})),t=p((function(e){return e.jungleSwap.isUploadingPlantImage})),n=p((function(e){return e.jungleSwap.isDeletingPlantImage})),s=p((function(e){return e.jungleSwap.destroyImageData})),r=p((function(e){return e.jungleSwap.plant})),c=p((function(e){return e.jungleSwap.isUpdatingPlant})),l=d(),u=Object(i.g)(),m=Object(a.useRef)(null),h=Object(o.a)().t,j=r,f=j.name,b=j.description,g=j.size,O=j.imageUrl,w=j.price;Object(a.useEffect)((function(){new ot(l).protect((function(){!function(e){var t=e.location;t&&(m.current.value=t)}(r),x.animateScroll.scrollToTop()}))}),[]);var v=function(e,t){var n=e.target,a=JSON.parse(JSON.stringify(t));switch(n.name){case"name":a.name=n.value;break;case"description":a.description=n.value;break;case"size":a.size=n.value;break;case"location":a.location=n.value;break;case"price":a.price=n.value}l(X(a))};return e?Object(_e.jsx)("div",{className:"container row mt-5 ",children:Object(_e.jsxs)("div",{className:"mt-2 col-12 col-md-6 offset-md-6",children:[Object(_e.jsx)("h2",{className:"mt-5 mb-4 text-left",children:h("texts.plants.updatePlant.form.headline")}),Object(_e.jsxs)("div",{className:"card is-card-width-large mb-5",children:[t||n||c?Object(_e.jsx)(Ke,{}):Object(_e.jsx)("img",{src:O,loading:"lazy",alt:f,className:"mb-2 is-image-size-medium"}),Object(_e.jsxs)("div",{className:"card-body",children:[Object(_e.jsx)("label",{htmlFor:"updateName",children:h("texts.plants.updatePlant.form.name")}),Object(_e.jsx)("input",{type:"text",id:"updateName",name:"name",value:f,className:"mb-4 form-control",onChange:function(e){v(e,r)}}),Object(_e.jsx)("label",{htmlFor:"updateDescription",children:h("texts.plants.updatePlant.form.description")}),Object(_e.jsx)("input",{type:"text",id:"updateDescription",name:"description",value:b,className:"mb-4 form-control",onChange:function(e){v(e,r)}}),Object(_e.jsx)("label",{htmlFor:"updateSize",children:h("texts.plants.updatePlant.form.size")}),Object(_e.jsx)("input",{type:"number",id:"updateSize",name:"size",value:g,min:"1",className:"mb-4 form-control",onChange:function(e){v(e,r)}}),Object(_e.jsx)("label",{htmlFor:"updateLocation",children:h("texts.plants.updatePlant.form.location")}),Object(_e.jsxs)("select",{ref:m,id:"updateLocation",name:"location",className:"mb-4 form-control px-2",onChange:function(e){v(e,r)},children:[Object(_e.jsx)("option",{value:"sun",children:h("select.location.sun")}),Object(_e.jsx)("option",{value:"shade",children:h("select.location.shade")}),Object(_e.jsx)("option",{value:"sun and shade",children:h("select.location.sunAndShade")})]}),Object(_e.jsx)("label",{htmlFor:"updatePrice",children:h("texts.plants.updatePlant.form.price")}),Object(_e.jsx)("input",{type:"number",id:"updatePrice",name:"price",value:w,min:"1",className:"mb-4 form-control",onChange:function(e){v(e,r)}}),Object(_e.jsx)("label",{htmlFor:"updateImage",children:h("texts.plants.updatePlant.form.image")}),Object(_e.jsx)("input",{type:"file",id:"updateImage",name:"plantImage",className:"mb-4 form-control",onChange:function(e){!function(e,t){var n=e.target,a=t.imagePublicId,s=n.files[0];l(se({imagePublicId:a}));var c=new FormData;c.append("image",s),new ut(l).create(c,(function(e){var t=e.imageUrl,n=e.imagePublicId,a=JSON.parse(JSON.stringify(r));a.imagePublicId=n,a.imageUrl=t,l(X(a))}))}(e,r)}}),Object(_e.jsx)("div",{className:"col-12 text-right pr-0",children:Object(_e.jsx)("button",{disabled:!!(t||n||c),className:"btn btn-sm ml-4 form-control is-width-medium mb-2",onClick:function(){s&&new ut(l).delete(s);new Ye(l).update(r,(function(){u.goBack()}))},children:h("button.save")})})]})]})]})}):Object(_e.jsx)(i.a,{to:"/auth/unauthorized"})},gt=n(68),xt=n(26),Ot=function e(t){var n=this;Object(ze.a)(this,e),this.dispatch=void 0,this.initialize=function(e){n.dispatch(R(e)).unwrap().then((function(e){n.dispatch(re(e.clientSecret))})).catch((function(e){n.dispatch(Ue(e.message))}))},this.dispatch=t},wt=function(){var e=Object(a.useState)(!1),t=Object(Ze.a)(e,2),n=t[0],s=t[1],r=Object(a.useState)(!1),c=Object(Ze.a)(r,2),u=c[0],m=c[1],f=Object(a.useState)(!0),b=Object(Ze.a)(f,2),g=b[0],x=b[1],O=Object(a.useState)(""),w=Object(Ze.a)(O,2),v=w[0],N=w[1],y=p((function(e){return e.jungleSwap.clientSecret})),P=p((function(e){return e.jungleSwap.plant})),S=d(),I=Object(i.g)(),k=Object(xt.useStripe)(),C=Object(xt.useElements)(),F=Object(o.a)().t,U=P,M=U._id,T=U.name,R=U.price;Object(a.useEffect)((function(){return new Ot(S).initialize(P),function(){I.push("/"),S(Fe())}}),[]);var q=function(){var e=Object(j.a)(h.a.mark((function e(t){return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:x(t.empty),N(t.error?t.error.message:"");case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),D=function(){var e=Object(j.a)(h.a.mark((function e(t){var n;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.preventDefault(),k&&C){e.next=3;break}return e.abrupt("return");case 3:return m(!0),e.next=6,k.confirmCardPayment(y,{payment_method:{card:C.getElement(xt.CardElement)}});case 6:(n=e.sent).error?(N("Payment failed ".concat(n.error.message)),m(!1)):(N(""),m(!1),s(!0));case 8:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(_e.jsxs)("div",{className:"container col-md-9 col-sm-12",children:[Object(_e.jsx)("h2",{className:"mb-4 is-word-break",children:T}),Object(_e.jsxs)("h3",{className:"mb-4",children:[F("texts.plants.checkout.form.price")," ",R," ",F("texts.plants.checkout.form.currency")]}),Object(_e.jsxs)("form",{id:"payment-form",className:"checkoutForm form-style mt-5",onSubmit:D,children:[Object(_e.jsx)(xt.CardElement,{id:"card-element",options:{style:{base:{color:"#32325d",fontFamily:"Arial, sans-serif",fontSmoothing:"antialiased",fontSize:"16px","::placeholder":{color:"#32325d"}},invalid:{color:"#fa755a",iconColor:"#fa755a"}}},className:"p-2",onChange:q}),Object(_e.jsx)("div",{className:"row justify-content-center",children:Object(_e.jsx)("button",{type:"submit",id:"submit",disabled:u||g||n,className:"btn btn-sm mt-5 mb-4 card-button",children:Object(_e.jsx)("span",{id:"button-text",children:u?Object(_e.jsx)("div",{id:"spinner",className:"spinner is-text-bold"}):F("texts.plants.checkout.form.payNow")})})}),v&&Object(_e.jsx)("div",{role:"alert",className:"card-error",children:v}),Object(_e.jsx)("p",{className:n?"result-message text-center":"is-hidden",children:F("texts.plants.checkout.form.paymentSuccessful")})]}),Object(_e.jsx)("div",{className:"row justify-content-center",children:n?Object(_e.jsx)(l.b,{to:"/",onClick:function(){S(Fe())},className:"is-link",children:Object(_e.jsx)("button",{className:"btn btn-sm form-control",children:F("button.goBack")})}):Object(_e.jsx)(l.b,{to:"/plants/fetch/".concat(M),className:"is-link",children:Object(_e.jsx)("button",{className:"btn btn-sm form-control pl-3 pr-3",children:F("button.goBack")})})})]})},vt=Object(gt.a)("pk_test_51IQBsPA6EAM4YnfDyrjHWnLHzZ5KkI9tsERzYhBGVoctZBrFUb4Sda035HvcQKpp7thFiqW6QmO8ytPbOAMTg33z00cHvcbojv"),Nt=function(){var e=p((function(e){return e.jungleSwap.loggedInUser})),t=d();return Object(a.useEffect)((function(){new ot(t).protect((function(){x.animateScroll.scrollToTop()}))}),[]),e?Object(_e.jsx)("div",{className:"container row mt-5",children:Object(_e.jsx)("div",{className:"mt-5 col-11 col-md-6 offset-1 offset-md-5",children:Object(_e.jsx)(xt.Elements,{stripe:vt,children:Object(_e.jsx)(wt,{})})})}):Object(_e.jsx)(i.a,{to:"/auth/unauthorized"})},yt=function(e){var t=e.message,n=Object(o.a)().t,a=t._id,s=t.buyer,r=t.plant.name,c=s.username;return Object(_e.jsxs)("div",{className:"card p-3 mt-4",children:[Object(_e.jsxs)("h4",{children:[n("texts.requests.requestTile.subheadline")," ",r]}),Object(_e.jsx)("h5",{children:c}),Object(_e.jsx)("div",{className:"text-center",children:Object(_e.jsx)(l.b,{to:"/requests/fetch/".concat(a),className:"btn is-width-medium form-control is-link",children:n("link.details")})})]})},Pt=function(){var e=p((function(e){return e.jungleSwap.loggedInUser})),t=p((function(e){return e.jungleSwap.messages}));return Object(_e.jsx)("div",{children:t.map((function(t){var n=t._id,a=t.seller,s=t.messageState;return a._id===e._id&&!0===s?Object(_e.jsx)(yt,{message:t},n):null}))})},St=function(){var e=function(){var e=Object(i.g)();return{goToHome:function(){e.push("/"),x.animateScroll.scrollToTop()}}}(),t=Object(o.a)().t;return Object(_e.jsx)("div",{className:"text-right pr-2",children:Object(_e.jsx)("button",{className:"btn btn-sm mt-4 is-width-medium form-control",onClick:function(){e.goToHome()},children:t("button.goBack")})})},It=function(){var e=p((function(e){return e.jungleSwap.loggedInUser})),t=p((function(e){return e.jungleSwap.isUserChange})),n=p((function(e){return e.jungleSwap.isFetchingMessages})),s=p((function(e){return e.jungleSwap.amountOfRequests})),r=d(),c=Object(o.a)().t;return Object(a.useEffect)((function(){var e=function(){r(fe(!1)),x.animateScroll.scrollToTop()};return new ot(r).protect((function(){new Ae(r).fetchAll((function(){t&&r(ge()),e()}))})),function(){e()}}),[]),e?Object(_e.jsx)("div",{className:"container row mt-5",children:Object(_e.jsxs)("div",{className:"mt-5 col-11 col-md-5 offset-1 offset-md-5",children:[Object(_e.jsx)("h2",{children:c("texts.requests.overview.headline")}),Object(_e.jsxs)("h3",{className:"mb-4",children:[" [",s,"] "]}),Object(_e.jsx)(St,{}),n?Object(_e.jsx)(Ke,{}):Object(_e.jsx)(Pt,{}),0!==s&&Object(_e.jsx)(St,{})]})}):Object(_e.jsx)(i.a,{to:"/auth/unauthorized"})},kt=function(e){var t=e.message,n=t._id,a=t.seller,s=t.plant.name,r=a.username,c=Object(o.a)().t;return Object(_e.jsxs)("div",{className:"card p-3 mt-4 ",children:[Object(_e.jsxs)("h4",{children:[c("texts.replies.replyTile.headline")," ",s]}),Object(_e.jsxs)("h5",{children:[c("texts.replies.replyTile.subheadline")," ",r]}),Object(_e.jsx)("div",{className:"text-center",children:Object(_e.jsx)(l.b,{to:"/replies/fetch/".concat(n),className:"btn is-width-medium form-control is-link",children:c("link.details")})})]})},Ct=function(){var e=p((function(e){return e.jungleSwap.loggedInUser})),t=p((function(e){return e.jungleSwap.messages}));return Object(_e.jsx)("div",{children:t.map((function(t){var n=t._id,a=t.buyer,s=t.reply;return a._id===e._id&&""!==s?Object(_e.jsx)(kt,{message:t},n):null}))})},Ft=function(){var e=p((function(e){return e.jungleSwap.loggedInUser})),t=p((function(e){return e.jungleSwap.isUserChange})),n=p((function(e){return e.jungleSwap.isFetchingMessages})),s=p((function(e){return e.jungleSwap.amountOfReplies})),r=d(),c=Object(o.a)().t;return Object(a.useEffect)((function(){var e=function(){r(be(!1)),x.animateScroll.scrollToTop()};return new ot(r).protect((function(){new Ae(r).fetchAll((function(){t&&r(xe()),e()}))})),function(){e()}}),[]),e?Object(_e.jsx)("div",{className:"container row mt-5",children:Object(_e.jsxs)("div",{className:"mt-5 col-11 col-md-5 offset-1 offset-md-5",children:[Object(_e.jsx)("h2",{children:c("texts.replies.overview.headline")}),Object(_e.jsxs)("h3",{className:"mb-4",children:[" [",s,"] "]}),Object(_e.jsx)(St,{}),n?Object(_e.jsx)(Ke,{}):Object(_e.jsx)(Ct,{}),0!==s&&Object(_e.jsx)(St,{})]})}):Object(_e.jsx)(i.a,{to:"/auth/unauthorized"})},Ut=function(){var e=p((function(e){return e.jungleSwap.loggedInUser})),t=p((function(e){return e.jungleSwap.plant})),n=p((function(e){return e.jungleSwap.isCreatingMessage})),s=p((function(e){return e.jungleSwap.errorMessage})),r=d(),c=Object(i.g)(),l=Object(o.a)().t,u=t.name;Object(a.useEffect)((function(){new ot(r).protect((function(){r(Ue(null)),x.animateScroll.scrollToTop()}))}),[]);return e?Object(_e.jsx)("div",{className:"container row mt-5",children:Object(_e.jsxs)("div",{className:"mt-5 col-11 col-md-5 offset-1 offset-md-5",children:[Object(_e.jsx)("h2",{className:"mb-4",children:l("texts.requests.createRequest.form.headline")}),Object(_e.jsxs)("h3",{className:"mb-4",children:[l("texts.requests.createRequest.form.subheadline")," ",u]}),Object(_e.jsxs)("form",{className:"pl-0 form-style",onSubmit:function(e){!function(e,t){var n=t._id,a=t.creator,s=e.target.request,i={seller:a._id,plant:n,request:s.value};e.preventDefault(),new Ae(r).create(i,(function(){c.goBack()}))}(e,t)},children:[Object(_e.jsx)("div",{children:Object(_e.jsx)("textarea",{name:"request",cols:35,rows:7,className:"mb-4 form-control is-width-full"})}),Object(_e.jsx)(rt,{message:s,outputFunction:function(e){switch(e){case"Form: Request text missing":return l("errorTexts.messages.createRequest.form.requestTextMissing");default:return l("errorTexts.general")}}}),Object(_e.jsxs)("div",{className:"text-right",children:[Object(_e.jsx)("button",{type:"submit",disabled:!!n,className:"btn btn-sm mx-2 form-control is-width-medium",children:l("button.send")}),Object(_e.jsx)("button",{className:"btn btn-sm mx-2 form-control is-width-medium",onClick:function(){c.goBack()},children:l("button.goBack")})]})]})]})}):Object(_e.jsx)(i.a,{to:"/auth/unauthorized"})},Mt=function(e){var t=e.text;return Object(_e.jsxs)("div",{className:"container d-flex align-items-center justify-content-center mt-5",children:[Object(_e.jsx)(Ke,{}),Object(_e.jsx)("span",{className:"is-text-bold",children:t})]})},Tt=function(e){var t=e.headline,n=e.text;return n?Object(_e.jsxs)("div",{children:[Object(_e.jsx)("h5",{children:t}),Object(_e.jsx)("p",{className:"text-field p-3 mb-4",children:n})]}):null},Rt=function(){var e=p((function(e){return e.jungleSwap.loggedInUser})),t=p((function(e){return e.jungleSwap.isFetchingMessage})),n=p((function(e){return e.jungleSwap.message})),s=Object(i.h)().messageId,r=d(),c=Object(i.g)(),u=Object(o.a)().t,m=n,h=m._id,j=m.buyer,f=m.plant,b=m.request,g=m.reply;Object(a.useEffect)((function(){new ot(r).protect((function(){new Ae(r).fetch(s,(function(){x.animateScroll.scrollToTop()}))}))}),[]);if(!e)return Object(_e.jsx)(i.a,{to:"/auth/unauthorized"});if(t||!j||!f)return Object(_e.jsx)(Mt,{text:"Loading request"});var O=f.name,w=j.username;return Object(_e.jsx)("div",{className:"container row mt-5 ",children:Object(_e.jsxs)("div",{className:"mt-5 col-11 col-md-5 offset-1 offset-md-5",children:[Object(_e.jsxs)("h2",{className:"mb-5",children:[u("texts.requests.requestDetails.headline")," ",O]}),Object(_e.jsxs)("h5",{children:[u("texts.requests.requestDetails.subheadline")," ",w]}),Object(_e.jsx)("p",{className:"text-field p-3 mb-4",children:b}),Object(_e.jsx)(Tt,{headline:u("texts.requests.requestDetails.yourReply"),text:g}),Object(_e.jsxs)("div",{className:"text-right px-3",children:[!g&&Object(_e.jsx)(l.b,{to:"/messages/update/".concat(h),className:"is-link",children:Object(_e.jsx)("button",{className:"btn btn-sm ml-2 is-width-medium form-control mb-1",children:u("button.reply")})}),Object(_e.jsx)("button",{className:"btn btn-sm ml-2 is-width-medium form-control mb-1",onClick:function(){!function(e){t=function(e){var t=JSON.parse(JSON.stringify(e));return t.messageState=!1,r(me(t)),t}(e),new Ae(r).update(t._id,t,(function(){r(ve()),c.goBack()}));var t}(n)},children:u("button.done")})]}),Object(_e.jsx)("div",{className:"text-right px-3",children:Object(_e.jsx)(l.b,{to:"/requests/fetch-all",className:"is-link",onClick:x.animateScroll.scrollToTop,children:Object(_e.jsx)("button",{className:"btn btn-sm mt-4 is-width-medium form-control",children:u("button.goBack")})})})]})})},qt=function(){var e=p((function(e){return e.jungleSwap.loggedInUser})),t=p((function(e){return e.jungleSwap.message})),n=p((function(e){return e.jungleSwap.isFetchingMessage})),s=p((function(e){return e.jungleSwap.isDeletingMessage})),r=Object(i.h)().messageId,c=d(),u=Object(i.g)(),m=Object(o.a)().t,h=t,j=h._id,f=h.seller,b=h.plant,g=h.request,O=h.reply;Object(a.useEffect)((function(){new ot(c).protect((function(){new Ae(c).fetch(r,(function(){x.animateScroll.scrollToTop()}))}))}),[]);if(!e)return Object(_e.jsx)(i.a,{to:"/auth/unauthorized"});if(n||!f||!b)return Object(_e.jsx)(Mt,{text:"Loading reply"});var w=b.name,v=f.username;return Object(_e.jsx)("div",{className:"container row mt-5 ",children:Object(_e.jsxs)("div",{className:"mt-5 col-11 col-md-5 offset-1 offset-md-5",children:[Object(_e.jsxs)("h2",{className:"mb-5",children:[m("texts.replies.replyDetails.headline")," ",w]}),Object(_e.jsx)("p",{className:"text-field p-3 mb-4",children:g}),Object(_e.jsx)(Tt,{headline:"".concat(m("texts.replies.replyDetails.replyBy")," ").concat(v),text:O}),Object(_e.jsx)("div",{className:"text-right px-3",children:Object(_e.jsx)("button",{disabled:!!s,className:"btn btn-sm ml-2 is-width-medium form-control mb-1",onClick:function(){!function(e){new Ae(c).delete(e,(function(){c(Ne()),u.goBack()}))}(j)},children:m("button.delete")})}),Object(_e.jsx)("div",{className:"text-right px-3",children:Object(_e.jsx)(l.b,{to:"/replies/fetch-all",className:"is-link",onClick:x.animateScroll.scrollToTop,children:Object(_e.jsx)("button",{className:"btn btn-sm mt-4 is-width-medium form-control",children:m("button.goBack")})})})]})})},Dt=function(){var e=p((function(e){return e.jungleSwap.loggedInUser})),t=p((function(e){return e.jungleSwap.message})),n=p((function(e){return e.jungleSwap.isUpdatingMessage})),s=p((function(e){return e.jungleSwap.errorMessage})),r=d(),c=Object(i.g)(),l=Object(o.a)().t,u=t.request;Object(a.useEffect)((function(){new ot(r).protect((function(){x.animateScroll.scrollToTop()}))}),[]);return e?Object(_e.jsx)("div",{className:"container row mt-5 ",children:Object(_e.jsxs)("div",{className:"mt-2 col-11 col-md-5 offset-1 offset-md-5",children:[Object(_e.jsx)("h2",{className:"mt-5 mb-4",children:l("texts.requests.updateRequest.form.headline")}),Object(_e.jsx)("div",{className:"card is-card-width-small mb-5",children:Object(_e.jsxs)("div",{className:"card-body",children:[Object(_e.jsx)("p",{children:u}),Object(_e.jsx)("textarea",{name:"reply",placeholder:l("texts.requests.updateRequest.form.replyPlaceholder"),cols:31,rows:6,className:"mb-4 form-control is-width-full",onChange:function(e){!function(e,t){var n=e.target,a=JSON.parse(JSON.stringify(t));a.reply=n.value,r(me(a))}(e,t)}}),Object(_e.jsx)(rt,{message:s,outputFunction:function(e){switch(e){case"Form: Reply text missing":return l("errorTexts.messages.updateRequest.form.replyTextMissing");default:return l("errorTexts.general")}}}),Object(_e.jsxs)("div",{className:"row justify-content-end px-3",children:[Object(_e.jsx)("button",{disabled:!!n,className:"btn btn-sm is-width-medium form-control mr-3 mb-2",onClick:function(){var e;e=t,new Ae(r).update(e._id,e,(function(){c.goBack()}))},children:l("button.submit")}),Object(_e.jsx)("button",{className:"btn btn-sm is-width-medium form-control mb-2",onClick:function(){c.goBack()},children:l("button.goBack")})]})]})})]})}):Object(_e.jsx)(i.a,{to:"/auth/unauthorized"})},Et=function(){var e=Object(o.a)().t;return Object(_e.jsx)("div",{className:"unauthorized has-background-image2",children:Object(_e.jsxs)("div",{children:[Object(_e.jsx)("h1",{children:e("texts.unauthorized.headline")}),Object(_e.jsx)("h2",{children:e("texts.unauthorized.subheadline1")}),Object(_e.jsx)("h3",{children:e("texts.unauthorized.subheadline2")})]})})},zt=function(){var e=Object(o.a)().t;return Object(_e.jsx)("div",{className:"not-found has-background-image2",children:Object(_e.jsxs)("div",{children:[Object(_e.jsx)("h1",{children:e("texts.notFound.headline")}),Object(_e.jsx)("h2",{children:e("texts.notFound.subheadline1")}),Object(_e.jsx)("h3",{children:e("texts.notFound.subheadline2")}),Object(_e.jsx)(l.b,{to:"/",className:"is-link",children:Object(_e.jsx)("button",{className:"ml-2 btn btn-sm is-width-medium form-control",children:e("button.takeMeHome")})})]})})},At=function(){return Object(a.useEffect)((function(){!function(e,t){var n=e.createElement("script");n.type="text/javascript",n.async=!0,n.src="https://widget.kommunicate.io/v2/kommunicate.app",e.getElementsByTagName("head")[0].appendChild(n),window.kommunicate=t,t._globals={appId:"10b22c52854a305b79bbdecc356bea5",popupWidget:!0,automaticChatOpenOnNavigation:!0}}(document,window.kommunicate||{})}),[]),Object(_e.jsx)("div",{})},_t=function(){var e=p((function(e){return e.jungleSwap.loggedInUser})),t=p((function(e){return e.jungleSwap.plants}));return Object(_e.jsx)("div",{className:"row row-cols-1 row-cols-md-2 row-cols-lg-2 row-cols-xl-3 row-cols-xxl-3",children:t.map((function(t){var n=t._id;return t.creator._id===e._id?Object(_e.jsx)($e,{plant:t},n):null}))})},Bt=function(){var e=p((function(e){return e.jungleSwap.loggedInUser})),t=p((function(e){return e.jungleSwap.isFetchingPlants})),n=d(),s=Object(o.a)().t;return Object(a.useEffect)((function(){new ot(n).protect((function(){new Ye(n).fetchAll((function(){x.animateScroll.scrollToTop()}))}))}),[]),e?Object(_e.jsxs)("div",{className:"container mt-5",children:[Object(_e.jsx)("div",{className:"mt-5 mb-5",children:Object(_e.jsx)("h2",{children:s("texts.plants.myPlants.headline")})}),t?Object(_e.jsx)(Ke,{}):Object(_e.jsx)(_t,{})]}):Object(_e.jsx)(i.a,{to:"/auth/unauthorized"})},Lt=Object(a.createContext)(!0),Ht=function(e){var t=e.children,n=Object(a.useState)(!0),s=Object(Ze.a)(n,2),r=s[0],c=s[1];return Object(a.useEffect)((function(){var e=function(){c(!1)},t=function(){c(!0)};return window.addEventListener("offline",e),window.addEventListener("online",t),function(){window.removeEventListener("offline",e),window.removeEventListener("online",t)}}),[]),Object(_e.jsx)(Lt.Provider,{value:r,children:t})},Jt=function(e){var t=e.headline,n=e.subheadline,s=e.text,r=e.isClose,c=Object(a.useRef)(null),i=d(),l=Object(o.a)().t,u=function(){i(Ue(null))};return Object(_e.jsx)("div",{ref:c,className:"error-modal fade-error-modal-in",onClick:function(e){r&&function(e){c.current===e.target&&u()}(e)},children:Object(_e.jsxs)("div",{className:"error-modal-box",children:[Object(_e.jsx)("h1",{children:t}),Object(_e.jsx)("h2",{children:n}),Object(_e.jsx)("h3",{children:s}),r&&Object(_e.jsx)("button",{className:"btn form-control is-width-small mt-4 mb-3",onClick:u,children:l("button.proceed")})]})})},Vt=function(e){var t=e.message,n=Object(o.a)().t;return!t||t.includes("Form")?null:Object(_e.jsx)(Jt,{headline:n("texts.errorModal.headline"),subheadline:n("texts.errorModal.subheadline"),text:function(e){switch(e){case"Error while creating user":return n("errorTexts.authentification.signUp.errorWhileCreatingUser");case"User does not exist":return n("errorTexts.authentification.signIn.userUnknown");case"Could not update user":return n("errorTexts.authentification.logOut.noUserUpdate");case"Create plant failed":return n("errorTexts.plants.createPlantFailed");case"Fetch plant failed":return n("errorTexts.plants.fetchPlantFailed");case"Fetch all plants failed":return n("errorTexts.plants.techAllPlantsFailed");case"Search plant failed":return n("errorTexts.plants.searchPlantFailed");case"Update plant failed":return n("errorTexts.plants.updatePlantFailed");case"Delete plant failed":return n("errorTexts.plants.deletePlantFailed");case"Create message failed":return n("errorTexts.messages.createMessageFailed");case"Fetch message failed":return n("errorTexts.messages.fetchMessageFailed");case"Fetch all messages failed":return n("errorTexts.messages.fetchAllMessagesFailed");case"Update message failed":return n("errorTexts.updateMessageFailed");case"Delete message failed":return n("errorTexts.deleteMessageFailed");default:return n("errorTexts.general")}}(t),isClose:!0})},Yt=function(e){var t=e.isOnline,n=Object(o.a)().t;return t?null:Object(_e.jsx)(Jt,{headline:n("texts.offlineModal.headline"),subheadline:n("texts.offlineModal.subheadline"),text:n("errorTexts.offline"),isClose:!1})},Wt=function(){var e=p((function(e){return e.jungleSwap.errorMessage})),t=Object(a.useContext)(Lt);return t?Object(_e.jsx)(Vt,{message:e}):Object(_e.jsx)(Yt,{isOnline:t})},Qt=Object(i.i)((function(){return Object(_e.jsxs)("div",{children:[Object(_e.jsx)(Je,{}),Object(_e.jsxs)(i.d,{children:[Object(_e.jsx)(i.b,{exact:!0,path:"/",children:Object(_e.jsx)(at,{})}),Object(_e.jsx)(i.b,{path:"/auth/sign-up",children:Object(_e.jsx)(ct,{})}),Object(_e.jsx)(i.b,{path:"/auth/sign-in",children:Object(_e.jsx)(it,{})}),Object(_e.jsx)(i.b,{path:"/auth/log-out",children:Object(_e.jsx)(lt,{})}),Object(_e.jsx)(i.b,{path:"/auth/unauthorized",children:Object(_e.jsx)(Et,{})}),Object(_e.jsx)(i.b,{path:"/plants/create",children:Object(_e.jsx)(dt,{})}),Object(_e.jsx)(i.b,{path:"/plants/fetch/:plantId",children:Object(_e.jsx)(ft,{})}),Object(_e.jsx)(i.b,{path:"/plants/update",children:Object(_e.jsx)(bt,{})}),Object(_e.jsx)(i.b,{path:"/plants/checkout",children:Object(_e.jsx)(Nt,{})}),Object(_e.jsx)(i.b,{path:"/plants/my-own",children:Object(_e.jsx)(Bt,{})}),Object(_e.jsx)(i.b,{path:"/messages/create",children:Object(_e.jsx)(Ut,{})}),Object(_e.jsx)(i.b,{path:"/messages/update",children:Object(_e.jsx)(Dt,{})}),Object(_e.jsx)(i.b,{path:"/requests/fetch-all",children:Object(_e.jsx)(It,{})}),Object(_e.jsx)(i.b,{path:"/requests/fetch/:messageId",children:Object(_e.jsx)(Rt,{})}),Object(_e.jsx)(i.b,{path:"/replies/fetch-all",children:Object(_e.jsx)(Ft,{})}),Object(_e.jsx)(i.b,{path:"/replies/fetch/:messageId",children:Object(_e.jsx)(qt,{})}),Object(_e.jsx)(i.b,{component:zt})]}),Object(_e.jsx)(At,{}),Object(_e.jsx)(Ve,{}),Object(_e.jsx)(Wt,{})]})})),Gt=Object(f.a)({reducer:{jungleSwap:Me}}),Kt=n(50),Zt=n(33),Xt={translations:{link:{jungleSwap:"JungleSwap",allPlants:"All Plants",myPlants:"My Plants",createPlant:"Create Plant",requests:"Requests",replies:"Replies",logOut:"Log out",tryIt:"Try it!",signIn:"Sign in",signUp:"Sign up",details:"Details",tooltipps:{newRequest:"new request",newReply:"new reply",search:"search plant"}},button:{signIn:"Sign in",signUp:"Sign up",create:"Create",update:"Update",save:"Save",delete:"Delete",send:"Send",submit:"Submit",buy:"Buy",swap:"Swap",reply:"Reply",done:"Done",goBack:"Back",more:"More",proceed:"Proceed",takeMeHome:"Take me home"},select:{location:{title:"Select location",sun:"sun",shade:"shade",sunAndShade:"sun and shade"}},texts:{home:{title:{headline:"JungleSwap",subheadline:"Share your green heart"},about:{headline:"Welcome to JungleSwap!",subheadline:"Add green to your Home",paragraph:{line1:"It's easy-peasy.",line2:"Share your plant offshoots.",line3:"Make money!",line4:"Or swap them for another plant.",line5:"Don't have any baby plants?",line6:"You can simply shop and give a plant a new home."}},allPlants:{headline:"Plants"},searchPlant:{headline:"Search a plant",namePlaceholder:"Enter name"}},authentification:{signIn:{headline:"Sign In",email:"Email address",password:"Password",enterPlaceholder:"Enter"},signUp:{headline:"Sign Up",username:"Username",email:"Email address",password:"Password",enterPlaceholder:"Enter",alreadyAccountCreated:"Already have an account?"}},plants:{myPlants:{headline:"My plants"},createPlant:{form:{headline:"Create a plant",name:"Name",description:"Description",size:"Size (cm)",location:"Location",price:"Price (EUR)",image:"Image",enterPlaceholder:"Enter"}},updatePlant:{form:{headline:"Update your plant",name:"Name",description:"Description",size:"Size (cm)",location:"Location",price:"Price (EUR)",image:"Image"}},plantThumbnail:{currency:"\u20ac"},plantDetails:{headline:"Plant details",name:"Name:",description:"Description:",size:"Size:",sizeUnit:"cm",likes:"Likes:",price:"Price:",currency:"\u20ac"},checkout:{form:{price:" Price:",currency:"\u20ac",payNow:"Pay now",paymentSuccessful:"Payment succeeded."}}},requests:{createRequest:{form:{headline:"Your request",subheadline:"for"}},updateRequest:{form:{headline:"Reply your request",replyPlaceholder:"Your reply"}},overview:{headline:"Requests for your plants"},requestDetails:{headline:"Request for",subheadline:"by",yourReply:"Your reply"},requestTile:{headline:"Request for",subheadline:"by"}},replies:{overview:{headline:"Replies for your requests"},replyDetails:{headline:"Your request for",replyBy:"Reply by"},replyTile:{headline:"Reply for",subheadline:"by"}},notFound:{headline:"Oh-oh!",subheadline1:"We think you got lost in the jungle!",subheadline2:"404 Not Found"},unauthorized:{headline:"Oh-oh!",subheadline1:"We think you reached the forbidden part of the jungle!",subheadline2:"401 Unauthorized"},footer:{copyright:"\xa9",appAuthor1:"Christian Gerbig",appAuthor2:"Lisa Montebaur"},errorModal:{headline:"Oh-oh!",subheadline:"Something went wrong in the jungle!"},offlineModal:{headline:"Oh-oh!",subheadline:"You lost your roots in the jungle!"}},errorTexts:{authentification:{unauthorized:"Unauthorized user",signUp:{form:{usernameMissing:"Please enter username",emailMissing:"Please enter email",passwordMissing:"Please enter password",emailFormatInvalid:"The email format is invalid",passwordInvalid:"The password needs to have 8 characters, a number, a special character and an uppercase alphabet",userAlreadyExists:"Username or email already exists"},errorWhileCreatingUser:"Error while creating user"},signIn:{form:{emailMissing:"Please enter email",passwordMissing:"Please enter password",emailFormatInvalid:"The email format is invalid",noMatchPasswords:"Passwords don't match"},userUnknown:"User does not exist"},logOut:{noUserUpdate:"Could not update user"}},plants:{createPlant:{form:{nameMissing:"Please enter name",descriptionMissing:"Please enter description",sizeMissing:"Please enter size",locationMissing:"Please enter location",priceMissing:"Please enter price",imageMissing:"Please choose an image",noImageSelected:"Please choose an image to delete"}},createPlantFailed:"Creating the plant failed",fetchPlantFailed:"Fetching the plant failed",fetchAllPlantsFailed:"Fetching all plants failed",updatePlantFailed:"Updating the plant failed",deletePlantFailed:"Delete plant failed"},messages:{createRequest:{form:{requestTextMissing:"Please enter request text"}},updateRequest:{form:{replyTextMissing:"Please enter reply text"}},createMessageFailed:"Creating message failed",fetchMessageFailed:"Fetching message failed",fetchAllMessagesFailed:"Fetching all messages failed",updateMessageFailed:"Updating the message failed",deleteMessageFailed:"Delete message failed"},offline:"No internet connection",general:"An error occured"}}};Kt.a.use(Zt.e).init({resources:{en:Xt},fallbackLng:"en",debug:!1,ns:["translations"],defaultNS:"translations",interpolation:{escapeValue:!1}});Kt.a,n(115);c.a.render(Object(_e.jsx)(s.a.StrictMode,{children:Object(_e.jsx)(u.a,{store:Gt,children:Object(_e.jsx)(Ht,{children:Object(_e.jsx)(l.a,{children:Object(_e.jsx)(Qt,{})})})})}),document.querySelector("#root"))},74:function(e,t,n){}},[[116,1,2]]]);
//# sourceMappingURL=main.e33bc3a7.chunk.js.map