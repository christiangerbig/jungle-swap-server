(this["webpackJsonpjungle-swap-client"]=this["webpackJsonpjungle-swap-client"]||[]).push([[0],{101:function(e,t,n){},102:function(e,t,n){"use strict";n.r(t);var a=n(1),c=n.n(a),s=n(18),r=n.n(s),i=n(3),l=n(10),o=(n(64),n(65),n(29)),u=function(){return Object(o.b)()},d=o.c,j=n(6),m=n(105),p=n(106),b=n(5),h=n.n(b),f=n(8),g=n(9),O=n(11),x=n.n(O),v="".concat("https://jungleswap.herokuapp.com","/api"),w=function(e){throw new Error(e)},N=Object(g.b)("jungleSwap/signUp",function(){var e=Object(f.a)(h.a.mark((function e(t){var n;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,x.a.post("".concat(v,"/auth/sign-up"),t);case 3:return n=e.sent,e.abrupt("return",n.data);case 7:return e.prev=7,e.t0=e.catch(0),e.abrupt("return",w(e.t0.response.data.error));case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t){return e.apply(this,arguments)}}()),S=Object(g.b)("jungleSwap/signIn",function(){var e=Object(f.a)(h.a.mark((function e(t){var n;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,x.a.post("".concat(v,"/auth/sign-in"),t,{withCredentials:!0});case 3:return n=e.sent,e.abrupt("return",n.data);case 7:return e.prev=7,e.t0=e.catch(0),e.abrupt("return",w(e.t0.response.data.error));case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t){return e.apply(this,arguments)}}()),y=Object(g.b)("jungleSwap/logOut",function(){var e=Object(f.a)(h.a.mark((function e(t){return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,x.a.post("".concat(v,"/auth/log-out"),t,{withCredentials:!0});case 3:e.next=8;break;case 5:return e.prev=5,e.t0=e.catch(0),e.abrupt("return",w(e.t0.response.data.error));case 8:case"end":return e.stop()}}),e,null,[[0,5]])})));return function(t){return e.apply(this,arguments)}}()),I=Object(g.b)("jungleSwap/checkUserLoggedIn",Object(f.a)(h.a.mark((function e(){var t;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,x.a.get("".concat(v,"/auth/check-user"),{withCredentials:!0});case 3:return t=e.sent,e.abrupt("return",t.data);case 7:return e.prev=7,e.t0=e.catch(0),e.abrupt("return",w(e.t0.response.data.error));case 10:case"end":return e.stop()}}),e,null,[[0,7]])})))),P=Object(g.b)("jungleSwap/createPlant",function(){var e=Object(f.a)(h.a.mark((function e(t){var n;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,x.a.post("".concat(v,"/plants/create"),t,{withCredentials:!0});case 3:return n=e.sent,e.abrupt("return",n.data);case 7:return e.prev=7,e.t0=e.catch(0),e.abrupt("return",w(e.t0.response.data.error));case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t){return e.apply(this,arguments)}}()),C=Object(g.b)("jungleSwap/fetchAllPlants",Object(f.a)(h.a.mark((function e(){var t;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,x.a.get("".concat(v,"/plants/fetch-all"));case 3:return t=e.sent,e.abrupt("return",t.data);case 7:return e.prev=7,e.t0=e.catch(0),e.abrupt("return",w(e.t0.response.data.error));case 10:case"end":return e.stop()}}),e,null,[[0,7]])})))),k=Object(g.b)("jungleSwap/fetchQueryPlants",function(){var e=Object(f.a)(h.a.mark((function e(t){var n;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,x.a.get("".concat(v,"/plants/search?q=").concat(t));case 3:return n=e.sent,e.abrupt("return",n.data);case 7:return e.prev=7,e.t0=e.catch(0),e.abrupt("return",w(e.t0.response.data.error));case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t){return e.apply(this,arguments)}}()),U=Object(g.b)("jungleSwap/fetchPlant",function(){var e=Object(f.a)(h.a.mark((function e(t){var n;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,x.a.get("".concat(v,"/plants/fetch/").concat(t),{withCredentials:!0});case 3:return n=e.sent,e.abrupt("return",n.data);case 7:return e.prev=7,e.t0=e.catch(0),e.abrupt("return",w(e.t0.response.data.error));case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t){return e.apply(this,arguments)}}()),M=Object(g.b)("jungleSwap/updatePlant",function(){var e=Object(f.a)(h.a.mark((function e(t){var n,a,c;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.plantId,a=t.updatedPlant,e.prev=1,e.next=4,x.a.patch("".concat(v,"/plants/update/").concat(n),a);case 4:return c=e.sent,e.abrupt("return",c.data);case 8:return e.prev=8,e.t0=e.catch(1),e.abrupt("return",w(e.t0.response.data.error));case 11:case"end":return e.stop()}}),e,null,[[1,8]])})));return function(t){return e.apply(this,arguments)}}()),F=Object(g.b)("jungleSwap/deletePlant",function(){var e=Object(f.a)(h.a.mark((function e(t){return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,x.a.delete("".concat(v,"/plants/delete/").concat(t));case 3:e.next=8;break;case 5:return e.prev=5,e.t0=e.catch(0),e.abrupt("return",w(e.t0.response.data.error));case 8:case"end":return e.stop()}}),e,null,[[0,5]])})));return function(t){return e.apply(this,arguments)}}()),R=Object(g.b)("jungleSwap/uploadPlantImage",function(){var e=Object(f.a)(h.a.mark((function e(t){var n;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,x.a.post("".concat(v,"/cloudinary/upload"),t);case 3:return n=e.sent,e.abrupt("return",n.data);case 7:return e.prev=7,e.t0=e.catch(0),e.abrupt("return",w(e.t0.response.data.error));case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t){return e.apply(this,arguments)}}()),D=Object(g.b)("jungleSwap/deletePlantImage",function(){var e=Object(f.a)(h.a.mark((function e(t){return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,x.a.post("".concat(v,"/cloudinary/destroy"),t);case 3:e.next=8;break;case 5:return e.prev=5,e.t0=e.catch(0),e.abrupt("return",w(e.t0.response.data.error));case 8:case"end":return e.stop()}}),e,null,[[0,5]])})));return function(t){return e.apply(this,arguments)}}()),T=Object(g.b)("jungleSwap/createPayment",function(){var e=Object(f.a)(h.a.mark((function e(t){var n;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,x.a.post("".concat(v,"/stripe/create-payment-intent"),{price:t.price});case 3:return n=e.sent,e.abrupt("return",n.data);case 7:return e.prev=7,e.t0=e.catch(0),e.abrupt("return",w(e.t0.response.data.error));case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t){return e.apply(this,arguments)}}()),E=Object(g.b)("jungleSwap/createMessage",function(){var e=Object(f.a)(h.a.mark((function e(t){var n;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,x.a.post("".concat(v,"/messages/create"),t,{withCredentials:!0});case 3:return n=e.sent,e.abrupt("return",n.data);case 7:return e.prev=7,e.t0=e.catch(0),e.abrupt("return",w(e.t0.response.data.error));case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t){return e.apply(this,arguments)}}()),q=Object(g.b)("jungleSwap/fetchAllMessages",Object(f.a)(h.a.mark((function e(){var t;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,x.a.get("".concat(v,"/messages/fetch-all"));case 3:return t=e.sent,e.abrupt("return",t.data);case 7:return e.prev=7,e.t0=e.catch(0),e.abrupt("return",w(e.t0.response.data.error));case 10:case"end":return e.stop()}}),e,null,[[0,7]])})))),z=Object(g.b)("jungleSwap/fetchMessage",function(){var e=Object(f.a)(h.a.mark((function e(t){var n;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,x.a.get("".concat(v,"/messages/fetch/").concat(t),{withCredentials:!0});case 3:return n=e.sent,e.abrupt("return",n.data);case 7:return e.prev=7,e.t0=e.catch(0),e.abrupt("return",w(e.t0.response.data.error));case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t){return e.apply(this,arguments)}}()),_=Object(g.b)("jungleSwap/updateMessage",function(){var e=Object(f.a)(h.a.mark((function e(t){var n,a,c;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.messageId,a=t.updatedMessage,e.prev=1,e.next=4,x.a.patch("".concat(v,"/messages/update/").concat(n),a);case 4:return c=e.sent,e.abrupt("return",c.data);case 8:return e.prev=8,e.t0=e.catch(1),e.abrupt("return",w(e.t0.response.data.error));case 11:case"end":return e.stop()}}),e,null,[[1,8]])})));return function(t){return e.apply(this,arguments)}}()),W=Object(g.b)("jungleSwap/deleteMessage",function(){var e=Object(f.a)(h.a.mark((function e(t){return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,x.a.delete("".concat(v,"/messages/delete/").concat(t));case 3:e.next=8;break;case 5:return e.prev=5,e.t0=e.catch(0),e.abrupt("return",w(e.t0.response.data.error));case 8:case"end":return e.stop()}}),e,null,[[0,5]])})));return function(t){return e.apply(this,arguments)}}()),A=Object(g.c)({name:"jungleSwap",initialState:{isUserChange:!1,loggedInUser:null,isCreatingPlant:!1,isFetchingPlants:!1,isFetchingPlant:!1,isUpdatingPlant:!1,isDeletingPlant:!1,plant:{},plants:[],filteredPlants:[],isUploadingPlantImage:!1,isDeletingPlantImage:!1,destroyImageData:null,clientSecret:"",isCreatingMessage:!1,isFetchingMessages:!1,isFetchingMessage:!1,isUpdatingMessage:!1,isDeletingMessage:!1,messages:[],message:{},isNewRequest:!1,isNewReply:!1,amountOfRequests:0,amountOfReplies:0,intervalId:null,delayCounter:0,titleSectionHeight:0,aboutSectionHeight:0,errorMessage:null},reducers:{setIsUserChange:function(e,t){e.isUserChange=t.payload},setLoggedInUser:function(e,t){e.loggedInUser=t.payload},setIsCreatingPlant:function(e,t){e.isCreatingPlant=t.payload},setIsFetchingPlants:function(e,t){e.isFetchingPlants=t.payload},setIsFetchingPlant:function(e,t){e.isFetchingPlant=t.payload},setIsUpdatingPlant:function(e,t){e.isUpdatingPlant=t.payload},setIsDeletingPlant:function(e,t){e.isDeletingPlant=t.payload},addPlant:function(e,t){e.plants.push(t.payload)},setPlant:function(e,t){e.plant=t.payload},setPlants:function(e,t){e.plants=t.payload},setFilteredPlants:function(e,t){e.filteredPlants=t.payload},setPlantChanges:function(e,t){var n=t.payload,a=n._id,c=n.name,s=n.description,r=n.size,i=n.imageUrl,l=n.imagePublicId,o=n.location,u=n.price;e.plants=e.plants.map((function(e){return e._id===a&&(e.name=c,e.description=s,e.size=r,e.imageUrl=i,e.imagePublicId=l,e.location=o,e.price=u),e}))},removePlant:function(e,t){e.plants=e.plants.filter((function(e){return e._id!==t.payload}))},setIsUploadingPlantImage:function(e,t){e.isUploadingPlantImage=t.payload},setIsDeletingPlantImage:function(e,t){e.isDeletingPlantImage=t.payload},setDestroyImageData:function(e,t){e.destroyImageData=t.payload},setClientSecret:function(e,t){e.clientSecret=t.payload},setIsCreatingMessage:function(e,t){e.isCreatingMessage=t.payload},setIsFetchingMessages:function(e,t){e.isFetchingMessages=t.payload},setIsFetchingMessage:function(e,t){e.isFetchingMessage=t.payload},setIsUpdatingMessage:function(e,t){e.isUpdatingMessage=t.payload},setIsDeletingMessage:function(e,t){e.isDeletingMessage=t.payload},addMessage:function(e,t){e.messages.push(t.payload)},setMessages:function(e,t){e.messages=t.payload},setMessage:function(e,t){e.message=t.payload},setMessageChanges:function(e,t){var n=t.payload,a=n._id,c=n.buyer,s=n.seller,r=n.plant,i=n.request,l=n.reply,o=n.messageState;e.messages=e.messages.map((function(e){return e._id===a&&(e.buyer=c,e.seller=s,e.plant=r,e.request=i,e.reply=l,e.messageState=o),e}))},removeMessage:function(e,t){e.messages=e.messages.filter((function(e){return e._id!==t.payload}))},setIsNewRequest:function(e,t){e.isNewRequest=t.payload},setIsNewReply:function(e,t){e.isNewReply=t.payload},setStartAmountOfRequests:function(e){e.amountOfRequests=e.loggedInUser.amountOfRequests},setStartAmountOfReplies:function(e){e.amountOfReplies=e.loggedInUser.amountOfReplies},setAmountOfRequests:function(e,t){e.amountOfRequests=t.payload},setAmountOfReplies:function(e,t){e.amountOfReplies=t.payload},decreaseAmountOfRequests:function(e){e.amountOfRequests-=1},decreaseAmountOfReplies:function(e){e.amountOfReplies-=1},setIntervalId:function(e,t){e.intervalId=t.payload},setDelayCounter:function(e,t){e.delayCounter=t.payload},increaseDelayCounter:function(e){e.delayCounter+=1},setTitleSectionHeight:function(e,t){e.titleSectionHeight=t.payload},setAboutSectionHeight:function(e,t){e.aboutSectionHeight=t.payload},scrollToAbout:function(e){j.animateScroll.scrollTo(e.titleSectionHeight)},scrollToPlants:function(e){j.animateScroll.scrollTo(e.titleSectionHeight+e.aboutSectionHeight)},setErrorMessage:function(e,t){e.errorMessage=t.payload}},extraReducers:function(e){e.addCase(P.fulfilled,(function(e){e.isCreatingPlant=!1})),e.addCase(P.rejected,(function(e){e.isCreatingPlant=!1})),e.addCase(C.fulfilled,(function(e){e.isFetchingPlants=!1})),e.addCase(C.rejected,(function(e){e.isFetchingPlants=!1})),e.addCase(k.fulfilled,(function(e){e.isFetchingPlants=!1})),e.addCase(k.rejected,(function(e){e.isFetchingPlants=!1})),e.addCase(U.fulfilled,(function(e){e.isFetchingPlant=!1})),e.addCase(U.rejected,(function(e){e.isFetchingPlant=!1})),e.addCase(M.fulfilled,(function(e){e.isUpdatingPlant=!1})),e.addCase(M.rejected,(function(e){e.isUpdatingPlant=!1})),e.addCase(F.fulfilled,(function(e){e.isDeletingPlant=!1})),e.addCase(F.rejected,(function(e){e.isDeletingPlant=!1})),e.addCase(R.fulfilled,(function(e){e.isUploadingPlantImage=!1})),e.addCase(R.rejected,(function(e){e.isUploadingPlantImage=!1})),e.addCase(D.fulfilled,(function(e){e.isDeletingPlantImage=!1})),e.addCase(D.rejected,(function(e){e.isDeletingPlantImage=!1})),e.addCase(E.fulfilled,(function(e){e.isCreatingMessage=!1})),e.addCase(E.rejected,(function(e){e.isCreatingMessage=!1})),e.addCase(q.fulfilled,(function(e){e.isFetchingMessages=!1})),e.addCase(q.rejected,(function(e){e.isFetchingMessages=!1})),e.addCase(z.fulfilled,(function(e){e.isFetchingMessage=!1})),e.addCase(z.rejected,(function(e){e.isFetchingMessage=!1})),e.addCase(_.fulfilled,(function(e){e.isUpdatingMessage=!1})),e.addCase(_.rejected,(function(e){e.isUpdatingMessage=!1})),e.addCase(W.fulfilled,(function(e){e.isDeletingMessage=!1})),e.addCase(W.rejected,(function(e){e.isDeletingMessage=!1}))}}),B=A.actions,H=B.setIsUserChange,J=B.setLoggedInUser,L=B.setIsCreatingPlant,G=B.setIsFetchingPlants,Y=B.setIsFetchingPlant,Q=B.setIsUpdatingPlant,V=B.setIsDeletingPlant,K=B.addPlant,Z=B.setPlants,X=B.setFilteredPlants,$=B.setPlant,ee=B.setPlantChanges,te=B.removePlant,ne=B.setIsUploadingPlantImage,ae=B.setIsDeletingPlantImage,ce=B.setDestroyImageData,se=B.setClientSecret,re=B.setIsCreatingMessage,ie=B.setIsFetchingMessages,le=B.setIsFetchingMessage,oe=B.setIsUpdatingMessage,ue=B.setIsDeletingMessage,de=B.addMessage,je=B.setMessages,me=B.setMessage,pe=B.setMessageChanges,be=B.removeMessage,he=B.setIsNewRequest,fe=B.setIsNewReply,ge=B.setStartAmountOfRequests,Oe=B.setStartAmountOfReplies,xe=B.setAmountOfRequests,ve=B.setAmountOfReplies,we=B.decreaseAmountOfRequests,Ne=B.decreaseAmountOfReplies,Se=B.setIntervalId,ye=B.setDelayCounter,Ie=B.increaseDelayCounter,Pe=B.setTitleSectionHeight,Ce=B.setAboutSectionHeight,ke=B.scrollToAbout,Ue=B.scrollToPlants,Me=B.setErrorMessage,Fe=A.reducer,Re=n(19),De=function e(t){var n=this;Object(Re.a)(this,e),this.dispatch=void 0,this.stop=function(e){clearInterval(e),n.dispatch(Se(null)),n.dispatch(ye(0))},this.dispatch=t},Te=n(25),Ee=n(26),qe=n(0),ze=function(){var e=d((function(e){return e.jungleSwap.loggedInUser})),t=d((function(e){return e.jungleSwap.isNewRequest})),n=d((function(e){return e.jungleSwap.isNewReply}));return Object(qe.jsxs)(qe.Fragment,{children:[Object(qe.jsx)(i.b,{to:"/plants/my-own",className:"p-2",children:"My Plants"}),Object(qe.jsx)(i.b,{to:"/plants/create",className:"p-2",children:"Create Plant"}),Object(qe.jsxs)(i.b,{to:"/requests/fetch-all",title:t?"new request":"",className:"p-2",children:[t&&Object(qe.jsx)(Te.a,{icon:Ee.a}),"Requests"]}),Object(qe.jsxs)(i.b,{to:"/replies/fetch-all",title:n?"new reply":"",className:"p-2",children:[n&&Object(qe.jsx)(Te.a,{icon:Ee.a}),"Replies"]}),Object(qe.jsx)(i.b,{to:"/auth/log-out",title:e?e.username:"",className:"p-2",children:"Log out"})]})},_e=function(){return Object(qe.jsxs)(qe.Fragment,{children:[Object(qe.jsx)(i.b,{to:"/auth/sign-in",className:"p-2",children:"Sign in"}),Object(qe.jsx)(i.b,{to:"/auth/sign-up",className:"p-2",children:"Sign up"})]})},We=function(){var e=d((function(e){return e.jungleSwap.isUserChange})),t=d((function(e){return e.jungleSwap.loggedInUser})),n=d((function(e){return e.jungleSwap.intervalId})),c=d((function(e){return e.jungleSwap.delayCounter})),s=d((function(e){return e.jungleSwap.isNewRequest})),r=d((function(e){return e.jungleSwap.isNewReply})),l=d((function(e){return e.jungleSwap.amountOfRequests})),o=d((function(e){return e.jungleSwap.amountOfReplies})),b=u();return Object(a.useEffect)((function(){return function(){n&&new De(b).stop(n)}}),[]),Object(a.useEffect)((function(){e&&(b(ie(!0)),b(q()).unwrap().then((function(e){!function(e){!function(e){b(je(e)),b(ge()),b(Oe()),b(H(!1))}(e),function(){var e=setInterval((function(){b(Ie())}),1e3);b(Se(e)),b(Ie())}()}(e)})).catch((function(e){console.log(e.message)})))}),[e]),Object(a.useEffect)((function(){e&&(b(ge()),b(Oe())),t&&b(q()).unwrap().then((function(e){!function(e){b(je(e)),function(e){!function(e,t){t<e&&b(he(!0)),t!==e&&b(xe(e))}(function(e){return e.filter((function(e){var n=e.seller,a=e.messageState;return n._id===t._id&&!0===a})).length}(e),l)}(e),function(e){!function(e,t){t<e&&b(fe(!0)),t!==e&&b(ve(e))}(function(e){return e.filter((function(e){var n=e.buyer,a=e.reply;return n._id===t._id&&""!==a})).length}(e),o)}(e)}(e)})).catch((function(e){console.log(e.message)}))}),[c]),Object(qe.jsx)("div",{children:Object(qe.jsxs)(m.a,{variant:"dark",expand:"lg",fixed:"top",className:"pl-5",children:[Object(qe.jsx)(m.a.Brand,{children:Object(qe.jsx)(i.b,{to:"/",onClick:j.animateScroll.scrollToTop,children:"JungleSwap"})}),Object(qe.jsx)(m.a.Toggle,{"aria-controls":"basic-navbar-nav",children:(s||r)&&Object(qe.jsx)(Te.a,{icon:Ee.a})}),Object(qe.jsx)(m.a.Collapse,{id:"basic-navbar-nav",children:Object(qe.jsxs)(p.a,{className:"mr-auto",children:[Object(qe.jsx)(i.b,{to:"/",className:"p-2",onClick:function(){b(Ue())},children:"All Plants"}),t?Object(qe.jsx)(ze,{}):Object(qe.jsx)(_e,{}),Object(qe.jsx)(i.b,{to:"/",className:"p-2",onClick:function(){b(Ue())},children:Object(qe.jsx)(Te.a,{icon:Ee.b})})]})})]})})},Ae=function(){var e=(new Date).getFullYear();return Object(qe.jsx)("div",{className:"footer-row",children:Object(qe.jsxs)("footer",{children:["\xa9 ",e," ",Object(qe.jsx)(i.b,{to:"https://www.linkedin.com/in/christian-gerbig/",children:"Christian Gerbig"}),"&",Object(qe.jsx)(i.b,{to:"https://www.linkedin.com/in/lisa-montebaur/",children:"Lisa Montebaur"})]})})},Be=n.p+"static/media/JungleSwap_Home.c4ed9b4c.png",He=n.p+"static/media/JungleSwap_Icon.a6c7c44a.png",Je=function(){return Object(qe.jsx)("div",{className:"about centered container",children:Object(qe.jsxs)("div",{className:"row",children:[Object(qe.jsx)("div",{className:"col-sm-6 col-md-5 col-lg-6",children:Object(qe.jsx)("img",{src:Be,alt:"plants",className:"image"})}),Object(qe.jsx)("br",{}),Object(qe.jsx)("div",{className:"about col-sm-6 col-md-5 col-lg-6 px-5 noOverflow",children:Object(qe.jsxs)("article",{children:[Object(qe.jsxs)("header",{children:[Object(qe.jsx)("h4",{children:" Welcome to JungleSwap! "}),Object(qe.jsx)("h5",{children:" Add green to your Home "})]}),Object(qe.jsxs)("p",{children:['It"s easy-peasy. ',Object(qe.jsx)("br",{}),"Share your plant offshoots. ",Object(qe.jsx)("br",{}),"Make money! ",Object(qe.jsx)("br",{}),"Or swap them for another plant. ",Object(qe.jsx)("br",{}),'Don"t have any baby plants? ',Object(qe.jsx)("br",{}),"You can simply shop and give a plant a new home."]}),Object(qe.jsx)("img",{src:He,alt:"plant pot",className:"icon"})]})})]})})},Le=function(e){var t=e.plant,n=t._id,a=t.name,c=t.imageUrl,s=t.price;return Object(qe.jsx)("div",{className:"col mb-5",children:Object(qe.jsxs)("div",{className:"card card-medium-width text-center h-100",children:[Object(qe.jsx)("img",{src:c,alt:a,className:"card-img-top mediumPicSize"}),Object(qe.jsxs)("div",{className:"card-body mb-5",children:[Object(qe.jsxs)("h5",{children:[" ",a," "]}),Object(qe.jsxs)("p",{children:[" ",s," \u20ac "]}),Object(qe.jsx)(i.b,{className:"btn form-control smallWidth",to:"/plants/fetch/".concat(n),children:"Details"})]})]})})},Ge=function(){return Object(qe.jsx)("div",{className:"d-flex align-items-center justify-content-center",children:Object(qe.jsx)("div",{role:"status",className:"spinner-border m-3 loadingWaitSpinner"})})},Ye=n(23),Qe=function e(t){var n=this;Object(Re.a)(this,e),this.dispatch=void 0,this.fetchAll=function(){n.dispatch(G(!0)),n.dispatch(C()).unwrap().then((function(e){n.dispatch(Z(e))})).catch((function(e){console.log(e.message)}))},this.dispatch=t},Ve=function(){var e=Object(a.useState)(""),t=Object(Ye.a)(e,2),n=t[0],c=t[1],s=Object(a.useState)(""),r=Object(Ye.a)(s,2),i=r[0],l=r[1],o=d((function(e){return e.jungleSwap.plants})),j=u();return Object(a.useEffect)((function(){!function(e){e?(j(G(!0)),j(k(e)).unwrap().then((function(e){j(Z(e))})).catch((function(e){console.log(e.message)}))):new Qe(j).fetchAll()}(n)}),[n]),Object(a.useEffect)((function(){!function(e,t){var n=t.filter((function(t){var n=t.location;return e===n||""===e}));j(X(n))}(i,o)}),[i]),Object(qe.jsxs)("div",{className:"mb-4",children:[Object(qe.jsx)("hr",{}),Object(qe.jsx)("h4",{children:" Search a plant "}),Object(qe.jsxs)("div",{className:"d-flex",children:[Object(qe.jsx)("input",{type:"text",placeholder:"Enter name",value:n,className:"smallWidth form-control",onChange:function(e){c(e.target.value)}}),Object(qe.jsxs)("select",{name:"location",className:"locationFilter form-control ml-4",onChange:function(e){l(e.target.value)},children:[Object(qe.jsx)("option",{value:"",children:" Select location "}),Object(qe.jsx)("option",{value:"sun",children:" sun "}),Object(qe.jsx)("option",{value:"shade",children:" shade "}),Object(qe.jsx)("option",{value:"sun and shade",children:" sun and shade "})]})]})]})},Ke=function(){var e=d((function(e){return e.jungleSwap.isFetchingPlants})),t=d((function(e){return e.jungleSwap.filteredPlants}));return Object(qe.jsxs)("div",{className:"container mt-5",children:[Object(qe.jsx)("div",{className:"mt-5 mb-3",children:Object(qe.jsx)("h2",{children:" Plants "})}),Object(qe.jsx)(Ve,{}),e?Object(qe.jsx)(Ge,{}):Object(qe.jsx)("div",{className:"row row-cols-1 row-cols-md-3 g-4",children:t.map((function(e,t){return Object(qe.jsx)(Le,{plant:e},t)}))})]})},Ze=function(){var e=u();return Object(qe.jsx)("div",{className:"row my-5",children:Object(qe.jsxs)("div",{className:"col-6 offset-3 my-5 borderAround",children:[Object(qe.jsx)("h2",{className:"title mb-2",children:" JungleSwap "}),Object(qe.jsx)("h5",{className:"mt-3 mb-5",children:" Share your green heart "}),Object(qe.jsx)("div",{className:"mb-5",children:Object(qe.jsx)(i.b,{to:"/",className:"biggerFontSize",onClick:function(){e(ke())},children:"Try it!"})})]})})},Xe=function(){var e=d((function(e){return e.jungleSwap.plants})),t=u(),n=Object(a.useRef)([]);return Object(a.useEffect)((function(){var e=function(e){return Math.round(e.getBoundingClientRect().height)};new Qe(t).fetchAll();var a=e(n.current[0]);t(Pe(a));var c=e(n.current[1]);t(Ce(c))}),[]),Object(a.useEffect)((function(){t(X(e))}),[e]),Object(qe.jsxs)("div",{children:[Object(qe.jsx)("section",{ref:function(e){n.current[0]=e},className:"text-center pt-5 pb-5 headerImg",children:Object(qe.jsx)(Ze,{})}),Object(qe.jsx)("section",{ref:function(e){n.current[1]=e},children:Object(qe.jsx)(Je,{})}),Object(qe.jsx)("section",{children:Object(qe.jsx)(Ke,{})})]})},$e=function(){var e=d((function(e){return e.jungleSwap.errorMessage})),t=u(),n=Object(l.g)();Object(a.useEffect)((function(){t(Me(null)),j.animateScroll.scrollToTop()}),[]);var c=function(e){e.preventDefault();var a=e.target,c=a.username,s=a.email,r=a.password,i={username:c.value,email:s.value.toLowerCase(),password:r.value};t(N(i)).unwrap().then((function(e){!function(e){t(J(e)),t(H(!0)),n.push("/")}(e)})).catch((function(e){t(Me(e.message))}))};return Object(qe.jsx)("div",{className:"container row mt-5",children:Object(qe.jsxs)("div",{className:"mt-5 col-11 col-md-5 offset-1 offset-md-5",children:[Object(qe.jsx)("h2",{className:"mb-5",children:" Sign Up "}),Object(qe.jsxs)("form",{onSubmit:function(e){c(e)},children:[Object(qe.jsxs)("div",{className:"form-group",children:[Object(qe.jsx)("label",{htmlFor:"InputUsername",children:" Username "}),Object(qe.jsx)("input",{type:"text",id:"InputUsername",name:"username",placeholder:"Enter",className:"form-control"})]}),Object(qe.jsxs)("div",{className:"form-group",children:[Object(qe.jsx)("label",{htmlFor:"InputEmail",children:" Email address "}),Object(qe.jsx)("input",{type:"email",id:"InputEmail",name:"email",placeholder:"Enter",className:"form-control"})]}),Object(qe.jsxs)("div",{className:"form-group",children:[Object(qe.jsx)("label",{htmlFor:"InputPassword",children:" Password "}),Object(qe.jsx)("input",{type:"password",id:"InputPassword",name:"password",placeholder:"Enter",className:"form-control"})]}),Object(qe.jsxs)("p",{hidden:!e,className:"warningColor",children:[" ",e," "]}),Object(qe.jsx)("button",{type:"submit",formNoValidate:!0,className:"btn btn-sm mt-4 smallWidth form-control",children:"Sign up"}),Object(qe.jsx)("p",{className:"padding",children:" Already have an account? "}),Object(qe.jsx)("div",{className:"text-right",children:Object(qe.jsx)(i.b,{to:"/auth/sign-in",children:Object(qe.jsx)("button",{className:"btn btn-sm ml-4 smallWidth form-control mt-0 mb-2",children:"Sign In"})})})]})]})})},et=function(){var e=d((function(e){return e.jungleSwap.errorMessage})),t=u(),n=Object(l.g)();Object(a.useEffect)((function(){t(Me(null)),j.animateScroll.scrollToTop()}),[]);var c=function(e){e.preventDefault();var a=e.target,c=a.email,s=a.password,r={email:c.value,password:s.value};t(S(r)).unwrap().then((function(e){!function(e){t(J(e)),t(H(!0));var a=e.amountOfRequests,c=e.amountOfReplies;t(xe(a)),t(ve(c)),n.push("/")}(e)})).catch((function(e){t(Me(e.message))}))};return Object(qe.jsx)("div",{className:"container row mt-5 custom fullscreen",children:Object(qe.jsxs)("div",{className:"mt-5 col-11 col-md-5 offset-1 offset-md-5",children:[Object(qe.jsx)("h2",{className:"mb-5",children:" Sign In "}),Object(qe.jsxs)("form",{onSubmit:function(e){c(e)},children:[Object(qe.jsxs)("div",{className:"form-group",children:[Object(qe.jsx)("label",{htmlFor:"InputEmail",children:" Email address "}),Object(qe.jsx)("input",{type:"email",id:"InputEmail",name:"email",placeholder:"Enter",className:"form-control"})]}),Object(qe.jsxs)("div",{className:"form-group",children:[Object(qe.jsx)("label",{htmlFor:"InputPassword",children:" Password "}),Object(qe.jsx)("input",{type:"password",id:"InputPassword",name:"password",placeholder:"Enter",className:"form-control"})]}),Object(qe.jsxs)("p",{hidden:!e,className:"warningColor",children:[" ",e," "]}),Object(qe.jsx)("button",{type:"submit",formNoValidate:!0,className:"btn btn-sm mt-4 smallWidth form-control",children:"Sign in"})]})]})})},tt=function(){var e=d((function(e){return e.jungleSwap.loggedInUser})),t=d((function(e){return e.jungleSwap.intervalId})),n=d((function(e){return e.jungleSwap.amountOfRequests})),c=d((function(e){return e.jungleSwap.amountOfReplies})),s=u(),r=Object(l.g)();return Object(a.useEffect)((function(){!function(e,t){!function(e){s(y(e)).unwrap().then((function(){!function(e){s(J(null)),new De(s).stop(e),s(he(!1)),s(xe(0)),s(ve(0)),r.push("/"),j.animateScroll.scrollToTop()}(t)}))}(function(e){var t=JSON.parse(JSON.stringify(e));return t.amountOfRequests=n,t.amountOfReplies=c,s(J(t)),t}(e))}(e,t)}),[]),Object(qe.jsx)("div",{})},nt=function e(t){var n=this;Object(Re.a)(this,e),this.dispatch=void 0,this.protect=function(){n.dispatch(I()).unwrap().then((function(e){n.dispatch(J(e))})).catch((function(e){console.log(e.message)}))},this.dispatch=t},at=function(){var e=d((function(e){return e.jungleSwap.loggedInUser})),t=d((function(e){return e.jungleSwap.isUploadingPlantImage})),n=d((function(e){return e.jungleSwap.isCreatingPlant})),c=d((function(e){return e.jungleSwap.errorMessage})),s=u(),r=Object(l.g)();Object(a.useEffect)((function(){new nt(s).protect(),e&&(s(Me(null)),j.animateScroll.scrollToTop())}),[]);var i=function(e,t){var n=e.name,a=e.description,c=e.size,i=e.location,l=e.price,o=t.imageUrl,u=t.imagePublicId,d={name:n.value,description:a.value,size:c.value,imageUrl:o,imagePublicId:u,location:i.value,price:l.value};s(L(!0)),s(P(d)).unwrap().then((function(e){!function(e){s(K(e)),r.push("/"),j.animateScroll.scrollToBottom()}(e)})).catch((function(e){s(Me(e.message))}))};return e?Object(qe.jsx)("div",{className:"container row mt-5 fullscreen",children:Object(qe.jsxs)("div",{className:"mt-5 col-12 col-md-6 offset-md-6",children:[Object(qe.jsx)("h2",{className:"mb-5 text-left",children:" Create a plant "}),Object(qe.jsxs)("form",{onSubmit:function(e){!function(e){e.preventDefault();var t=e.target.plantImage.files[0],n=new FormData;n.append("image",t),s(ne(!0)),s(R(n)).unwrap().then((function(t){var n=t.imageUrl,a=t.imagePublicId;i(e.target,{imageUrl:n,imagePublicId:a})})).catch((function(e){s(Me(e.message))}))}(e)},children:[Object(qe.jsx)("label",{htmlFor:"enterName",children:" Name "}),Object(qe.jsx)("input",{type:"text",id:"enterName",name:"name",placeholder:"Enter",className:"mb-4 form-control"}),Object(qe.jsx)("label",{htmlFor:"enterDescription",children:" Description "}),Object(qe.jsx)("input",{type:"text",id:"enterDescription",name:"description",placeholder:"Enter",className:"mb-4 form-control"}),Object(qe.jsx)("label",{htmlFor:"enterSize",children:" Size (cm) "}),Object(qe.jsx)("input",{type:"number",id:"enterSize",name:"size",placeholder:"Enter",min:"1",className:"mb-4 form-control"}),Object(qe.jsx)("label",{htmlFor:"enterLocation",children:" Location "}),Object(qe.jsxs)("select",{id:"enterLocation",name:"location",className:"mb-4 form-control p-2",children:[Object(qe.jsx)("option",{children:" Select location "}),Object(qe.jsx)("option",{value:"sun",children:" sun "}),Object(qe.jsx)("option",{value:"shade",children:" shade "}),Object(qe.jsx)("option",{value:"sun and shade",children:" sun and shade "})]}),Object(qe.jsx)("label",{htmlFor:"enterPrice",children:" Price (EUR) "}),Object(qe.jsx)("input",{type:"number",id:"enterPrice",name:"price",placeholder:"Enter",min:"1",className:"mb-4 form-control"}),Object(qe.jsx)("label",{htmlFor:"enterImage",children:" Image "}),Object(qe.jsx)("input",{type:"file",id:"enterImage",name:"plantImage",className:"mb-4 form-control"}),Object(qe.jsxs)("p",{hidden:!c,className:"warningColor",children:[" ",c," "]}),Object(qe.jsxs)("div",{className:"col-12 text-right pr-0",children:[Object(qe.jsx)("button",{type:"submit",disabled:!(!t&&!n),className:"btn btn-sm form-control smallWidth ml-4 mb-2",children:"Create"}),Object(qe.jsx)("button",{className:"btn btn-sm form-control smallWidth ml-4 mb-2",onClick:function(){r.goBack()},children:"Go back"})]})]})]})}):Object(qe.jsx)(l.a,{to:"/auth/unauthorized"})},ct=function e(t){var n=this;Object(Re.a)(this,e),this.dispatch=void 0,this.delete=function(e){n.dispatch(ae(!0)),n.dispatch(D(e)).unwrap().then((function(){})).catch((function(e){console.log(e.message)}))},this.dispatch=t},st=function(){var e=d((function(e){return e.jungleSwap.loggedInUser})),t=d((function(e){return e.jungleSwap.plant})),n=d((function(e){return e.jungleSwap.isFetchingPlant})),c=d((function(e){return e.jungleSwap.isDeletingPlant})),s=d((function(e){return e.jungleSwap.isDeletingPlantImage})),r=d((function(e){return e.jungleSwap.messages})),o=d((function(e){return e.jungleSwap.isDeletingMessage})),m=Object(l.h)().plantId,p=u(),b=Object(l.g)();Object(a.useEffect)((function(){new nt(p).protect(),e&&function(e){p(Y(!0)),p(U(e)).unwrap().then((function(e){!function(e){p($(e)),j.animateScroll.scrollToTop()}(e)})).catch((function(e){console.log(e.message)}))}(m)}),[]);var h=function(e){p(V(!0)),p(F(e)).unwrap().then((function(){!function(e){p(te(e)),b.goBack()}(e)})).catch((function(e){console.log(e.message)}))};if(!e)return Object(qe.jsx)(l.a,{to:"/auth/sign-up"});var f=t,g=f._id,O=f.name,x=f.description,v=f.size,w=f.imageUrl,N=f.imagePublicId,S=f.location,y=f.price,I=f.creator;return Object(qe.jsxs)("div",{className:"container mt-5 row row-md-10 offset-md-4",children:[Object(qe.jsx)("div",{className:"mt-4 mb-3 pt-4 container",children:Object(qe.jsx)("h2",{children:" Plant details "})}),n||!I?Object(qe.jsx)(Ge,{}):Object(qe.jsx)("div",{className:"col",children:Object(qe.jsxs)("div",{className:"card cardMediumWidth",children:[Object(qe.jsx)("img",{src:w,alt:O,className:"card-img-top mediumPicSize"}),Object(qe.jsxs)("div",{className:"ml-2 mt-2",children:[Object(qe.jsx)("span",{children:" Name: "})," ",O]}),Object(qe.jsxs)("div",{className:"ml-2 mt-2",children:[Object(qe.jsx)("span",{children:" Description: "})," ",x]}),Object(qe.jsxs)("div",{className:"ml-2 mt-2",children:[Object(qe.jsx)("span",{children:" Size: "})," ",v," cm"]}),Object(qe.jsxs)("div",{className:"ml-2 mt-2",children:[Object(qe.jsx)("span",{children:" Likes: "})," ",S]}),Object(qe.jsxs)("div",{className:"ml-2 mt-2",children:[Object(qe.jsx)("span",{children:" Price: "})," ",y," \u20ac"]}),Object(qe.jsx)("div",{className:"ml-2 mt-2 col justify-content-center",children:Object(qe.jsx)("div",{className:"row-2 justify-content-center",children:Object(qe.jsxs)("div",{className:"card-body text-right pt-0",children:[e._id===I._id?Object(qe.jsxs)("div",{className:"p-0",children:[Object(qe.jsx)(i.b,{to:"/plants/update",children:Object(qe.jsx)("button",{className:"btn btn-sm ml-2 form-control smallWidth mb-2",children:"Update"})}),Object(qe.jsx)("button",{disabled:!!(o||s||c),className:"btn btn-sm ml-2 form-control smallWidth mb-2",onClick:function(){!function(e,t){e.forEach((function(e){var n=e._id;e.plant._id===t&&(p(ue(!0)),p(W(n)).unwrap().then((function(){p(be(n))})).catch((function(e){console.log(e.message)})))}))}(r,g),new ct(p).delete({imagePublicId:N}),h(g)},children:"Delete"})]}):Object(qe.jsxs)("div",{children:[Object(qe.jsx)(i.b,{to:"/plants/checkout",children:Object(qe.jsx)("button",{className:"btn btn-sm ml-2 form-control smallWidth mb-2",children:"Buy"})}),Object(qe.jsx)(i.b,{to:"/messages/create",children:Object(qe.jsx)("button",{className:"btn btn-sm ml-2 form-control smallWidth mb-2",children:"Swap"})})]}),Object(qe.jsx)("button",{className:"btn btn-sm ml-2 form-control smallWidth mb-3",onClick:function(){b.goBack()},children:"Go back"})]})})})]})})]})},rt=function(){var e=d((function(e){return e.jungleSwap.loggedInUser})),t=d((function(e){return e.jungleSwap.isUploadingPlantImage})),n=d((function(e){return e.jungleSwap.isDeletingPlantImage})),c=d((function(e){return e.jungleSwap.destroyImageData})),s=d((function(e){return e.jungleSwap.plant})),r=d((function(e){return e.jungleSwap.isUpdatingPlant})),i=u(),o=Object(l.g)(),m=Object(a.useRef)(null);Object(a.useEffect)((function(){new nt(i).protect(),e&&(!function(e){var t=e.location;t&&(m.current.value=t)}(s),j.animateScroll.scrollToTop())}),[]);var p=function(e,t){var n=e.target,a=JSON.parse(JSON.stringify(t));switch(n.name){case"name":a.name=n.value;break;case"description":a.description=n.value;break;case"size":a.size=n.value;break;case"location":a.location=n.value;break;case"price":a.price=n.value}i($(a))},b=function(e,t){var n=e.target,a=n.files[0],c=t.imagePublicId;i(ce({imagePublicId:c}));var s=new FormData;s.append("image",a),i(ne(!0)),i(R(s)).unwrap().then((function(e){var n=e.imageUrl,a=e.imagePublicId;!function(e,t){var n=t.imageUrl,a=t.imagePublicId,c=JSON.parse(JSON.stringify(e));c.imagePublicId=a,c.imageUrl=n,i($(c))}(t,{imageUrl:n,imagePublicId:a})})).catch((function(e){console.log(e.message)}))},h=function(e){var t=e._id,n=e.name,a=e.description,c=e.size,s=e.imageUrl,r=e.imagePublicId,l=e.location,u=e.price,d={name:n,description:a,size:c,imageUrl:s,imagePublicId:r,location:l,price:u};i(Q(!0)),i(M({plantId:t,updatedPlant:d})).unwrap().then((function(e){!function(e){i(ee(e)),o.goBack()}(e)})).catch((function(e){console.log(e.message)}))};if(!e)return Object(qe.jsx)(l.a,{to:"/auth/unauthorized"});var f=s,g=f.name,O=f.description,x=f.size,v=f.imageUrl,w=f.price;return Object(qe.jsx)("div",{className:"container row mt-5 ",children:Object(qe.jsxs)("div",{className:"mt-2 col-12 col-md-6 offset-md-6",children:[Object(qe.jsx)("h2",{className:"mt-5 mb-4 text-left",children:" Update your plant "}),Object(qe.jsxs)("div",{className:"card cardMediumWidth mb-5",children:[t||n||r?Object(qe.jsx)(Ge,{}):Object(qe.jsx)("img",{src:v,alt:g,className:"mb-2 smallPicSize"}),Object(qe.jsxs)("div",{className:"card-body",children:[Object(qe.jsx)("label",{htmlFor:"updateName",children:" Name "}),Object(qe.jsx)("input",{type:"text",id:"updateName",name:"name",value:g,className:"mb-4 form-control",onChange:function(e){p(e,s)}}),Object(qe.jsx)("label",{htmlFor:"updateDescription",children:" Description "}),Object(qe.jsx)("input",{type:"text",id:"updateDescription",name:"description",value:O,className:"mb-4 form-control",onChange:function(e){p(e,s)}}),Object(qe.jsx)("label",{htmlFor:"updateSize",children:" Size (cm) "}),Object(qe.jsx)("input",{type:"number",id:"updateSize",name:"size",value:x,min:"1",className:"mb-4 form-control",onChange:function(e){p(e,s)}}),Object(qe.jsx)("label",{htmlFor:"updateLocation",children:" Location "}),Object(qe.jsxs)("select",{ref:m,id:"updateLocation",name:"location",className:"mb-4 form-control px-2",onChange:function(e){p(e,s)},children:[Object(qe.jsx)("option",{value:"sun",children:" sun "}),Object(qe.jsx)("option",{value:"shade",children:" shade "}),Object(qe.jsx)("option",{value:"sun and shade",children:" sun and shade "})]}),Object(qe.jsx)("label",{htmlFor:"updatePrice",children:" Price (EUR) "}),Object(qe.jsx)("input",{type:"number",id:"updatePrice",name:"price",value:w,min:"1",className:"mb-4 form-control",onChange:function(e){p(e,s)}}),Object(qe.jsx)("label",{htmlFor:"updateImage",children:" Image "}),Object(qe.jsx)("input",{type:"file",id:"updateImage",name:"plantImage",className:"mb-4 form-control",onChange:function(e){b(e,s)}}),Object(qe.jsx)("div",{className:"col-12 text-right pr-0",children:Object(qe.jsx)("button",{disabled:!!(t||n||r),className:"btn btn-sm ml-4 form-control smallWidth mb-2",onClick:function(){c&&new ct(i).delete(c);h(s)},children:"Save"})})]})]})]})})},it=n(59),lt=n(24),ot=function(){var e=Object(a.useState)(!1),t=Object(Ye.a)(e,2),n=t[0],c=t[1],s=Object(a.useState)(!1),r=Object(Ye.a)(s,2),o=r[0],j=r[1],m=Object(a.useState)(!0),p=Object(Ye.a)(m,2),b=p[0],g=p[1],O=Object(a.useState)(""),x=Object(Ye.a)(O,2),v=x[0],w=x[1],N=d((function(e){return e.jungleSwap.clientSecret})),S=d((function(e){return e.jungleSwap.plant})),y=u(),I=Object(l.g)(),P=Object(lt.useStripe)(),C=Object(lt.useElements)();Object(a.useEffect)((function(){return function(e){y(T(e)).unwrap().then((function(e){y(se(e.clientSecret))})).catch((function(e){console.log(e.message)}))}(S),function(){I.push("/"),y(Ue())}}),[]);var k=function(){var e=Object(f.a)(h.a.mark((function e(t){return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:g(t.empty),w(t.error?t.error.message:"");case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),U=function(){var e=Object(f.a)(h.a.mark((function e(t){var n;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.preventDefault(),P&&C){e.next=3;break}return e.abrupt("return");case 3:return j(!0),e.next=6,P.confirmCardPayment(N,{payment_method:{card:C.getElement(lt.CardElement)}});case 6:(n=e.sent).error?(w("Payment failed ".concat(n.error.message)),j(!1)):(w(""),j(!1),c(!0));case 8:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),M=S,F=M._id,R=M.name,D=M.price;return Object(qe.jsxs)("div",{className:"container col-9",children:[Object(qe.jsxs)("form",{id:"payment-form",className:"checkoutForm mt-5",onSubmit:U,children:[Object(qe.jsxs)("h2",{className:"text-left mb-2 p-2",children:[" ",R," "]}),Object(qe.jsxs)("h3",{className:"text-left mb-4 p-2",children:[" Price: ",D," \u20ac "]}),Object(qe.jsx)(lt.CardElement,{id:"card-element",options:{style:{base:{color:"#32325d",fontFamily:"Arial, sans-serif",fontSmoothing:"antialiased",fontSize:"16px","::placeholder":{color:"#32325d"}},invalid:{color:"#fa755a",iconColor:"#fa755a"}}},className:"p-2",onChange:k}),Object(qe.jsx)("div",{className:"row justify-content-center",children:Object(qe.jsx)("button",{type:"submit",id:"submit",disabled:o||b||n,className:"btn btn-sm mt-5 mb-4",children:Object(qe.jsx)("span",{id:"button-text",children:o?Object(qe.jsx)("div",{id:"spinner",className:"spinner"}):"Pay now"})})}),Object(qe.jsx)("div",{role:"alert",hidden:!v,className:"card-error",children:v}),Object(qe.jsx)("p",{className:n?"result-message text-center":"result-message hidden text-center",children:"Payment succeeded."})]}),Object(qe.jsx)("div",{className:"row justify-content-center",children:n?Object(qe.jsx)(i.b,{to:"/",onClick:function(){y(Ue())},children:Object(qe.jsx)("button",{className:"btn btn-sm form-control",children:" Go back "})}):Object(qe.jsx)(i.b,{to:"/plants/fetch/".concat(F),children:Object(qe.jsx)("button",{className:"btn btn-sm form-control",children:" Go back "})})})]})},ut=Object(it.a)("pk_test_51IQBsPA6EAM4YnfDyrjHWnLHzZ5KkI9tsERzYhBGVoctZBrFUb4Sda035HvcQKpp7thFiqW6QmO8ytPbOAMTg33z00cHvcbojv"),dt=function(){var e=d((function(e){return e.jungleSwap.loggedInUser})),t=u();return Object(a.useEffect)((function(){new nt(t).protect(),e&&j.animateScroll.scrollToTop()}),[]),e?Object(qe.jsx)("div",{className:"container row mt-5",children:Object(qe.jsx)("div",{className:"mt-5 col-11 col-md-6 offset-1 offset-md-5 App",children:Object(qe.jsx)(lt.Elements,{stripe:ut,children:Object(qe.jsx)(ot,{})})})}):Object(qe.jsx)(l.a,{to:"/auth/unauthorized"})},jt=function e(t){var n=this;Object(Re.a)(this,e),this.dispatch=void 0,this.fetch=function(e){n.dispatch(le(!0)),n.dispatch(z(e)).unwrap().then((function(e){n.dispatch(me(e))})).catch((function(e){console.log(e.message)}))},this.fetchAll=function(){n.dispatch(ie(!0)),n.dispatch(q()).unwrap().then((function(e){n.dispatch(je(e))})).catch((function(e){console.log(e.message)}))},this.dispatch=t},mt=function(e){var t=e.message,n=t._id,a=t.buyer,c=t.plant.name,s=a.username;return Object(qe.jsxs)("div",{className:"card p-3 mt-4",children:[Object(qe.jsxs)("h4",{children:[" Request for ",c," "]}),Object(qe.jsxs)("h5",{children:[" by ",s," "]}),Object(qe.jsx)("div",{className:"text-center",children:Object(qe.jsx)(i.b,{className:"btn smallWidth form-control",to:"/requests/fetch/".concat(n),children:"Details"})})]})},pt=function(){var e=d((function(e){return e.jungleSwap.loggedInUser})),t=d((function(e){return e.jungleSwap.isUserChange})),n=d((function(e){return e.jungleSwap.isFetchingMessages})),c=d((function(e){return e.jungleSwap.messages})),s=d((function(e){return e.jungleSwap.amountOfRequests})),r=u(),i=Object(l.g)();return Object(a.useEffect)((function(){var n=function(){r(he(!1)),j.animateScroll.scrollToTop()};(new nt(r).protect(),e)&&(new jt(r).fetchAll(),t&&r(ge()),n());return function(){n()}}),[]),e?Object(qe.jsx)("div",{className:"container row mt-5",children:Object(qe.jsxs)("div",{className:"mt-5 col-11 col-md-5 offset-1 offset-md-5",children:[Object(qe.jsx)("h2",{children:" Requests for your plants "}),Object(qe.jsxs)("h3",{className:"mb-4",children:[" [",s,"] "]}),Object(qe.jsx)("div",{className:"text-right pr-2",children:Object(qe.jsx)("button",{className:"btn btn-sm mt-4 smallWidth form-control",onClick:function(){i.push("/"),j.animateScroll.scrollToTop()},children:"Go back"})}),n?Object(qe.jsx)(Ge,{}):Object(qe.jsx)("div",{children:c.map((function(t,n){var a=t.seller,c=t.messageState;return a._id===e._id&&!0===c?Object(qe.jsx)(mt,{message:t},n):Object(qe.jsx)(qe.Fragment,{})}))}),0!==s?Object(qe.jsx)("div",{className:"text-right mt-4 pr-2",children:Object(qe.jsx)("button",{className:"btn btn-sm mt-4 smallWidth form-control",onClick:function(){i.push("/"),j.animateScroll.scrollToTop()},children:"Go back"})}):null]})}):Object(qe.jsx)(l.a,{to:"/auth/unauthorized"})},bt=function(e){var t=e.message,n=t._id,a=t.seller,c=t.plant.name,s=a.username;return Object(qe.jsxs)("div",{className:"card p-3 mt-4 ",children:[Object(qe.jsxs)("h4",{children:[" Reply for ",c," "]}),Object(qe.jsxs)("h5",{children:[" by ",s," "]}),Object(qe.jsx)("div",{className:"text-center",children:Object(qe.jsx)(i.b,{to:"/replies/fetch/".concat(n),className:"btn smallWidth form-control",children:"Details"})})]})},ht=function(){var e=d((function(e){return e.jungleSwap.loggedInUser})),t=d((function(e){return e.jungleSwap.isUserChange})),n=d((function(e){return e.jungleSwap.isFetchingMessages})),c=d((function(e){return e.jungleSwap.messages})),s=d((function(e){return e.jungleSwap.amountOfReplies})),r=u(),i=Object(l.g)();return Object(a.useEffect)((function(){var n=function(){r(fe(!1)),j.animateScroll.scrollToTop()};(new nt(r).protect(),e)&&(new jt(r).fetchAll(),t&&r(Oe()),n());return function(){n()}}),[]),e?Object(qe.jsx)("div",{className:"container row mt-5",children:Object(qe.jsxs)("div",{className:"mt-5 col-11 col-md-5 offset-1 offset-md-5",children:[Object(qe.jsx)("h2",{children:" Replies for your requests "}),Object(qe.jsxs)("h3",{className:"mb-4",children:[" [",s,"] "]}),Object(qe.jsx)("div",{className:"text-right pr-2",children:Object(qe.jsx)("button",{className:"btn btn-sm mt-4 smallWidth form-control",onClick:function(){i.push("/"),j.animateScroll.scrollToTop()},children:"Go back"})}),n?Object(qe.jsx)(Ge,{}):Object(qe.jsx)("div",{children:c.map((function(t,n){var a=t.buyer,c=t.reply;return a._id===e._id&&""!==c?Object(qe.jsx)(bt,{message:t},n):Object(qe.jsx)(qe.Fragment,{})}))}),0!==s?Object(qe.jsx)("div",{className:"text-right mt-4 pr-2",children:Object(qe.jsx)("button",{className:"btn btn-sm mt-4 smallWidth form-control",onClick:function(){i.push("/"),j.animateScroll.scrollToTop()},children:"Go back"})}):null]})}):Object(qe.jsx)(l.a,{to:"/auth/unauthorized"})},ft=function(){var e=d((function(e){return e.jungleSwap.loggedInUser})),t=d((function(e){return e.jungleSwap.plant})),n=d((function(e){return e.jungleSwap.isCreatingMessage})),c=d((function(e){return e.jungleSwap.errorMessage})),s=u(),r=Object(l.g)();Object(a.useEffect)((function(){new nt(s).protect(),e&&(s(Me(null)),j.animateScroll.scrollToTop())}),[]);var i=function(e,t){e.preventDefault();var n=e.target.request,a=t._id,c={seller:t.creator._id,plant:a,request:n.value};s(re(!0)),s(E(c)).unwrap().then((function(e){!function(e){s(de(e)),r.goBack()}(e)})).catch((function(e){s(Me(e.message))}))};if(!e)return Object(qe.jsx)(l.a,{to:"/auth/unauthorized"});var o=t.name;return Object(qe.jsx)("div",{className:"container row mt-5",children:Object(qe.jsxs)("div",{className:"mt-5 col-11 col-md-5 offset-1 offset-md-5",children:[Object(qe.jsx)("h2",{className:"mb-4",children:" Your request "}),Object(qe.jsxs)("h3",{className:"mb-4",children:[" for ",o," "]}),Object(qe.jsxs)("form",{className:"pl-0",onSubmit:function(e){i(e,t)},children:[Object(qe.jsx)("div",{children:Object(qe.jsx)("textarea",{name:"request",cols:35,rows:7,className:"mb-4 form-control"})}),Object(qe.jsxs)("p",{hidden:!c,className:"warningColor",children:[" ",c," "]}),Object(qe.jsxs)("div",{className:"text-right",children:[Object(qe.jsx)("button",{type:"submit",disabled:!!n,className:"btn btn-sm mx-2 form-control smallWidth",children:"Send"}),Object(qe.jsx)("button",{className:"btn btn-sm mx-2 form-control smallWidth",onClick:function(){r.goBack()},children:"Go back"})]})]})]})})},gt=function(e){var t=e.text;return Object(qe.jsxs)("div",{className:"container d-flex align-items-center justify-content-center mt-5",children:[Object(qe.jsx)(Ge,{}),Object(qe.jsxs)("span",{children:[" ",t," "]})]})},Ot=function(){var e=d((function(e){return e.jungleSwap.loggedInUser})),t=d((function(e){return e.jungleSwap.isFetchingMessage})),n=d((function(e){return e.jungleSwap.message})),c=Object(l.h)().messageId,s=u(),r=Object(l.g)();Object(a.useEffect)((function(){(new nt(s).protect(),e)&&(new jt(s).fetch(c),j.animateScroll.scrollToTop())}),[]);var o=function(e){!function(e){var t=e._id,n=e.buyer,a=e.seller,c=e.plant,i=e.request,l=e.reply,o=e.messageState;s(_({messageId:t,updatedMessage:{buyer:n,seller:a,plant:c,request:i,reply:l,messageState:o}})).unwrap().then((function(e){!function(e){s(pe(e)),s(we()),r.goBack()}(e)})).catch((function(e){console.log(e.message)}))}(function(e){var t=JSON.parse(JSON.stringify(e));return t.messageState=!1,s(me(t)),t}(e))};if(!e)return Object(qe.jsx)(l.a,{to:"/auth/unauthorized"});var m=n,p=m._id,b=m.buyer,h=m.plant,f=m.request,g=m.reply;if(t||!b||!h)return Object(qe.jsx)(gt,{text:"Loading request"});var O=h.name,x=b.username;return Object(qe.jsx)("div",{className:"container row mt-5 ",children:Object(qe.jsxs)("div",{className:"mt-5 col-11 col-md-5 offset-1 offset-md-5",children:[Object(qe.jsxs)("h2",{className:"mb-5",children:[" Request for ",O," "]}),Object(qe.jsxs)("h5",{children:[" by ",x," "]}),Object(qe.jsxs)("p",{className:"textField p-3 mb-4",children:[" ",f," "]}),g?Object(qe.jsxs)("div",{children:[Object(qe.jsx)("h5",{children:" Your reply "}),Object(qe.jsxs)("p",{className:"textField p-3 mb-4",children:[" ",g," "]})]}):null,Object(qe.jsxs)("div",{className:"text-right px-3",children:[g?null:Object(qe.jsx)(i.b,{to:"/messages/update/".concat(p),children:Object(qe.jsx)("button",{className:"btn btn-sm ml-2 smallWidth form-control mb-1",children:"Reply"})}),Object(qe.jsx)("button",{className:"btn btn-sm ml-2 smallWidth form-control mb-1",onClick:function(){o(n)},children:"Done"})]}),Object(qe.jsx)("div",{className:"text-right px-3",children:Object(qe.jsx)(i.b,{to:"/requests/fetch-all",onClick:j.animateScroll.scrollToTop,children:Object(qe.jsx)("button",{className:"btn btn-sm mt-4 smallWidth form-control",children:"Go back"})})})]})})},xt=function(){var e=d((function(e){return e.jungleSwap.loggedInUser})),t=d((function(e){return e.jungleSwap.message})),n=d((function(e){return e.jungleSwap.isFetchingMessage})),c=d((function(e){return e.jungleSwap.isDeletingMessage})),s=Object(l.h)().messageId,r=u(),o=Object(l.g)();Object(a.useEffect)((function(){(new nt(r).protect(),e)&&(new jt(r).fetch(s),j.animateScroll.scrollToTop())}),[]);var m=function(e){r(ue(!0)),r(W(e)).unwrap().then((function(){!function(e){r(be(e)),r(Ne()),o.goBack()}(e)})).catch((function(e){console.log(e.message)}))};if(!e)return Object(qe.jsx)(l.a,{to:"/auth/unauthorized"});var p=t,b=p._id,h=p.seller,f=p.plant,g=p.request,O=p.reply;if(n||!h||!f)return Object(qe.jsx)(gt,{text:"Loading reply"});var x=f.name,v=h.username;return Object(qe.jsx)("div",{className:"container row mt-5 ",children:Object(qe.jsxs)("div",{className:"mt-5 col-11 col-md-5 offset-1 offset-md-5",children:[Object(qe.jsxs)("h2",{className:"mb-5",children:[" Your request for ",x," "]}),Object(qe.jsxs)("p",{className:"textField p-3 mb-4",children:[" ",g," "]}),O?Object(qe.jsxs)("div",{children:[Object(qe.jsxs)("h5",{children:[" Reply by ",v," "]}),Object(qe.jsxs)("p",{className:"textField p-3 mb-4",children:[" ",O," "]})]}):null,Object(qe.jsx)("div",{className:"text-right px-3",children:Object(qe.jsx)("button",{disabled:!!c,className:"btn btn-sm ml-2 smallWidth form-control mb-1",onClick:function(){m(b)},children:"Delete"})}),Object(qe.jsx)("div",{className:"text-right px-3",children:Object(qe.jsx)(i.b,{to:"/replies/fetch-all",onClick:j.animateScroll.scrollToTop,children:Object(qe.jsx)("button",{className:"btn btn-sm mt-4 smallWidth form-control",children:"Go back"})})})]})})},vt=function(){var e=d((function(e){return e.jungleSwap.loggedInUser})),t=d((function(e){return e.jungleSwap.message})),n=d((function(e){return e.jungleSwap.isUpdatingMessage})),c=u(),s=Object(l.g)();Object(a.useEffect)((function(){new nt(c).protect(),e&&j.animateScroll.scrollToTop()}),[]);var r=function(e){var t=e._id,n=e.buyer,a=e.seller,r=e.plant,i=e.request,l=e.reply,o=e.messageState,u={buyer:n,seller:a,plant:r,request:i,reply:l,messageState:o};c(oe(!0)),c(_({messageId:t,updatedMessage:u})).unwrap().then((function(e){!function(e){c(pe(e)),s.goBack()}(e)})).catch((function(e){console.log(e.message)}))};if(!e)return Object(qe.jsx)(l.a,{to:"/auth/unauthorized"});var i=t,o=(i._id,i.request);return Object(qe.jsx)("div",{className:"container row mt-5 ",children:Object(qe.jsxs)("div",{className:"mt-2 col-11 col-md-5 offset-1 offset-md-5",children:[Object(qe.jsx)("h2",{className:"mt-5 mb-4",children:" Reply your request "}),Object(qe.jsx)("div",{className:"card cardSmallWidth mb-5",children:Object(qe.jsxs)("div",{className:"card-body",children:[Object(qe.jsxs)("p",{children:[" ",o," "]}),Object(qe.jsx)("textarea",{name:"reply",placeholder:"Your reply",cols:31,rows:6,className:"mb-4 form-control",onChange:function(e){!function(e,t){var n=e.target,a=JSON.parse(JSON.stringify(t));a.reply=n.value,c(me(a))}(e,t)}}),Object(qe.jsxs)("div",{className:"row justify-content-end px-3",children:[Object(qe.jsx)("button",{disabled:!!n,className:"btn btn-sm smallWidth form-control mr-3 mb-2",onClick:function(){r(t)},children:"Submit"}),Object(qe.jsx)("button",{className:"btn btn-sm form-control mb-2",onClick:function(){s.goBack()},children:"Go back"})]})]})})]})})},wt=function(){return Object(qe.jsx)("div",{className:"unauthorized",children:Object(qe.jsxs)("div",{children:[Object(qe.jsx)("h1",{children:" Oh-oh! "}),Object(qe.jsx)("h2",{children:" We think you got lost in the jungle! "}),Object(qe.jsx)("h3",{children:" 401 Unauthorized "})]})})},Nt=function(){return Object(qe.jsx)("div",{className:"notFound",children:Object(qe.jsxs)("div",{children:[Object(qe.jsx)("h1",{children:" Oh-oh! "}),Object(qe.jsx)("h2",{children:" We think you got lost in the jungle! "}),Object(qe.jsx)("h3",{children:" 404 Not Found "}),Object(qe.jsx)(i.b,{to:"/",children:Object(qe.jsxs)("button",{className:"btn btn-sm ml-2 smallWidth form-control",children:["Take me home"," "]})})]})})},St=function(){return Object(a.useEffect)((function(){!function(e,t){var n=e.createElement("script");n.type="text/javascript",n.async=!0,n.src="https://widget.kommunicate.io/v2/kommunicate.app",e.getElementsByTagName("head")[0].appendChild(n),window.kommunicate=t,t._globals={appId:"10b22c52854a305b79bbdecc356bea5",popupWidget:!0,automaticChatOpenOnNavigation:!0}}(document,window.kommunicate||{})}),[]),Object(qe.jsx)("div",{})},yt=function(){var e=d((function(e){return e.jungleSwap.loggedInUser})),t=d((function(e){return e.jungleSwap.isFetchingPlants})),n=d((function(e){return e.jungleSwap.plants})),c=u();return Object(a.useEffect)((function(){new nt(c).protect(),e&&j.animateScroll.scrollToTop()}),[]),Object(qe.jsxs)("div",{className:"container mt-5",children:[Object(qe.jsx)("div",{className:"mt-5 mb-5",children:Object(qe.jsx)("h2",{children:" My plants "})}),t?Object(qe.jsx)(Ge,{}):Object(qe.jsx)("div",{className:"row row-cols-1 row-cols-md-3 g-4",children:n.map((function(t,n){return t.creator._id===e._id?Object(qe.jsx)(Le,{plant:t},n):Object(qe.jsx)(qe.Fragment,{})}))})]})},It=Object(l.i)((function(){return Object(qe.jsxs)("div",{className:"main",children:[Object(qe.jsx)(We,{}),Object(qe.jsxs)(l.d,{children:[Object(qe.jsx)(l.b,{exact:!0,path:"/",children:Object(qe.jsx)(Xe,{})}),Object(qe.jsx)(l.b,{path:"/auth/sign-up",children:Object(qe.jsx)($e,{})}),Object(qe.jsx)(l.b,{path:"/auth/sign-in",children:Object(qe.jsx)(et,{})}),Object(qe.jsx)(l.b,{path:"/auth/log-out",children:Object(qe.jsx)(tt,{})}),Object(qe.jsx)(l.b,{path:"/auth/unauthorized",children:Object(qe.jsx)(wt,{})}),Object(qe.jsx)(l.b,{path:"/plants/create",children:Object(qe.jsx)(at,{})}),Object(qe.jsx)(l.b,{path:"/plants/fetch/:plantId",children:Object(qe.jsx)(st,{})}),Object(qe.jsx)(l.b,{path:"/plants/update",children:Object(qe.jsx)(rt,{})}),Object(qe.jsx)(l.b,{path:"/plants/checkout",children:Object(qe.jsx)(dt,{})}),Object(qe.jsx)(l.b,{path:"/plants/my-own",children:Object(qe.jsx)(yt,{})}),Object(qe.jsx)(l.b,{path:"/messages/create",children:Object(qe.jsx)(ft,{})}),Object(qe.jsx)(l.b,{path:"/messages/update",children:Object(qe.jsx)(vt,{})}),Object(qe.jsx)(l.b,{path:"/requests/fetch-all",children:Object(qe.jsx)(pt,{})}),Object(qe.jsx)(l.b,{path:"/requests/fetch/:messageId",children:Object(qe.jsx)(Ot,{})}),Object(qe.jsx)(l.b,{path:"/replies/fetch-all",children:Object(qe.jsx)(ht,{})}),Object(qe.jsx)(l.b,{path:"/replies/fetch/:messageId",children:Object(qe.jsx)(xt,{})}),Object(qe.jsx)(l.b,{component:Nt})]}),Object(qe.jsx)(St,{}),Object(qe.jsx)(Ae,{})]})})),Pt=Object(g.a)({reducer:{jungleSwap:Fe}});n(101);r.a.render(Object(qe.jsx)(c.a.StrictMode,{children:Object(qe.jsx)(o.a,{store:Pt,children:Object(qe.jsx)(i.a,{children:Object(qe.jsx)(It,{})})})}),document.querySelector("#root"))},65:function(e,t,n){}},[[102,1,2]]]);
//# sourceMappingURL=main.6bd18cd0.chunk.js.map