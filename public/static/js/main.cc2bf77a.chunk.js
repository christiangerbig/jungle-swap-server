(this["webpackJsonpjungle-swap-client"]=this["webpackJsonpjungle-swap-client"]||[]).push([[0],{100:function(e,t,n){},101:function(e,t,n){"use strict";n.r(t);var s=n(1),a=n.n(s),c=n(18),r=n.n(c),l=n(3),i=n(11),o=(n(63),n(64),n(26)),u=function(){return Object(o.b)()},d=o.c,j=n(7),m=n(104),b=n(105),p=n(5),h=n.n(p),f=n(8),O=n(9),x=n(10),g=n.n(x),v="".concat("https://jungleswap.herokuapp.com","/api"),N=Object(O.b)("jungleSwap/fetchAllPlants",function(){var e=Object(f.a)(h.a.mark((function e(t,n){var s,a;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return s=n.dispatch,e.prev=1,e.next=4,g.a.get("".concat(v,"/plants/fetch"));case 4:a=e.sent,s(H(a.data)),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(1),console.log("Fetching plants failed",e.t0);case 11:case"end":return e.stop()}}),e,null,[[1,8]])})));return function(t,n){return e.apply(this,arguments)}}()),w=Object(O.b)("jungleSwap/fetchQueryPlants",function(){var e=Object(f.a)(h.a.mark((function e(t,n){var s,a;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return s=n.dispatch,e.prev=1,e.next=4,g.a.get("".concat(v,"/plants/search?q=").concat(t));case 4:a=e.sent,s(H(a.data)),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(1),console.log("Fetching query plants failed",e.t0);case 11:case"end":return e.stop()}}),e,null,[[1,8]])})));return function(t,n){return e.apply(this,arguments)}}()),y=Object(O.b)("jungleSwap/createPlant",function(){var e=Object(f.a)(h.a.mark((function e(t,n){var s,a,c,r,l,i,o,u,d,m,b,p,f,O,x;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return s=t.uploadForm,a=t.plant,c=t.history,r=n.dispatch,l=a.name,i=a.description,o=a.size,u=a.location,d=a.price,e.prev=3,e.next=6,g.a.post("".concat(v,"/upload"),s);case 6:return m=e.sent,b=m.data,p=b.imageUrl,f=b.imagePublicId,O={name:l,description:i,size:o,imageUrl:p,imagePublicId:f,location:u,price:d},e.prev=9,e.next=12,g.a.post("".concat(v,"/plants/create"),O,{withCredentials:!0});case 12:x=e.sent,r(G(x.data)),c.push("/"),j.animateScroll.scrollToBottom(),e.next=21;break;case 18:e.prev=18,e.t0=e.catch(9),r(be(e.t0.response.data.error));case 21:e.next=26;break;case 23:e.prev=23,e.t1=e.catch(3),r(be(e.t1.response.data.error));case 26:case"end":return e.stop()}}),e,null,[[3,23],[9,18]])})));return function(t,n){return e.apply(this,arguments)}}()),S=Object(O.b)("jungleSwap/readPlant",function(){var e=Object(f.a)(h.a.mark((function e(t,n){var s,a;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return s=n.dispatch,e.prev=1,e.next=4,g.a.get("".concat(v,"/plants/read/").concat(t),{withCredentials:!0});case 4:a=e.sent,s(J(a.data)),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(1),console.log("Read plant failed",e.t0);case 11:case"end":return e.stop()}}),e,null,[[1,8]])})));return function(t,n){return e.apply(this,arguments)}}()),I=Object(O.b)("jungleSwap/imageChange",function(){var e=Object(f.a)(h.a.mark((function e(t,n){var s,a,c,r,l,i,o,u,d,j;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return s=t.destroyImageData,a=t.image,c=t.plant,r=n.dispatch,e.prev=2,e.next=5,g.a.post("".concat(v,"/destroy"),s);case 5:return e.prev=5,(l=new FormData).append("image",a),e.next=10,g.a.post("".concat(v,"/upload"),l);case 10:i=e.sent,o=i.data,u=o.imagePublicId,d=o.imageUrl,(j=JSON.parse(JSON.stringify(c))).imagePublicId=u,j.imageUrl=d,r(J(j)),e.next=21;break;case 18:e.prev=18,e.t0=e.catch(5),console.log("Image upload failed",e.t0);case 21:e.next=26;break;case 23:e.prev=23,e.t1=e.catch(2),console.log("Delete old image failed",e.t1);case 26:case"end":return e.stop()}}),e,null,[[2,23],[5,18]])})));return function(t,n){return e.apply(this,arguments)}}()),k=Object(O.b)("jungleSwap/updatePlant",function(){var e=Object(f.a)(h.a.mark((function e(t,n){var s,a,c,r,l;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return s=t.plantId,a=t.updatedPlant,c=t.history,r=n.dispatch,e.prev=2,e.next=5,g.a.patch("".concat(v,"/plants/update/").concat(s),a);case 5:l=e.sent,r(B(l.data)),c.push("/"),r(Oe()),e.next=14;break;case 11:e.prev=11,e.t0=e.catch(2),console.log("Update plant failed",e.t0);case 14:case"end":return e.stop()}}),e,null,[[2,11]])})));return function(t,n){return e.apply(this,arguments)}}()),C=Object(O.b)("jungleSwap/deletePlant",function(){var e=Object(f.a)(h.a.mark((function e(t,n){var s,a,c,r,l;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return s=t.imagePublicId,a=t.plantId,c=t.history,r=n.dispatch,e.prev=2,l={imagePublicId:s},e.next=6,g.a.post("".concat(v,"/destroy"),l);case 6:return e.prev=6,e.next=9,g.a.delete("".concat(v,"/plants/delete/").concat(a));case 9:r(Y(a)),c.push("/"),r(Oe()),e.next=17;break;case 14:e.prev=14,e.t0=e.catch(6),console.log("Delete plant failed",e.t0);case 17:e.next=22;break;case 19:e.prev=19,e.t1=e.catch(2),console.log("Delete image failed",e.t1);case 22:case"end":return e.stop()}}),e,null,[[2,19],[6,14]])})));return function(t,n){return e.apply(this,arguments)}}()),P=Object(O.b)("jungleSwap/createPayment",function(){var e=Object(f.a)(h.a.mark((function e(t,n){var s,a;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return s=n.dispatch,e.prev=1,e.next=4,g.a.post("".concat(v,"/create-payment-intent"),{price:t.price});case 4:a=e.sent,s(Q(a.data.clientSecret)),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(1),console.log("Create payment failed",e.t0);case 11:case"end":return e.stop()}}),e,null,[[1,8]])})));return function(t,n){return e.apply(this,arguments)}}()),R=Object(O.b)("jungleSwap/payPlant",function(){var e=Object(f.a)(h.a.mark((function e(t,n){var s;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return s=n.dispatch,e.prev=1,e.next=4,g.a.post("".concat(v,"/create-payment-intent"),{},{withCredentials:!0});case 4:t.push("/"),s(Oe()),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(1),console.log("Checkout failed",e.t0);case 11:case"end":return e.stop()}}),e,null,[[1,8]])})));return function(t,n){return e.apply(this,arguments)}}()),U=Object(O.b)("jungleSwap/fetchAllMessages",function(){var e=Object(f.a)(h.a.mark((function e(t,n){var s,a;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return s=n.dispatch,e.prev=1,e.next=4,g.a.get("".concat(v,"/messages/fetch"));case 4:a=e.sent,s(V(a.data)),t&&s(ee()),t&&s(te()),e.next=13;break;case 10:e.prev=10,e.t0=e.catch(1),console.log("Fetching messages failed",e.t0);case 13:case"end":return e.stop()}}),e,null,[[1,10]])})));return function(t,n){return e.apply(this,arguments)}}()),q=Object(O.b)("jungleSwap/createMessage",function(){var e=Object(f.a)(h.a.mark((function e(t,n){var s,a,c,r;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return s=t.newMessage,a=t.history,c=n.dispatch,e.prev=2,e.next=5,g.a.post("".concat(v,"/messages/create"),s,{withCredentials:!0});case 5:r=e.sent,c(Z(r.data)),a.push("/plants/read/".concat(r.data.plant)),e.next=13;break;case 10:e.prev=10,e.t0=e.catch(2),c(be(e.t0.response.data.error));case 13:case"end":return e.stop()}}),e,null,[[2,10]])})));return function(t,n){return e.apply(this,arguments)}}()),E=Object(O.b)("jungleSwap/readMessage",function(){var e=Object(f.a)(h.a.mark((function e(t,n){var s,a;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return s=n.dispatch,e.prev=1,e.next=4,g.a.get("".concat(v,"/messages/read/").concat(t),{withCredentials:!0});case 4:a=e.sent,s(K(a.data)),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(1),console.log("Read message failed",e.t0);case 11:case"end":return e.stop()}}),e,null,[[1,8]])})));return function(t,n){return e.apply(this,arguments)}}()),F=Object(O.b)("jungleSwap/updateMessage",function(){var e=Object(f.a)(h.a.mark((function e(t,n){var s,a,c,r;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return s=t.messageId,a=t.updatedMessage,c=n.dispatch,e.prev=2,e.next=5,g.a.patch("".concat(v,"/messages/update/").concat(s),a);case 5:r=e.sent,c(X(r.data)),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(2),console.log("Update message failed",e.t0);case 12:case"end":return e.stop()}}),e,null,[[2,9]])})));return function(t,n){return e.apply(this,arguments)}}()),T=Object(O.b)("jungleSwap/deleteMessage",function(){var e=Object(f.a)(h.a.mark((function e(t,n){var s,a,c;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return s=t.messageId,a=t.history,c=n.dispatch,e.prev=2,e.next=5,g.a.delete("".concat(v,"/messages/delete/").concat(s));case 5:c($(s)),c(ue()),a&&a.push("/replies/fetch"),e.next=13;break;case 10:e.prev=10,e.t0=e.catch(2),console.log("Delete message failed",e.t0);case 13:case"end":return e.stop()}}),e,null,[[2,10]])})));return function(t,n){return e.apply(this,arguments)}}()),_=Object(O.b)("jungleSwap/readUserData",function(){var e=Object(f.a)(h.a.mark((function e(t,n){var s,a;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return s=n.dispatch,e.prev=1,e.next=4,g.a.get("".concat(v,"/user"),{withCredentials:!0});case 4:a=e.sent,s(de(a.data)),s(je(!1)),e.next=13;break;case 9:e.prev=9,e.t0=e.catch(1),console.log("Initializing fetching failed",e.t0),s(je(!1));case 13:case"end":return e.stop()}}),e,null,[[1,9]])})));return function(t,n){return e.apply(this,arguments)}}()),W=Object(O.b)("jungleSwap/signUp",function(){var e=Object(f.a)(h.a.mark((function e(t,n){var s,a,c,r;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return s=t.newUser,a=t.history,c=n.dispatch,e.prev=2,e.next=5,g.a.post("".concat(v,"/signup"),s);case 5:r=e.sent,c(de(r.data)),c(me(!0)),a.push("/"),e.next=14;break;case 11:e.prev=11,e.t0=e.catch(2),c(be(e.t0.response.data.error));case 14:case"end":return e.stop()}}),e,null,[[2,11]])})));return function(t,n){return e.apply(this,arguments)}}()),D=Object(O.b)("jungleSwap/signIn",function(){var e=Object(f.a)(h.a.mark((function e(t,n){var s,a,c,r,l;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return s=t.user,a=t.history,c=n.dispatch,e.prev=2,e.next=5,g.a.post("".concat(v,"/signin"),s,{withCredentials:!0});case 5:r=e.sent,l=r.data,c(de(l)),c(ne(l.amountOfRequests)),c(se(l.amountOfReplies)),c(me(!0)),a.push("/"),e.next=17;break;case 14:e.prev=14,e.t0=e.catch(2),c(be(e.t0.response.data.error));case 17:case"end":return e.stop()}}),e,null,[[2,14]])})));return function(t,n){return e.apply(this,arguments)}}()),M=Object(O.b)("jungleSwap/logOut",function(){var e=Object(f.a)(h.a.mark((function e(t,n){var s,a,c,r;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return s=t.user,a=t.intervalId,c=t.history,r=n.dispatch,e.prev=2,e.next=5,g.a.post("".concat(v,"/logout"),s,{withCredentials:!0});case 5:r(de(null)),clearInterval(a),r(re(null)),r(le(0)),r(ae(!1)),c.push("/"),j.animateScroll.scrollToTop(),e.next=17;break;case 14:e.prev=14,e.t0=e.catch(2),console.log("Logout failed",e.t0);case 17:case"end":return e.stop()}}),e,null,[[2,14]])})));return function(t,n){return e.apply(this,arguments)}}()),z=Object(O.c)({name:"jungleSwap",initialState:{isFetchingUser:!0,loggedInUser:null,isUserChange:!1,plants:[],plant:{},messages:[],message:{},amountOfRequests:0,amountOfReplies:0,isNewRequest:!1,isNewReply:!1,intervalId:null,delayCounter:0,headerContainerHeight:0,aboutContainerHeight:0,clientSecret:"",error:null},reducers:{setUser:function(e,t){e.loggedInUser=t.payload},setPlants:function(e,t){e.plants=t.payload},setPlant:function(e,t){e.plant=t.payload},addPlant:function(e,t){e.plants.push(t.payload)},setPlantChanges:function(e,t){var n=t.payload,s=n._id,a=n.name,c=n.description,r=n.size,l=n.imageUrl,i=n.imagePublicId,o=n.location,u=n.price;e.plants=e.plants.map((function(e){return e._id===s&&(e.name=a,e.description=c,e.size=r,e.imageUrl=l,e.imagePublicId=i,e.location=o,e.price=u),e}))},removePlant:function(e,t){e.plants=e.plants.filter((function(e){return e._id!==t.payload}))},setClientSecret:function(e,t){e.clientSecret=t.payload},setMessages:function(e,t){e.messages=t.payload},setMessage:function(e,t){e.message=t.payload},addMessage:function(e,t){e.messages.push(t.payload)},setMessageChanges:function(e,t){var n=t.payload,s=n._id,a=n.buyer,c=n.seller,r=n.plant,l=n.request,i=n.reply,o=n.messageState;e.messages=e.messages.map((function(e){return e._id===s&&(e.buyer=a,e.seller=c,e.plant=r,e.request=l,e.reply=i,e.messageState=o),e}))},removeMessage:function(e,t){e.messages=e.messages.filter((function(e){return e._id!==t.payload}))},setStartAmountOfRequests:function(e){e.loggedInUser&&(e.amountOfRequests=e.loggedInUser.amountOfRequests)},setStartAmountOfReplies:function(e){e.loggedInUser&&(e.amountOfReplies=e.loggedInUser.amountOfReplies)},setAmountOfRequests:function(e,t){e.amountOfRequests=t.payload},setAmountOfReplies:function(e,t){e.amountOfReplies=t.payload},setIsNewRequest:function(e,t){e.isNewRequest=t.payload},setIsNewReply:function(e,t){e.isNewReply=t.payload},setIntervalId:function(e,t){e.intervalId=t.payload},setDelayCounter:function(e,t){e.delayCounter=t.payload},increaseDelayCounter:function(e){e.delayCounter+=1},decreaseAmountOfRequests:function(e){e.amountOfRequests&&(e.amountOfRequests-=1)},decreaseAmountOfReplies:function(e){e.amountOfReplies&&(e.amountOfReplies-=1)},setLoggedInUser:function(e,t){e.loggedInUser=t.payload},setIsFetchingUser:function(e,t){e.isFetchingUser=t.payload},setIsUserChange:function(e,t){e.isUserChange=t.payload},setError:function(e,t){e.error=t.payload},setHeaderContainerHeight:function(e,t){e.headerContainerHeight=t.payload},setAboutContainerHeight:function(e,t){e.aboutContainerHeight=t.payload},scrollToAbout:function(e){j.animateScroll.scrollTo(e.headerContainerHeight)},scrollToPlants:function(e){j.animateScroll.scrollTo(e.headerContainerHeight+e.aboutContainerHeight)}}}),A=z.actions,L=A.setUser,H=A.setPlants,J=A.setPlant,G=A.addPlant,B=A.setPlantChanges,Y=A.removePlant,Q=A.setClientSecret,V=A.setMessages,K=A.setMessage,Z=A.addMessage,X=A.setMessageChanges,$=A.removeMessage,ee=A.setStartAmountOfRequests,te=A.setStartAmountOfReplies,ne=A.setAmountOfRequests,se=A.setAmountOfReplies,ae=A.setIsNewRequest,ce=A.setIsNewReply,re=A.setIntervalId,le=A.setDelayCounter,ie=A.increaseDelayCounter,oe=A.decreaseAmountOfRequests,ue=A.decreaseAmountOfReplies,de=A.setLoggedInUser,je=A.setIsFetchingUser,me=A.setIsUserChange,be=A.setError,pe=A.setHeaderContainerHeight,he=A.setAboutContainerHeight,fe=A.scrollToAbout,Oe=A.scrollToPlants,xe=z.reducer,ge=n(33),ve=n(34),Ne=n(0),we=function(){var e=d((function(e){return e.jungleSwap.loggedInUser})),t=d((function(e){return e.jungleSwap.isUserChange})),n=d((function(e){return e.jungleSwap.messages})),a=d((function(e){return e.jungleSwap.intervalId})),c=d((function(e){return e.jungleSwap.delayCounter})),r=d((function(e){return e.jungleSwap.amountOfRequests})),i=d((function(e){return e.jungleSwap.amountOfReplies})),o=d((function(e){return e.jungleSwap.isNewRequest})),p=d((function(e){return e.jungleSwap.isNewReply})),h=u();return Object(s.useEffect)((function(){return function(){a&&(clearInterval(a),h(re(null)),h(le(0)))}}),[]),Object(s.useEffect)((function(){t&&(h(me(!1)),h(re(setInterval((function(){h(ie())}),1e3))),h(ie()))}),[t]),Object(s.useEffect)((function(){if(e){h(U(t));var s=n.filter((function(t){var n=t.seller,s=t.messageState;return n._id===e._id&&!0===s})).length;r<s?(h(ne(s)),h(ae(!0))):r>s&&h(ne(s));var a=n.filter((function(t){var n=t.buyer,s=t.reply;return n._id===e._id&&s})).length;i<a&&(h(se(a)),h(ce(!0)))}}),[c]),Object(Ne.jsx)("div",{children:Object(Ne.jsxs)(m.a,{className:"pl-5",variant:"dark",expand:"lg",fixed:"top",children:[Object(Ne.jsx)(m.a.Brand,{children:Object(Ne.jsx)(l.b,{to:"/",onClick:j.animateScroll.scrollToTop,children:"JungleSwap"})}),Object(Ne.jsx)(m.a.Toggle,{"aria-controls":"basic-navbar-nav",children:(o||p)&&Object(Ne.jsx)(ge.a,{icon:ve.a})}),Object(Ne.jsx)(m.a.Collapse,{id:"basic-navbar-nav",children:Object(Ne.jsxs)(b.a,{className:"mr-auto",children:[Object(Ne.jsx)(Ne.Fragment,{children:Object(Ne.jsx)(l.b,{to:"/",className:"p-2",onClick:function(){h(Oe())},children:"All Plants"})}),e&&Object(Ne.jsxs)(Ne.Fragment,{children:[Object(Ne.jsx)(l.b,{className:"p-2",to:"/plants/create",children:"Create Plant"}),Object(Ne.jsxs)(l.b,{className:"p-2",to:"/requests/fetch",title:o?"new request":"",children:[o&&Object(Ne.jsx)(ge.a,{icon:ve.a}),"Requests"]}),Object(Ne.jsxs)(l.b,{className:"p-2",to:"/replies/fetch",title:p?"new reply":"",children:[p&&Object(Ne.jsx)(ge.a,{icon:ve.a}),"Replies"]})]}),e?Object(Ne.jsx)(Ne.Fragment,{children:Object(Ne.jsx)(l.b,{className:"p-2",to:"/logout",title:e.username,children:"Log out"})}):Object(Ne.jsxs)(Ne.Fragment,{children:[Object(Ne.jsx)(l.b,{className:"p-2",to:"/signin",children:"Sign in"}),Object(Ne.jsx)(l.b,{className:"p-2",to:"/signup",children:"Sign up"})]})]})})]})})},ye=function(){return Object(Ne.jsx)("div",{className:"footer-row",children:Object(Ne.jsxs)("footer",{children:["\xa9 2021",Object(Ne.jsx)(l.b,{to:"https://www.linkedin.com/in/christian-gerbig/",children:"Christian Gerbig"}),"&",Object(Ne.jsx)(l.b,{to:"https://www.linkedin.com/in/lisa-montebaur/",children:"Lisa Montebaur"})]})})},Se=n.p+"static/media/JungleSwap_Home.c4ed9b4c.png",Ie=n.p+"static/media/JungleSwap_Icon.a6c7c44a.png",ke=function(){return Object(Ne.jsx)("div",{className:"about centered container",children:Object(Ne.jsxs)("div",{className:"row",children:[Object(Ne.jsx)("div",{className:"col-sm-6 col-md-5 col-lg-6",children:Object(Ne.jsx)("img",{className:"image",src:Se,alt:"plants"})}),Object(Ne.jsx)("br",{}),Object(Ne.jsxs)("div",{className:"about col-sm-6 col-md-5 col-lg-6 px-5 noOverflow",children:[Object(Ne.jsx)("h4",{children:" Welcome to JungleSwap! "}),Object(Ne.jsx)("h5",{children:" Add green to your Home "}),Object(Ne.jsxs)("p",{children:['It"s easy-peasy. ',Object(Ne.jsx)("br",{}),"Share your plant offshoots. ",Object(Ne.jsx)("br",{}),"Make money! ",Object(Ne.jsx)("br",{}),"Or swap them for another plant. ",Object(Ne.jsx)("br",{}),'Don"t have any baby plants? ',Object(Ne.jsx)("br",{}),"You can simply shop and give a plant a new home."]}),Object(Ne.jsx)("img",{className:"icon",src:Ie,alt:"icon"})]})]})})},Ce=n(23),Pe=function(e){var t=e.plant,n=t._id,s=t.name,a=t.imageUrl,c=t.price;return Object(Ne.jsx)("div",{className:"col mb-5",children:Object(Ne.jsxs)("div",{className:"card card-medium-width text-center h-100",children:[Object(Ne.jsx)("img",{className:"card-img-top mediumPicSize",src:a,alt:s}),Object(Ne.jsxs)("div",{className:"card-body mb-5",children:[Object(Ne.jsxs)("h5",{children:[" ",s," "]}),Object(Ne.jsxs)("p",{children:[" ",c," \u20ac "]}),Object(Ne.jsx)(l.b,{className:"btn form-control smallWidth",to:"/plants/read/".concat(n),children:"Details"})]})]})},n)},Re=function(){var e=Object(s.useState)(""),t=Object(Ce.a)(e,2),n=t[0],a=t[1],c=d((function(e){return e.jungleSwap.plants})),r=u();return Object(s.useEffect)((function(){r(n?w(n):N())}),[n]),Object(Ne.jsxs)("div",{className:"container mt-5",children:[Object(Ne.jsxs)("div",{className:"mt-5 mb-3",children:[Object(Ne.jsx)("h2",{children:" Plants "}),Object(Ne.jsx)("hr",{}),Object(Ne.jsx)("h4",{children:" Search a plant "})]}),Object(Ne.jsx)("div",{className:"mb-4",children:Object(Ne.jsx)("input",{className:"smallWidth form-control",type:"text",placeholder:"Search...",value:n,onChange:function(e){a(e.target.value)}})}),Object(Ne.jsx)("div",{className:"row row-cols-1 row-cols-md-3 g-4",children:c&&c.map((function(e){return Object(Ne.jsx)(Pe,{plant:e})}))})]})},Ue=function(){var e=u();return Object(Ne.jsx)("div",{className:"row my-5",children:Object(Ne.jsxs)("div",{className:"col-6 offset-3 my-5 borderAround",children:[Object(Ne.jsx)("h2",{className:"title mb-2",children:" JungleSwap "}),Object(Ne.jsx)("h5",{className:"mt-3 mb-5",children:" Share your green heart "}),Object(Ne.jsx)("div",{className:"mb-5",children:Object(Ne.jsx)(l.b,{to:"/",className:"biggerFontSize",onClick:function(){e(fe())},children:"Try it!"})})]})})},qe=function(){var e=d((function(e){return e.jungleSwap.isFetchingUser})),t=d((function(e){return e.jungleSwap.loggedInUser})),n=d((function(e){return e.jungleSwap.plants})),a=u(),c=Object(s.useRef)([]);return Object(s.useEffect)((function(){a(N()),!t&&a(_());var e=Math.round(c.current[0].getBoundingClientRect().height);a(pe(e));var n=Math.round(c.current[1].getBoundingClientRect().height);a(he(n))}),[]),Object(Ne.jsxs)("div",{children:[!n&&Object(Ne.jsx)("div",{className:"spinner-grow text-success m-5",role:"status",children:Object(Ne.jsxs)("span",{className:"visually-hidden",children:[Object(Ne.jsx)("br",{})," ",Object(Ne.jsx)("br",{})," Loading plants..."]})}),e&&Object(Ne.jsx)("div",{className:"spinner-grow text-success m-5",role:"status",children:Object(Ne.jsxs)("span",{className:"visually-hidden",children:[Object(Ne.jsx)("br",{})," ",Object(Ne.jsx)("br",{})," Loading user data..."]})}),Object(Ne.jsx)("header",{className:"text-center pt-5 pb-5 headerImg",ref:function(e){c.current[0]=e},children:Object(Ne.jsx)(Ue,{})}),Object(Ne.jsx)("section",{ref:function(e){c.current[1]=e},children:Object(Ne.jsx)(ke,{})}),Object(Ne.jsx)("section",{children:Object(Ne.jsx)(Re,{})})]})},Ee=function(){var e=d((function(e){return e.jungleSwap.error})),t=u(),n=Object(i.g)();Object(s.useEffect)((function(){t(be(null)),t(ae(!1)),j.animateScroll.scrollToTop()}),[]);return Object(Ne.jsx)("div",{className:"container row mt-5",children:Object(Ne.jsxs)("div",{className:"mt-5 col-11 col-md-5 offset-1 offset-md-5",children:[Object(Ne.jsx)("h2",{className:"mb-5",children:" Sign Up "}),Object(Ne.jsxs)("form",{onSubmit:function(e){!function(e,n){e.preventDefault();var s=e.target,a=s.username,c=s.email,r=s.password,l={username:a.value,email:c.value.toLowerCase(),password:r.value};t(W({newUser:l,history:n}))}(e,n)},children:[Object(Ne.jsxs)("div",{className:"form-group",children:[Object(Ne.jsx)("label",{htmlFor:"InputUsername",children:" Username "}),Object(Ne.jsx)("input",{type:"text",className:"form-control",id:"InputUsername",name:"username",placeholder:"Enter"})]}),Object(Ne.jsxs)("div",{className:"form-group",children:[Object(Ne.jsx)("label",{htmlFor:"InputEmail",children:" Email address "}),Object(Ne.jsx)("input",{type:"email",className:"form-control",id:"InputEmail",name:"email",placeholder:"Enter"})]}),Object(Ne.jsxs)("div",{className:"form-group",children:[Object(Ne.jsx)("label",{htmlFor:"InputPassword",children:" Password "}),Object(Ne.jsx)("input",{name:"password",type:"password",className:"form-control",id:"InputPassword",placeholder:"Enter"})]}),e&&Object(Ne.jsxs)("p",{className:"warningColor",children:[" ",e," "]}),Object(Ne.jsx)("button",{type:"submit",className:"btn btn-sm mt-4 smallWidth form-control",formNoValidate:!0,children:"Sign up"}),Object(Ne.jsx)("p",{className:"padding",children:" Already have an account? "}),Object(Ne.jsx)("div",{className:"text-right",children:Object(Ne.jsx)(l.b,{to:"/signin",children:Object(Ne.jsx)("button",{className:"btn btn-sm ml-4 smallWidth form-control mt-0 mb-2",children:"Sign In"})})})]})]})})},Fe=function(){var e=d((function(e){return e.jungleSwap.error})),t=u(),n=Object(i.g)();Object(s.useEffect)((function(){t(be(null)),t(ae(!1)),j.animateScroll.scrollToTop()}),[]);return Object(Ne.jsx)("div",{className:"container row mt-5 custom fullscreen",children:Object(Ne.jsxs)("div",{className:"mt-5 col-11 col-md-5 offset-1 offset-md-5",children:[Object(Ne.jsx)("h2",{className:"mb-5",children:" Sign In "}),Object(Ne.jsxs)("form",{onSubmit:function(e){!function(e,n){e.preventDefault();var s=e.target,a=s.email,c=s.password,r={email:a.value,password:c.value};t(D({user:r,history:n}))}(e,n)},children:[Object(Ne.jsxs)("div",{className:"form-group",children:[Object(Ne.jsx)("label",{htmlFor:"InputEmail",children:" Email address "}),Object(Ne.jsx)("input",{type:"email",className:"form-control",id:"InputEmail",name:"email",placeholder:"Enter"})]}),Object(Ne.jsxs)("div",{className:"form-group",children:[Object(Ne.jsx)("label",{htmlFor:"InputPassword",children:" Password "}),Object(Ne.jsx)("input",{name:"password",type:"password",className:"form-control",id:"InputPassword",placeholder:"Enter"})]}),e&&Object(Ne.jsxs)("p",{className:"warningColor",children:[" ",e," "]}),Object(Ne.jsx)("button",{type:"submit",className:"btn btn-sm mt-4 smallWidth form-control",formNoValidate:!0,children:"Sign in"})]})]})})},Te=function(){var e=d((function(e){return e.jungleSwap.loggedInUser})),t=d((function(e){return e.jungleSwap.intervalId})),n=d((function(e){return e.jungleSwap.amountOfRequests})),a=d((function(e){return e.jungleSwap.amountOfReplies})),c=u(),r=Object(i.g)();return Object(s.useEffect)((function(){var s=JSON.parse(JSON.stringify(e));s.amountOfRequests=n,s.amountOfReplies=a,c(L(s)),c(M({user:s,intervalId:t,history:r}))}),[]),Object(Ne.jsx)("div",{})},_e=function(){var e=d((function(e){return e.jungleSwap.loggedInUser})),t=d((function(e){return e.jungleSwap.error})),n=u(),a=Object(i.g)();Object(s.useEffect)((function(){n(be(null)),j.animateScroll.scrollToTop()}),[]);return e?Object(Ne.jsx)("div",{className:"container row mt-5 fullscreen",children:Object(Ne.jsxs)("div",{className:"mt-5 col-12 col-md-6 offset-md-6",children:[Object(Ne.jsx)("h2",{className:"mb-5 text-left",children:" Create a plant "}),Object(Ne.jsxs)("form",{onSubmit:function(e){!function(e,t){e.preventDefault();var s=e.target,a=s.name,c=s.description,r=s.size,l=s.plantImage,i=s.location,o=s.price,u=l.files[0],d=new FormData;d.append("image",u);var j={name:a.value,description:c.value,size:r.value,location:i.value,price:o.value};n(y({uploadForm:d,plant:j,history:t}))}(e,a)},children:[Object(Ne.jsx)("label",{htmlFor:"enterName",children:" Name "}),Object(Ne.jsx)("input",{className:"mb-4 form-control",name:"name",type:"text",placeholder:"Enter",id:"enterName"}),Object(Ne.jsx)("label",{htmlFor:"enterDescription",children:" Description "}),Object(Ne.jsx)("input",{className:"mb-4 form-control",name:"description",type:"text",placeholder:"Enter",id:"enterDescription"}),Object(Ne.jsx)("label",{htmlFor:"enterSize",children:" Size (cm) "}),Object(Ne.jsx)("input",{className:"mb-4 form-control",name:"size",type:"number",min:"1",placeholder:"Enter",id:"enterSize"}),Object(Ne.jsx)("label",{htmlFor:"enterLocation",children:" Location "}),Object(Ne.jsxs)("select",{className:"mb-4 form-control p-2",name:"location",id:"enterLocation",children:[Object(Ne.jsx)("option",{children:" Select location "}),Object(Ne.jsx)("option",{value:"sun",children:" sun "}),Object(Ne.jsx)("option",{value:"shade",children:" shade "}),Object(Ne.jsx)("option",{value:"sun and shade",children:" sun and shade "})]}),Object(Ne.jsx)("label",{htmlFor:"enterPrice",children:" Price (EUR) "}),Object(Ne.jsx)("input",{className:"mb-4 form-control",name:"price",type:"number",min:"1",placeholder:"Enter",id:"enterPrice"}),Object(Ne.jsx)("label",{htmlFor:"enterImage",children:" Image "}),Object(Ne.jsx)("input",{className:"mb-4 form-control",name:"plantImage",type:"file",id:"enterImage"}),t&&Object(Ne.jsxs)("p",{className:"warningColor",children:[" ",t," "]}),Object(Ne.jsxs)("div",{className:"col-12 text-right pr-0",children:[Object(Ne.jsx)("button",{className:"btn btn-sm form-control smallWidth ml-4 mb-2",type:"submit",children:"Create"}),Object(Ne.jsx)(l.b,{to:"/",children:Object(Ne.jsx)("button",{className:"btn btn-sm form-control smallWidth ml-4 mb-2",children:"Go back"})})]})]})]})}):Object(Ne.jsx)(i.a,{to:"/signup"})},We=function(){var e=d((function(e){return e.jungleSwap.loggedInUser})),t=d((function(e){return e.jungleSwap.messages})),n=d((function(e){return e.jungleSwap.plant})),a=Object(i.h)().plantId,c=u(),r=Object(i.g)();Object(s.useEffect)((function(){c(S(a)),j.animateScroll.scrollToTop()}),[]);if(!e)return Object(Ne.jsx)(i.a,{to:"/signup"});var o=n,m=o._id,b=o.name,p=o.description,h=o.size,f=o.imageUrl,O=o.imagePublicId,x=o.location,g=o.price,v=o.creator;return v?Object(Ne.jsxs)("div",{className:"container mt-5 row row-md-10 offset-md-4",children:[Object(Ne.jsx)("div",{className:"mt-4 mb-3 pt-4 container",children:Object(Ne.jsx)("h2",{children:" Plant details "})}),Object(Ne.jsx)("div",{className:"col",children:Object(Ne.jsxs)("div",{className:"card cardMediumWidth",children:[f&&Object(Ne.jsx)("img",{className:"card-img-top mediumPicSize",src:f,alt:b}),Object(Ne.jsxs)("div",{className:"ml-2 mt-2",children:[Object(Ne.jsx)("span",{children:" Name: "})," ",b]}),Object(Ne.jsxs)("div",{className:"ml-2 mt-2",children:[Object(Ne.jsx)("span",{children:" Description: "})," ",p]}),Object(Ne.jsxs)("div",{className:"ml-2 mt-2",children:[Object(Ne.jsx)("span",{children:" Size: "})," ",h," cm"]}),Object(Ne.jsxs)("div",{className:"ml-2 mt-2",children:[Object(Ne.jsx)("span",{children:" Likes: "})," ",x]}),Object(Ne.jsxs)("div",{className:"ml-2 mt-2",children:[Object(Ne.jsx)("span",{children:" Price: "})," ",g," \u20ac"]}),Object(Ne.jsx)("div",{className:"ml-2 mt-2 col justify-content-center",children:Object(Ne.jsx)("div",{className:"row-2 justify-content-center",children:Object(Ne.jsxs)("div",{className:"card-body text-right pt-0",children:[e._id===v._id?Object(Ne.jsxs)("div",{className:"p-0",children:[Object(Ne.jsx)(l.b,{to:"/plants/update",children:Object(Ne.jsx)("button",{className:"btn btn-sm ml-2 form-control smallWidth mb-2",children:"Update"})}),Object(Ne.jsx)("button",{className:"btn btn-sm ml-2 form-control smallWidth mb-2",onClick:function(){!function(e,t,n,s){s.forEach((function(e){e.plant._id===t&&c(T({messageId:e._id,history:null}))})),c(C({imagePublicId:e,plantId:t,history:n}))}(O,m,r,t)},children:"Delete"})]}):Object(Ne.jsxs)("div",{children:[Object(Ne.jsx)(l.b,{to:"/plants/checkout",children:Object(Ne.jsx)("button",{className:"btn btn-sm ml-2 form-control smallWidth mb-2",children:"Buy"})}),Object(Ne.jsx)(l.b,{to:"/messages/create",children:Object(Ne.jsx)("button",{className:"btn btn-sm ml-2 form-control smallWidth mb-2",children:"Swap"})})]}),Object(Ne.jsx)(l.b,{to:"/",onClick:function(){c(Oe())},children:Object(Ne.jsx)("button",{className:"btn btn-sm ml-2 form-control smallWidth mb-3",children:"Go back"})})]})})})]})})]}):Object(Ne.jsx)("div",{className:"spinner-grow text-success m-5",role:"status",children:Object(Ne.jsxs)("span",{className:"visually-hidden",children:[Object(Ne.jsx)("br",{})," ",Object(Ne.jsx)("br",{})," Loading plant details..."]})})},De=function(){var e=d((function(e){return e.jungleSwap.plant})),t=u(),n=Object(i.g)();Object(s.useEffect)((function(){j.animateScroll.scrollToTop()}),[]);var a=function(e,n,s){var a=e.target,c=JSON.parse(JSON.stringify(n));switch(s){case 0:c.name=a.value;break;case 1:c.description=a.value;break;case 2:c.size=a.value;break;case 3:c.location=a.value;break;case 4:c.price=a.value}t(J(c))},c=e,r=c._id,o=c.name,m=c.description,b=c.size,p=c.imageUrl,h=c.price;return Object(Ne.jsx)("div",{className:"container row mt-5 ",children:Object(Ne.jsxs)("div",{className:"mt-2 col-12 col-md-6 offset-md-6",children:[Object(Ne.jsx)("h2",{className:"mt-5 mb-4 text-left",children:" Update your plant "}),Object(Ne.jsxs)("div",{className:"card cardMediumWidth mb-5",children:[Object(Ne.jsx)("img",{className:"mb-2 smallPicSize",src:p,alt:o}),Object(Ne.jsxs)("div",{className:"card-body",children:[Object(Ne.jsx)("label",{htmlFor:"updateName",children:" Name "}),Object(Ne.jsx)("input",{className:"mb-4 form-control",type:"text",onChange:function(t){a(t,e,0)},value:o,id:"updateName"}),Object(Ne.jsx)("label",{htmlFor:"updateDescription",children:" Description "}),Object(Ne.jsx)("input",{className:"mb-4 form-control",type:"text",onChange:function(t){a(t,e,1)},value:m,id:"updateDescription"}),Object(Ne.jsx)("label",{htmlFor:"updateSize",children:" Size (cm) "}),Object(Ne.jsx)("input",{className:"mb-4 form-control",type:"number",onChange:function(t){a(t,e,2)},value:b,id:"updateSize"}),Object(Ne.jsx)("label",{htmlFor:"updateLocation",children:" Location "}),Object(Ne.jsxs)("select",{className:"mb-4 form-control px-2",onChange:function(t){a(t,e,3)},name:"location",placeholder:"Select",id:"updateLocation",children:[Object(Ne.jsx)("option",{value:"sun",children:" sun "}),Object(Ne.jsx)("option",{value:"shade",children:" shade "}),Object(Ne.jsx)("option",{value:"sun and shade",children:" sun and shade "})]}),Object(Ne.jsx)("label",{htmlFor:"updatePrice",children:" Price (EUR) "}),Object(Ne.jsx)("input",{className:"mb-4 form-control",name:"price",type:"number",min:"1",onChange:function(t){a(t,e,4)},value:h,id:"updatePrice"}),Object(Ne.jsx)("label",{htmlFor:"updateImage",children:" Image "}),Object(Ne.jsx)("input",{className:"mb-4 form-control",onChange:function(n){!function(e,n){var s=e.target.files[0],a=n.imagePublicId;t(I({destroyImageData:{imagePublicId:a},image:s,plant:n}))}(n,e)},type:"file",id:"updateImage"}),Object(Ne.jsxs)("div",{className:"col-12 text-right pr-0",children:[Object(Ne.jsx)("button",{className:"btn btn-sm ml-4 form-control smallWidth mb-2",onClick:function(){!function(e,n){var s=e._id,a=e.name,c=e.description,r=e.size,l=e.imageUrl,i=e.imagePublicId,o=e.location,u=e.price;t(k({plantId:s,updatedPlant:{name:a,description:c,size:r,imageUrl:l,imagePublicId:i,location:o,price:u},history:n}))}(e,n)},children:"Save"}),Object(Ne.jsx)(l.b,{to:"/plants/read/".concat(r),children:Object(Ne.jsx)("button",{className:"btn btn-sm ml-4 smallWidth form-control mb-2",children:"Go back"})})]})]})]})]})})},Me=n(58),ze=n(22),Ae=function(){var e=Object(s.useState)(!1),t=Object(Ce.a)(e,2),n=t[0],a=t[1],c=Object(s.useState)(!1),r=Object(Ce.a)(c,2),o=r[0],j=r[1],m=Object(s.useState)(!0),b=Object(Ce.a)(m,2),p=b[0],O=b[1],x=Object(s.useState)(""),g=Object(Ce.a)(x,2),v=g[0],N=g[1],w=Object(ze.useStripe)(),y=Object(ze.useElements)(),S=d((function(e){return e.jungleSwap.clientSecret})),I=d((function(e){return e.jungleSwap.plant})),k=u(),C=Object(i.g)();Object(s.useEffect)((function(){return k(P(I)),function(){C.push("/"),k(Oe())}}),[]);var U=function(){var e=Object(f.a)(h.a.mark((function e(t){return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:O(t.empty),N(t.error?t.error.message:"");case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),q=function(){var e=Object(f.a)(h.a.mark((function e(t){var n;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),j(!0),e.next=4,w.confirmCardPayment(S,{payment_method:{card:y.getElement(ze.CardElement)}});case 4:(n=e.sent).error?(N("Payment failed ".concat(n.error.message)),j(!1)):(N(""),j(!1),a(!0));case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),E=I,F=E._id,T=E.name,_=E.price;return Object(Ne.jsxs)("div",{className:"container col-9",children:[Object(Ne.jsxs)("form",{className:"checkoutForm mt-5",id:"payment-form",onSubmit:q,children:[Object(Ne.jsxs)("h2",{className:"text-left mb-2 p-2",children:[" ",T," "]}),Object(Ne.jsxs)("h3",{className:"text-left mb-4 p-2",children:[" Price: ",_," \u20ac "]}),Object(Ne.jsx)(ze.CardElement,{className:"p-2",id:"card-element",options:{style:{base:{color:"#32325d",fontFamily:"Arial, sans-serif",fontSmoothing:"antialiased",fontSize:"16px","::placeholder":{color:"#32325d"}},invalid:{color:"#fa755a",iconColor:"#fa755a"}}},onChange:U}),Object(Ne.jsx)("div",{className:"row justify-content-center",children:Object(Ne.jsx)("button",{onClick:function(){k(R(C))},className:"btn btn-sm mt-5 mb-4",disabled:o||p||n,id:"submit",children:Object(Ne.jsx)("span",{id:"button-text",children:o?Object(Ne.jsx)("div",{className:"spinner",id:"spinner"}):"Pay now"})})}),v&&Object(Ne.jsx)("div",{className:"card-error",role:"alert",children:v}),Object(Ne.jsx)("p",{className:n?"result-message text-center":"result-message hidden text-center",children:"Payment succeeded."})]}),Object(Ne.jsx)("div",{className:"row justify-content-center",children:n?Object(Ne.jsx)(l.b,{to:"/",onClick:function(){k(Oe())},children:Object(Ne.jsx)("button",{className:"btn btn-sm form-control",children:" Go back "})}):Object(Ne.jsx)(l.b,{to:"/plants/read/".concat(F),children:Object(Ne.jsx)("button",{className:"btn btn-sm form-control",children:" Go back "})})})]})},Le=Object(Me.a)("pk_test_51IQBsPA6EAM4YnfDyrjHWnLHzZ5KkI9tsERzYhBGVoctZBrFUb4Sda035HvcQKpp7thFiqW6QmO8ytPbOAMTg33z00cHvcbojv"),He=function(){return Object(s.useEffect)((function(){j.animateScroll.scrollToTop()}),[]),Object(Ne.jsx)("div",{className:"container row mt-5",children:Object(Ne.jsx)("div",{className:"mt-5 col-11 col-md-6 offset-1 offset-md-5 App",children:Object(Ne.jsx)(ze.Elements,{stripe:Le,children:Object(Ne.jsx)(Ae,{})})})})},Je=function(e){var t=e.message,n=d((function(e){return e.jungleSwap.loggedInUser})),s=t._id,a=t.buyer,c=t.seller,r=t.plant,i=t.messageState;return Object(Ne.jsx)(Ne.Fragment,{children:n&&c._id===n._id&&!0===i&&Object(Ne.jsxs)("div",{className:"card p-3 mt-4",children:[Object(Ne.jsxs)("h4",{children:[" Request for ",r.name," "]}),Object(Ne.jsxs)("h5",{children:[" by ",a.username," "]}),Object(Ne.jsx)("div",{className:"text-center",children:Object(Ne.jsx)(l.b,{className:"btn smallWidth form-control",to:"/requests/read/".concat(s),children:"Details"})})]},s)})},Ge=function(){var e=d((function(e){return e.jungleSwap.loggedInUser})),t=d((function(e){return e.jungleSwap.isUserChange})),n=d((function(e){return e.jungleSwap.messages})),a=d((function(e){return e.jungleSwap.amountOfRequests})),c=u();return Object(s.useEffect)((function(){var e=function(){c(ae(!1)),j.animateScroll.scrollToTop()};return c(U(t)),e(),function(){e()}}),[]),e?n?Object(Ne.jsx)("div",{className:"container row mt-5",children:Object(Ne.jsxs)("div",{className:"mt-5 col-11 col-md-5 offset-1 offset-md-5",children:[Object(Ne.jsx)("h2",{children:" Requests for your plants "}),Object(Ne.jsxs)("h3",{className:"mb-4",children:[" [",a,"] "]}),Object(Ne.jsx)("div",{className:"text-right pr-2",children:Object(Ne.jsx)(l.b,{to:"/",children:Object(Ne.jsx)("button",{className:"btn btn-sm mt-4 smallWidth form-control",children:"Go back"})})}),n.map((function(e){return Object(Ne.jsx)(Je,{message:e})})),0!==a&&Object(Ne.jsx)("div",{className:"text-right mt-4 pr-2",children:Object(Ne.jsx)(l.b,{to:"/",children:Object(Ne.jsx)("button",{className:"btn btn-sm mt-4 smallWidth form-control",children:"Go back"})})})]})}):Object(Ne.jsx)("div",{className:"spinner-grow text-success m-5",role:"status",children:Object(Ne.jsxs)("span",{className:"visually-hidden",children:[Object(Ne.jsx)("br",{})," ",Object(Ne.jsx)("br",{})," Loading requests..."]})}):Object(Ne.jsx)(i.a,{to:"/signup"})},Be=function(e){var t=e.message,n=d((function(e){return e.jungleSwap.loggedInUser})),s=t._id,a=t.buyer,c=t.seller,r=t.plant,i=t.reply;return Object(Ne.jsx)(Ne.Fragment,{children:n&&a._id===n._id&&i&&Object(Ne.jsxs)("div",{className:"card p-3 mt-4 ",children:[Object(Ne.jsxs)("h4",{children:[" Reply for ",r.name," "]}),Object(Ne.jsxs)("h5",{children:[" by ",c.username," "]}),Object(Ne.jsx)("div",{className:"text-center",children:Object(Ne.jsx)(l.b,{className:"btn smallWidth form-control",to:"/replies/read/".concat(s),children:"Details"})})]},s)})},Ye=function(){var e=d((function(e){return e.jungleSwap.loggedInUser})),t=d((function(e){return e.jungleSwap.isUserChange})),n=d((function(e){return e.jungleSwap.messages})),a=d((function(e){return e.jungleSwap.amountOfReplies})),c=u();return Object(s.useEffect)((function(){var e=function(){c(ce(!1)),j.animateScroll.scrollToTop()};return c(U(t)),e(),function(){e()}}),[]),e?n?Object(Ne.jsx)("div",{className:"container row mt-5",children:Object(Ne.jsxs)("div",{className:"mt-5 col-11 col-md-5 offset-1 offset-md-5",children:[Object(Ne.jsx)("h2",{children:" Replies for your requests "}),Object(Ne.jsxs)("h3",{className:"mb-4",children:[" [",a,"] "]}),Object(Ne.jsx)("div",{className:"text-right pr-2",children:Object(Ne.jsx)(l.b,{to:"/",children:Object(Ne.jsx)("button",{className:"btn btn-sm mt-4 smallWidth form-control",children:"Go back"})})}),n.map((function(e){return Object(Ne.jsx)(Be,{message:e})})),0!==a&&Object(Ne.jsx)("div",{className:"text-right mt-4 pr-2",children:Object(Ne.jsx)(l.b,{to:"/",children:Object(Ne.jsx)("button",{className:"btn btn-sm mt-4 smallWidth form-control",children:"Go back"})})})]})}):Object(Ne.jsx)("div",{className:"spinner-grow text-success m-5",role:"status",children:Object(Ne.jsxs)("span",{className:"visually-hidden",children:[Object(Ne.jsx)("br",{})," ",Object(Ne.jsx)("br",{})," Loading replies..."]})}):Object(Ne.jsx)(i.a,{to:"/signup"})},Qe=function(){var e=d((function(e){return e.jungleSwap.plant})),t=d((function(e){return e.jungleSwap.error})),n=u(),a=Object(i.g)();Object(s.useEffect)((function(){n(be(null)),j.animateScroll.scrollToTop()}),[]);var c=e,r=c._id,o=c.name;return Object(Ne.jsx)("div",{className:"container row mt-5",children:Object(Ne.jsxs)("div",{className:"mt-5 col-11 col-md-5 offset-1 offset-md-5",children:[Object(Ne.jsx)("h2",{className:"mb-4",children:" Your message "}),Object(Ne.jsxs)("h3",{className:"mb-4",children:[" for ",o," "]}),Object(Ne.jsxs)("form",{className:"pl-0",onSubmit:function(t){!function(e,t,s){e.preventDefault();var a=e.target.request,c=t._id,r={seller:t.creator._id,plant:c,request:a.value};n(q({newMessage:r,history:s}))}(t,e,a)},children:[Object(Ne.jsx)("div",{children:Object(Ne.jsx)("textarea",{className:"mb-4 form-control",name:"request",cols:35,rows:7})}),t&&Object(Ne.jsxs)("p",{className:"warningColor",children:[" ",t," "]}),Object(Ne.jsxs)("div",{className:"text-right",children:[Object(Ne.jsx)("button",{className:"btn btn-sm mx-2 form-control smallWidth",type:"submit",children:"Send"}),Object(Ne.jsx)(l.b,{to:"/plants/read/".concat(r),children:Object(Ne.jsx)("button",{className:"btn btn-sm mx-2 form-control smallWidth",children:"Go back"})})]})]})]})})},Ve=function(){var e=d((function(e){return e.jungleSwap.message})),t=Object(i.h)().messageId,n=u(),a=Object(i.g)();Object(s.useEffect)((function(){n(E(t)),j.animateScroll.scrollToTop()}),[]);var c=e,r=c._id,o=c.buyer,m=c.plant,b=c.request,p=c.reply;if(!o||!m)return Object(Ne.jsx)("div",{className:"spinner-grow text-success m-5",role:"status",children:Object(Ne.jsxs)("span",{className:"visually-hidden",children:[Object(Ne.jsx)("br",{})," ",Object(Ne.jsx)("br",{})," Loading message..."]})});return Object(Ne.jsx)("div",{className:"container row mt-5 ",children:Object(Ne.jsxs)("div",{className:"mt-5 col-11 col-md-5 offset-1 offset-md-5",children:[Object(Ne.jsxs)("h2",{className:"mb-5",children:[" Request for ",m.name," "]}),Object(Ne.jsxs)("h5",{children:[" by ",o.username," "]}),Object(Ne.jsxs)("p",{className:"textField p-3 mb-4",children:[" ",b," "]}),p&&Object(Ne.jsxs)("div",{children:[Object(Ne.jsx)("h5",{children:" Your reply "}),Object(Ne.jsxs)("p",{className:"textField p-3 mb-4",children:[" ",p," "]})]}),Object(Ne.jsxs)("div",{className:"text-right px-3",children:[!p&&Object(Ne.jsx)(l.b,{to:"/messages/update/".concat(r),children:Object(Ne.jsx)("button",{className:"btn btn-sm ml-2 smallWidth form-control mb-1",children:"Reply"})}),Object(Ne.jsx)("button",{className:"btn btn-sm ml-2 smallWidth form-control mb-1",onClick:function(){!function(e,t){var s=JSON.parse(JSON.stringify(e));s.messageState=!1,n(K(s));var a=s._id,c=s.buyer,r=s.seller,l=s.plant,i=s.request,o=s.reply,u=s.messageState;n(F({messageId:a,updatedMessage:{buyer:c,seller:r,plant:l,request:i,reply:o,messageState:u}})),n(oe()),t.push("/requests/fetch")}(e,a)},children:"Done"})]}),Object(Ne.jsx)("div",{className:"text-right px-3",children:Object(Ne.jsx)(l.b,{to:"/requests/fetch",onClick:j.animateScroll.scrollToTop,children:Object(Ne.jsx)("button",{className:"btn btn-sm mt-4 smallWidth form-control",children:"Go back"})})})]})})},Ke=function(){var e=d((function(e){return e.jungleSwap.message})),t=Object(i.h)().messageId,n=u(),a=Object(i.g)();Object(s.useEffect)((function(){n(E(t)),j.animateScroll.scrollToTop()}),[]);var c=e,r=c._id,o=c.buyer,m=c.seller,b=c.plant,p=c.request,h=c.reply;return o&&b?Object(Ne.jsx)("div",{className:"container row mt-5 ",children:Object(Ne.jsxs)("div",{className:"mt-5 col-11 col-md-5 offset-1 offset-md-5",children:[Object(Ne.jsxs)("h2",{className:"mb-5",children:[" Your request for ",b.name," "]}),Object(Ne.jsxs)("p",{className:"textField p-3 mb-4",children:[" ",p," "]}),h&&Object(Ne.jsxs)("div",{children:[Object(Ne.jsxs)("h5",{children:[" Reply by ",m.username," "]}),Object(Ne.jsxs)("p",{className:"textField p-3 mb-4",children:[" ",h," "]})]}),Object(Ne.jsx)("div",{className:"text-right px-3",children:Object(Ne.jsx)("button",{className:"btn btn-sm ml-2 smallWidth form-control mb-1",onClick:function(){n(T({messageId:r,history:a}))},children:"Delete"})}),Object(Ne.jsx)("div",{className:"text-right px-3",children:Object(Ne.jsx)(l.b,{to:"/replies/fetch",onClick:j.animateScroll.scrollToTop,children:Object(Ne.jsx)("button",{className:"btn btn-sm mt-4 smallWidth form-control",children:"Go back"})})})]})}):Object(Ne.jsx)("div",{className:"spinner-grow text-success m-5",role:"status",children:Object(Ne.jsxs)("span",{className:"visually-hidden",children:[Object(Ne.jsx)("br",{})," ",Object(Ne.jsx)("br",{})," Loading replies..."]})})},Ze=function(){var e=d((function(e){return e.jungleSwap.message})),t=u(),n=Object(i.g)();Object(s.useEffect)((function(){j.animateScroll.scrollToTop()}),[]);var a=e,c=a._id,r=a.request;return Object(Ne.jsx)("div",{className:"container row mt-5 ",children:Object(Ne.jsxs)("div",{className:"mt-2 col-11 col-md-5 offset-1 offset-md-5",children:[Object(Ne.jsx)("h2",{className:"mt-5 mb-4",children:" Reply your request "}),Object(Ne.jsx)("div",{className:"card cardSmallWidth mb-5",children:Object(Ne.jsxs)("div",{className:"card-body",children:[Object(Ne.jsxs)("p",{children:[" ",r," "]}),Object(Ne.jsx)("textarea",{className:"mb-4 form-control",name:"reply",cols:31,rows:6,placeholder:"Your reply",onChange:function(n){!function(e,n){var s=e.target,a=JSON.parse(JSON.stringify(n));a.reply=s.value,t(K(a))}(n,e)}}),Object(Ne.jsxs)("div",{className:"row justify-content-end px-3",children:[Object(Ne.jsx)("button",{className:"btn btn-sm smallWidth form-control mr-3 mb-2",onClick:function(){!function(e,n){var s=e._id,a=e.buyer,c=e.seller,r=e.plant,l=e.request,i=e.reply,o=e.messageState;t(F({messageId:s,updatedMessage:{buyer:a,seller:c,plant:r,request:l,reply:i,messageState:o}})),n.push("/requests/read/".concat(s))}(e,n)},children:"Submit"}),Object(Ne.jsx)(l.b,{to:"/requests/read/".concat(c),children:Object(Ne.jsx)("button",{className:"btn btn-sm form-control mb-2",children:"Go back"})})]})]})})]})})},Xe=function(){return Object(Ne.jsx)("div",{className:"notFound",children:Object(Ne.jsxs)("div",{children:[Object(Ne.jsxs)("h2",{children:["Oh-oh! ",Object(Ne.jsx)("br",{})," ",Object(Ne.jsx)("br",{}),"We think you got lost in the jungle!"]}),Object(Ne.jsx)("h3",{children:" 404 Not Found "}),Object(Ne.jsx)(l.b,{to:"/",children:Object(Ne.jsxs)("button",{className:"btn btn-sm ml-2 smallWidth form-control",children:["Take me home"," "]})})]})})},$e=function(){return Object(s.useEffect)((function(){!function(e,t){var n=document.createElement("script");n.type="text/javascript",n.async=!0,n.src="https://widget.kommunicate.io/v2/kommunicate.app",document.getElementsByTagName("head")[0].appendChild(n),window.kommunicate=t,t._globals={appId:"10b22c52854a305b79bbdecc356bea5",popupWidget:!0,automaticChatOpenOnNavigation:!0}}(document,window.kommunicate||{})}),[]),Object(Ne.jsx)("div",{})},et=Object(i.i)((function(){return Object(Ne.jsxs)("div",{className:"main",children:[Object(Ne.jsx)(we,{}),Object(Ne.jsxs)(i.d,{children:[Object(Ne.jsx)(i.b,{exact:!0,path:"/",children:Object(Ne.jsx)(qe,{})}),Object(Ne.jsx)(i.b,{path:"/plants/create",children:Object(Ne.jsx)(_e,{})}),Object(Ne.jsx)(i.b,{path:"/plants/read/:plantId",children:Object(Ne.jsx)(We,{})}),Object(Ne.jsx)(i.b,{path:"/plants/update",children:Object(Ne.jsx)(De,{})}),Object(Ne.jsx)(i.b,{path:"/plants/checkout",children:Object(Ne.jsx)(He,{})}),Object(Ne.jsx)(i.b,{path:"/messages/create",children:Object(Ne.jsx)(Qe,{})}),Object(Ne.jsx)(i.b,{path:"/messages/update",children:Object(Ne.jsx)(Ze,{})}),Object(Ne.jsx)(i.b,{path:"/requests/fetch",children:Object(Ne.jsx)(Ge,{})}),Object(Ne.jsx)(i.b,{path:"/requests/read/:messageId",children:Object(Ne.jsx)(Ve,{})}),Object(Ne.jsx)(i.b,{path:"/replies/fetch",children:Object(Ne.jsx)(Ye,{})}),Object(Ne.jsx)(i.b,{path:"/replies/read/:messageId",children:Object(Ne.jsx)(Ke,{})}),Object(Ne.jsx)(i.b,{path:"/signup",children:Object(Ne.jsx)(Ee,{})}),Object(Ne.jsx)(i.b,{path:"/signin",children:Object(Ne.jsx)(Fe,{})}),Object(Ne.jsx)(i.b,{path:"/logout",children:Object(Ne.jsx)(Te,{})}),Object(Ne.jsx)(i.b,{component:Xe})]}),Object(Ne.jsx)($e,{}),Object(Ne.jsx)(ye,{})]})})),tt=Object(O.a)({reducer:{jungleSwap:xe}});n(100);r.a.render(Object(Ne.jsx)(a.a.StrictMode,{children:Object(Ne.jsx)(o.a,{store:tt,children:Object(Ne.jsx)(l.a,{children:Object(Ne.jsx)(et,{})})})}),document.querySelector("#root"))},64:function(e,t,n){}},[[101,1,2]]]);
//# sourceMappingURL=main.cc2bf77a.chunk.js.map