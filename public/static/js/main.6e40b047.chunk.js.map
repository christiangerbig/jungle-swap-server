{"version":3,"sources":["config.js","components/NavBar.js","components/Footer.js","images/JungleSwap_Home.png","images/JungleSwap_Icon.png","components/Home.js","components/SignUp.js","components/SignIn.js","components/LogOut.js","components/CreatePlantForm.js","components/PlantDetails.js","components/UpdatePlantForm.js","components/CheckoutForm.js","components/CheckoutPage.js","components/RequestsPage.js","components/CreateRequestForm.js","components/RequestDetails.js","components/UpdateRequestForm.js","components/NotFound.js","components/Chat.js","App.js","index.js"],"names":["process","NavBar","user","isNewRequest","headerHeight","aboutHeight","Navbar","className","variant","expand","fixed","Brand","to","onClick","scroll","scrollToTop","Toggle","aria-controls","Collapse","id","Nav","scrollTo","title","username","Footer","href","Home","plants","query","onSearchPlant","onGetElementsHeight","useEffect","src","image","alt","icon","type","placeholder","value","onChange","map","plant","_id","name","price","class","role","SignUp","error","onSignUp","onClearError","onClearNewRequest","onSubmit","htmlFor","formnovalidate","SignIn","onSignIn","LogOut","onLogOut","CreatePlantForm","onCreatePlant","min","PlantDetails","match","onReadPlant","onDeletePlant","params","plantId","description","size","imagePublicId","location","creator","pathname","UpdatePlantForm","onNameChange","onDescriptionChange","onSizeChange","onPriceChange","onLocationChange","onImageChange","onUpdatePlant","CheckoutForm","onCheckout","useState","isSucceeded","setIsSucceeded","isProcessing","setIsProcessing","isDisabled","setIsDisabled","clientSecret","setClientSecret","setError","stripe","useStripe","elements","useElements","window","fetch","config","method","headers","body","JSON","stringify","then","res","json","data","handleChange","event","a","empty","message","handleSubmitPayment","preventDefault","confirmCardPayment","payment_method","card","getElement","CardElement","payload","options","style","base","color","fontFamily","fontSmoothing","fontSize","invalid","iconColor","disabled","promise","loadStripe","CheckoutPage","RequestsPage","requests","amountOfRequests","onFetchAllRequests","handleResetAll","request","buyer","seller","CreateRequestForm","onCreateRequest","cols","rows","RequestDetails","onReadRequest","onDeleteRequest","requestId","reply","UpdateRequestForm","onCreateReply","onUpdateRequest","NotFound","KommunicateChat","d","m","s","document","createElement","async","getElementsByTagName","appendChild","kommunicate","_globals","withRouter","props","isFetchingUser","setIsFetchingUser","loggedInUser","setLoggedInUser","isUserChange","setIsUserChange","setPlants","setQuery","setPlant","setRequests","setRequest","setAmountOfRequests","setIsNewRequest","intervalId","setIntervalId","minutesCounter","setMinutesCounter","setHeaderHeight","setAboutHeight","handleGetElementsHeight","Math","round","querySelector","getBoundingClientRect","height","handleClearError","handleFetchAllPlants","axios","get","response","catch","err","console","log","withCredentials","clearInterval","handleSearchPlant","target","handleCreatePlant","plantImage","files","uploadForm","FormData","append","post","newPlant","history","push","handleReadPlant","handleNameChange","clonePlant","parse","handleDescriptionChange","handleSizeChange","handlePriceChange","handleLocationChange","handleImageChange","destroyImageData","handleUpdatePlant","updatedPlant","patch","updatedPlants","singlePlant","handleDeletePlant","delete","filteredPlants","filter","handleCheckout","currentRequests","currentRequest","length","interval","setInterval","currentAmountOfRequests","handleClearNewRequest","handleFetchAllRequests","handleCreateRequest","newRequest","handleReadRequest","handleCreateReply","cloneRequest","handleUpdateRequest","updatedRequest","updatedRequests","singleRequest","handleDeleteRequest","filteredRequests","handleSignUp","email","password","newUser","toLowerCase","handleSignIn","handleLogOut","exact","path","render","routeProps","component","ReactDOM","StrictMode"],"mappings":"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","file":"static/js/main.6e40b047.chunk.js","sourcesContent":["export default {API_URL: process.env.REACT_APP_SERVER_URL};","import React from \"react\";\r\nimport {Navbar, Nav} from \"react-bootstrap\";\r\nimport {Link} from \"react-router-dom\";\r\nimport {animateScroll as scroll} from \"react-scroll\";\r\n\r\nconst NavBar = ({user, isNewRequest, headerHeight, aboutHeight}) => {\r\n  return (\r\n    <div>\r\n      <Navbar className=\"pl-5\" variant=\"dark\" expand=\"lg\" fixed=\"top\">\r\n        <Navbar.Brand> <Link to=\"/\" onClick={scroll.scrollToTop}> JungleSwap </Link> </Navbar.Brand>\r\n        <Navbar.Toggle aria-controls=\"basic-navbar-nav\" />\r\n        <Navbar.Collapse id=\"basic-navbar-nav\">\r\n          <Nav className=\"mr-auto\">\r\n            <div>\r\n              <Link to=\"/\" className=\"p-2\" onClick={() => scroll.scrollTo(headerHeight + aboutHeight)}> All Plants </Link>\r\n            </div>\r\n            {\r\n              user && (\r\n                <div>\r\n                  <Link className=\"p-2\" to=\"/plants/create\"> Create Plant </Link>\r\n                  <Link className={isNewRequest ? \"p-2 alertColor\" : \"p-2\"} to=\"/requests/fetch\" title={isNewRequest ? \"new message\" : null}> Messages </Link>\r\n                </div>\r\n              )\r\n            }\r\n            {\r\n              user ? (\r\n                <div>\r\n                  <Link className=\"p-2\" to=\"/logout\" title={user.username}> Log out </Link>\r\n                </div>\r\n              ) : (\r\n                <div>\r\n                  <Link className=\"p-2\" to=\"/signin\"> Sign in </Link>\r\n                  <Link className=\"p-2\" to=\"/signup\"> Sign up </Link>\r\n                </div>\r\n              )\r\n            }\r\n          </Nav>\r\n        </Navbar.Collapse>\r\n      </Navbar>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default NavBar;","import React from \"react\";\r\nimport {Link} from \"react-router-dom\";\r\n\r\nconst Footer = () => {\r\n  return (\r\n    <div className=\"footer-row\">\r\n      <footer> \r\n        © 2021 \r\n        <Link href=\"https://www.linkedin.com/in/christian-gerbig/\"> Christian Gerbig </Link> \r\n        & \r\n        <Link href=\"https://www.linkedin.com/in/lisa-montebaur/\"> Lisa Montebaur </Link>\r\n      </footer>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default Footer;","export default __webpack_public_path__ + \"static/media/JungleSwap_Home.c4ed9b4c.png\";","export default __webpack_public_path__ + \"static/media/JungleSwap_Icon.a6c7c44a.png\";","import React, {useEffect} from \"react\";\r\nimport {Link} from \"react-router-dom\";\r\nimport {animateScroll as scroll} from \"react-scroll\";\r\nimport image from \"../images/JungleSwap_Home.png\";\r\nimport icon from \"../images/JungleSwap_Icon.png\";\r\n\r\nconst Home = ({plants, query, headerHeight, onSearchPlant, onGetElementsHeight}) => {\r\n  useEffect(\r\n    () => onGetElementsHeight(),\r\n    []\r\n  );\r\n\r\n  if (!plants) return (\r\n    <div class=\"spinner-grow text-success m-5\" role=\"status\">\r\n      <span class=\"visually-hidden\"> Loading... </span>\r\n    </div>\r\n  );\r\n  return (\r\n    <div>\r\n      {/* Title */}\r\n      <header className=\"text-center pt-5 pb-5 headerImg\" id=\"titleId\">\r\n        <div className=\"row my-5\">\r\n          <div className=\"col-6 offset-3 my-5 borderAround\">\r\n            <h2 className=\"title mb-2\"> JungleSwap </h2>\r\n            <h5 className=\"mt-3 mb-5\"> Share your green heart </h5>\r\n            <div className=\"mb-5\">\r\n              <Link className=\"biggerFontSize\" onClick={() => scroll.scrollTo(headerHeight)}> Try it! </Link>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </header>\r\n      {/* About */}\r\n      <section id=\"aboutId\">\r\n        <div className=\"about centered container\">\r\n          <div className=\"row\">\r\n            <div className=\"col-sm-6 col-md-5 col-lg-6\">\r\n              <img className=\"image\" src={image} alt=\"plants\"/>\r\n            </div>\r\n            <br />\r\n            <div className=\"about col-sm-6 col-md-5 col-lg-6 px-5 noOverflow\">\r\n              <h4> Welcome to JungleSwap! </h4>\r\n              <h5> Add green to your Home </h5>\r\n              <p> It\"s easy-peasy. <br/>\r\n                Share your plant offshoots. <br/>\r\n                Make money! <br/>\r\n                Or swap them for another plant. <br/>\r\n                Don\"t have any baby plants? <br/>\r\n                You can simply shop and give a plant a new home.\r\n              </p>\r\n              <img className=\"icon\" src={icon} alt=\"icon\"/>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </section>\r\n      {/* Display plants */}\r\n      <section>\r\n        <div className=\"container mt-5\">\r\n          <div className=\"mt-5 mb-3\">\r\n            <h2> Plants </h2>\r\n            <hr/>\r\n            <h4> Search a plant </h4>\r\n          </div>\r\n          <div className=\"mb-4\">\r\n            <input className=\"smallWidth form-control\" type=\"text\" placeholder=\"Search...\" value={query} onChange={onSearchPlant}/>\r\n          </div>\r\n          <div className=\"row row-cols-1 row-cols-md-3 g-4\">\r\n            {\r\n              plants.map(\r\n                plant => {\r\n                  const {_id, name, image, price} = plant;\r\n                  return (\r\n                    <div className=\"col mb-5\" key={_id}>\r\n                      <div className=\"card card-medium-width text-center h-100\">\r\n                        <img className=\"card-img-top mediumPicSize\" src={image} alt={name}/>\r\n                        <div className=\"card-body mb-5\">\r\n                          <h5> {name} </h5>\r\n                          <p> {price} € </p>\r\n                          <Link className=\"btn btn-outline-dark\" to={`/plants/read/${_id}`}> Details </Link>\r\n                        </div>\r\n                      </div>\r\n                    </div>\r\n                  );\r\n                }\r\n              )\r\n            }\r\n          </div>\r\n        </div>\r\n      </section>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default Home;","import React, {useEffect} from \"react\";\r\nimport {Link} from \"react-router-dom\";\r\nimport {animateScroll as scroll} from \"react-scroll\";\r\n\r\nconst SignUp = ({error, onSignUp, onClearError, onClearNewRequest}) => {\r\n  useEffect(\r\n    () => {\r\n      onClearError();\r\n      onClearNewRequest();\r\n      scroll.scrollToTop();\r\n    },\r\n    []\r\n  );\r\n\r\n  return (\r\n    <div className=\"container row mt-5\">\r\n      <div className=\"mt-5 col-11 col-md-5 offset-1 offset-md-5\">\r\n        <h2 className=\"mb-5\"> Sign Up </h2>\r\n        <form onSubmit={onSignUp}>\r\n          <div className=\"form-group\">\r\n            <label htmlFor=\"InputUsername\"> Username </label>\r\n            <input type=\"text\" className=\"form-control\" id=\"InputUsername\" name=\"username\"/>\r\n          </div>\r\n          <div className=\"form-group\">\r\n            <label htmlFor=\"InputEmail\"> Email address </label>\r\n            <input type=\"email\" className=\"form-control\" id=\"InputEmail\" name=\"email\"/>\r\n          </div>\r\n          <div className=\"form-group\">\r\n            <label htmlFor=\"InputPassword\"> Password </label>\r\n            <input name=\"password\" type=\"password\" className=\"form-control\" id=\"InputPassword\"/>\r\n          </div>\r\n          {error && (<p className=\"warningColor\"> {error} </p>)}\r\n          <button type=\"submit\" className=\"btn btn-primary mt-4 btn-outline-dark\" formnovalidate=\"formnovalidate\"> Sign up </button>\r\n          <p className=\"padding\"> Already have an account? </p>\r\n          <Link to={\"/signin\"}> Sign in </Link>\r\n        </form>\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default SignUp;","import React, {useEffect} from \"react\";\r\nimport {animateScroll as scroll} from \"react-scroll\";\r\n\r\nconst SignIn = ({error, onSignIn, onClearError, onClearNewRequest}) => {\r\n  useEffect(\r\n    () => {\r\n      onClearError();\r\n      onClearNewRequest();\r\n      scroll.scrollToTop();\r\n    },\r\n    []\r\n  );\r\n\r\n  return (\r\n    <div className=\"container row mt-5 custom fullscreen\">\r\n      <div className=\"mt-5 col-11 col-md-5 offset-1 offset-md-5\">\r\n        <h2 className=\"mb-5\"> Sign In </h2>\r\n        <form onSubmit={onSignIn}>\r\n          <div className=\"form-group\">\r\n            <label htmlFor=\"InputEmail\"> Email address </label>\r\n            <input type=\"email\" className=\"form-control\" id=\"InputEmail\" name=\"email\"/>\r\n          </div>\r\n          <div className=\"form-group\">\r\n            <label htmlFor=\"InputPassword\"> Password </label>\r\n            <input name=\"password\" type=\"password\" className=\"form-control\" id=\"InputPassword\"/>\r\n          </div>\r\n          {error && (<p className=\"warningColor\"> {error} </p>)}\r\n          <button type=\"submit\" className=\"btn btn-primary mt-4 btn-outline-dark\" formnovalidate=\"formnovalidate\"> Sign in </button>\r\n        </form>\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default SignIn;","import React, {useEffect} from \"react\";\r\nimport {animateScroll as scroll} from \"react-scroll\";\r\n\r\nconst LogOut = ({onLogOut, onClearNewRequest}) => {\r\n  useEffect(\r\n    () => {\r\n      onLogOut();\r\n      onClearNewRequest();\r\n      scroll.scrollToTop();\r\n    },\r\n    []\r\n  );\r\n\r\n  return (<div/>);\r\n}\r\n\r\nexport default LogOut;","import React, {useEffect} from \"react\";\r\nimport {Link, Redirect} from \"react-router-dom\";\r\nimport {animateScroll as scroll} from \"react-scroll\";\r\n\r\nconst CreatePlantForm = ({user, headerHeight, aboutHeight, error, onCreatePlant, onClearError}) => {\r\n  useEffect(\r\n    () => {\r\n      onClearError();\r\n      scroll.scrollToTop();\r\n      return () => scroll.scrollTo(headerHeight + aboutHeight)\r\n    },\r\n    []\r\n  );\r\n\r\n  if (!user) return (<Redirect to={\"/signup\"}/>);\r\n  return (\r\n    <div className=\"container row mt-5 fullscreen\">\r\n      <div className=\"mt-5 col-11 col-md-5 offset-1 offset-md-6\">\r\n        <h2 className=\"mb-5\"> Create a plant </h2>\r\n        <form onSubmit={onCreatePlant}>\r\n          <input className=\"mb-4\" name=\"name\" type=\"text\" placeholder=\"Enter name\"/>\r\n          <input className=\"mb-4\" name=\"description\" type=\"text\" placeholder=\"Enter description\"/>\r\n          <input className=\"mb-4 smallWidth\" name=\"size\" type=\"number\" min=\"1\" placeholder=\"Size\"/> cm <br/>\r\n          <select className=\"mb-4 p-1\" name=\"location\" type=\"text\">\r\n            <option> Select location </option>\r\n            <option value=\"sun\"> sun </option>\r\n            <option value=\"shade\"> shade </option>\r\n            <option value=\"sun and shade\"> sun and shade </option>\r\n          </select>\r\n          <br/>\r\n          <input className=\"mb-4 smallWidth\" name=\"price\" type=\"number\" min=\"1\" placeholder=\"Price\"/> € <br/>\r\n          <input className=\"mb-4\" name=\"plantImage\" type=\"file\"/>\r\n          {error && (<p className=\"warningColor\"> {error} </p>)}\r\n          <div className=\"col-12\">\r\n            <button className=\"btn btn-sm btn-outline-dark\" type=\"submit\" > Create </button>\r\n            <Link to={\"/\"}> <button className=\"btn btn-sm mx-5\"> Go back </button> </Link>\r\n          </div>\r\n        </form>\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default CreatePlantForm;","import React, {useEffect} from \"react\";\r\nimport {Link, Redirect} from \"react-router-dom\";\r\nimport {animateScroll as scroll} from \"react-scroll\";\r\n\r\nconst PlantDetails = ({match, user, plant, headerHeight, aboutHeight, onReadPlant, onDeletePlant}) => {\r\n  useEffect(\r\n    () => {\r\n      onReadPlant(match.params.plantId);\r\n      scroll.scrollToTop();\r\n    },\r\n    []\r\n  );\r\n\r\n  if (!user) return (<Redirect to={\"/signup\"}/>);\r\n  const {_id, name, description, size, image, imagePublicId, location, price, creator} = plant;\r\n  if (!creator) return (\r\n    <div class=\"spinner-grow text-success m-5\" role=\"status\">\r\n      <span class=\"visually-hidden\"> Loading... </span>\r\n    </div>\r\n  );\r\n  return (\r\n    <div className=\"container mt-5 row row-md-10 offset-md-4\">\r\n      <div className=\"mt-4 mb-3 pt-4 container\">\r\n        <h2> Plant details </h2>\r\n      </div>\r\n      <div className=\"col\">\r\n        <div className=\"card cardMediumWidth\">\r\n          {image && (<img className=\"card-img-top mediumPicSize\" src={image} alt={name}/>)}\r\n          <div className=\"ml-2 mt-2\"> <span> Name: </span> {name} </div>\r\n          <div className=\"ml-2 mt-2\"> <span> Description: </span> {description} </div>\r\n          <div className=\"ml-2 mt-2\"> <span> Size: </span> {size} cm </div>\r\n          <div className=\"ml-2 mt-2\"> <span> Likes: </span> {location} </div>\r\n          <div className=\"ml-2 mt-2\"> <span> Price: </span> {price} € </div>\r\n          <div className=\"ml-2 mt-2 col justify-content-center\">\r\n            <div className=\"row-2 justify-content-center\">\r\n              <div className=\"card-body\">\r\n                {\r\n                  user._id === creator._id ? (\r\n                    <div>\r\n                      <Link to={\"/plants/update\"}> <button className=\"btn btn-sm ml-2 btn-outline-dark\"> Update </button> </Link>\r\n                      <button className=\"btn btn-sm ml-2 btn-outline-dark\" onClick={() => onDeletePlant(_id, imagePublicId)}> Delete </button>\r\n                    </div>\r\n                  ) : (\r\n                    <div>\r\n                      <Link to={{pathname: `/plants/checkout/${_id}`, plant: plant}}> <button className=\"btn btn-sm ml-2 btn-outline-dark\"> Buy </button> </Link>\r\n                      <Link to={{pathname: \"/requests/create\", plant: plant}}> <button className=\"btn btn-sm ml-2 btn-outline-dark\"> Swap </button> </Link>\r\n                    </div>\r\n                  )\r\n                }\r\n                <Link to={\"/\"} onClick={() => scroll.scrollTo(headerHeight + aboutHeight)}> <button className=\"btn btn-sm ml-2\"> Go back </button> </Link>\r\n              </div>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default PlantDetails;","import React, {useEffect} from \"react\";\r\nimport {Link} from \"react-router-dom\";\r\nimport {animateScroll as scroll} from \"react-scroll\";\r\n\r\nconst UpdatePlantForm = ({plant, onNameChange, onDescriptionChange, onSizeChange, onPriceChange, onLocationChange, onImageChange, onUpdatePlant}) => {\r\n  useEffect(\r\n    () => scroll.scrollToTop(),\r\n    []\r\n  );\r\n\r\n  const {_id, name, description, size, image, price} = plant;\r\n  return (\r\n    <div className=\"container row mt-5 \">\r\n      <div className=\"mt-2 col-11 col-md-5 offset-1 offset-md-5\">\r\n        <h2 className=\"mt-5 mb-4\"> Update your plant </h2>\r\n        <div className=\"card cardSmallWidth mb-5\">\r\n          <img className=\"mb-2 smallPicSize\" src={image} alt={name}/>\r\n          <div className=\"card-body\">\r\n            <input className=\"mb-2\" onChange={onImageChange} type=\"file\"/>\r\n            <input className=\"mb-2\"  type=\"text\" onChange={onNameChange} value={ name }/>\r\n            <input className=\"mb-2\"  type=\"text\" onChange={onDescriptionChange} value={description}/>\r\n            <input className=\"mb-2 smallWidth\"  type=\"number\" onChange={onSizeChange} value={size}/> cm <br/>\r\n            <select  className=\"mb-2\" onChange={onLocationChange} name=\"location\" type=\"text\" placeholder=\"Select\">\r\n              <option value=\"sun\"> sun </option>\r\n              <option value=\"shade\"> shade </option>\r\n              <option value=\"sun and shade\"> sun and shade </option>\r\n            </select> <br/>\r\n            <input className=\"mb-4 smallWidth\" name=\"price\" type=\"number\" min=\"1\" onChange={onPriceChange} value={price}/> € \r\n            <div className=\"row justify-content-around\">\r\n              <button className=\"btn btn-sm btn-outline-dark\" onClick={() => onUpdatePlant(plant)}> Save changes </button>\r\n              <Link to={`/plants/read/${_id}`}> <button className=\"btn btn-sm mx-2\"> Go back </button> </Link>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default UpdatePlantForm;","import React, {useState, useEffect} from \"react\";\r\nimport {Link} from \"react-router-dom\";\r\nimport {animateScroll as scroll} from \"react-scroll\";\r\nimport {CardElement, useStripe, useElements} from \"@stripe/react-stripe-js\";\r\nimport config from \"../config\";\r\n\r\nconst CheckoutForm = ({plant, headerHeight, aboutHeight, onCheckout}) => {\r\n  const [isSucceeded, setIsSucceeded] = useState(false);\r\n  const [isProcessing, setIsProcessing] = useState(false);\r\n  const [isDisabled, setIsDisabled] = useState(true);\r\n  const [clientSecret, setClientSecret] = useState(\"\");\r\n  const [error, setError] = useState(null);\r\n  const stripe = useStripe();\r\n  const elements = useElements();\r\n  \r\n  // Create PaymentIntent as soon as page loads\r\n  useEffect(\r\n    () => {\r\n      window\r\n        .fetch(\r\n          `${config.API_URL}/api/create-payment-intent`,\r\n          {\r\n            method: \"POST\",\r\n            headers: {\"Content-Type\": \"application/json\"},\r\n            body: JSON.stringify({price: plant.price})\r\n          }\r\n        )\r\n        .then(\r\n          res => res.json()\r\n        )\r\n        .then(\r\n          data => setClientSecret(data.clientSecret)\r\n        );\r\n        return () => scroll.scrollTo(headerHeight + aboutHeight)\r\n    },\r\n    []\r\n  );\r\n\r\n  // Card styling\r\n  const cardStyle = {\r\n    style: {\r\n      base: {\r\n        color: \"#32325d\",\r\n        fontFamily: \"Arial, sans-serif\",\r\n        fontSmoothing: \"antialiased\",\r\n        fontSize: \"16px\",\r\n        \"::placeholder\": {color: \"#32325d\"}\r\n      },\r\n      invalid: {\r\n        color: \"#fa755a\",\r\n        iconColor: \"#fa755a\"\r\n      }\r\n    }\r\n  };\r\n\r\n  // Listen for changes in Card element and display any errors as customer types card details\r\n  const handleChange = async event => {\r\n    setIsDisabled(event.empty);\r\n    setError(event.error ? event.error.message : \"\");\r\n  };\r\n\r\n  // Handle payment\r\n  const handleSubmitPayment = async event => {\r\n    event.preventDefault();\r\n    setIsProcessing(true);\r\n    const payload = await stripe.confirmCardPayment(\r\n      clientSecret,\r\n      {payment_method: {card: elements.getElement(CardElement)}}\r\n    );\r\n    if (payload.error) {\r\n      setError(`Payment failed ${payload.error.message}`);\r\n      setIsProcessing(false);\r\n    }\r\n    else {\r\n      setError(null);\r\n      setIsProcessing(false);\r\n      setIsSucceeded(true);\r\n    }\r\n  }\r\n  \r\n  const {_id, name, price} = plant;\r\n  return (\r\n    <div className=\"container col-9\">\r\n      <form className=\"checkoutForm mt-5\" id=\"payment-form\" onSubmit={handleSubmitPayment}>\r\n        <h2 className=\"text-center mb-2 p-2\">  {name} </h2>\r\n        <h3 className=\"text-center mb-4 p-2\"> {price} € </h3>\r\n        <CardElement className=\"p-2\" id=\"card-element\" options={cardStyle} onChange={handleChange}/>\r\n        <div className=\"row justify-content-center\">\r\n          <button onClick={onCheckout} className=\"btn btn-sm mt-5 mb-4\" disabled={isProcessing || isDisabled || isSucceeded} id=\"submit\">\r\n            <span id=\"button-text\">\r\n              {isProcessing ? <div className=\"spinner\" id=\"spinner\"/> : \"Pay now\"}\r\n            </span>\r\n          </button>\r\n        </div>\r\n        {/* Show any error that happens when processing the payment */\r\n          error && (<div className=\"card-error\" role=\"alert\"> {error} </div>)\r\n        /* Show success message upon completion */}\r\n        <p className={isSucceeded ? \"result-message text-center\" : \"result-message hidden text-center\"}>\r\n          Payment succeeded.\r\n        </p>\r\n      </form>\r\n      <div className=\"row justify-content-center\">\r\n        {\r\n          isSucceeded ? (\r\n            <Link to={\"/\"}> <button className=\"btn btn-sm\"> Go back </button> </Link>\r\n          ) \r\n          : (\r\n            <Link to={`/plants/read/${_id}`}> <button className=\"btn btn-sm\"> Go back </button> </Link>\r\n          )\r\n        }\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default CheckoutForm;","import React, {useEffect} from \"react\";\r\nimport {loadStripe} from \"@stripe/stripe-js\";\r\nimport {Elements} from \"@stripe/react-stripe-js\";\r\nimport CheckoutForm from \"./CheckoutForm\";\r\nimport {animateScroll as scroll} from \"react-scroll\";\r\n\r\nconst promise = loadStripe(\"pk_test_51IQBsPA6EAM4YnfDyrjHWnLHzZ5KkI9tsERzYhBGVoctZBrFUb4Sda035HvcQKpp7thFiqW6QmO8ytPbOAMTg33z00cHvcbojv\");\r\n\r\nconst CheckoutPage = ({location, headerHeight, aboutHeight, onCheckout}) => {\r\n  useEffect(\r\n    () => scroll.scrollToTop(),\r\n    []\r\n  );\r\n  return (\r\n    <div className=\"container row mt-5\">\r\n      <div className=\"mt-5 col-11 col-md-6 offset-1 offset-md-5 App\">\r\n        <Elements stripe={promise}>\r\n          <CheckoutForm onCheckout={onCheckout} plant={location.plant} headerHeight={headerHeight} aboutHeight={aboutHeight}/>\r\n        </Elements>\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default CheckoutPage;","import React, {useEffect} from \"react\";\r\nimport {Link, Redirect} from \"react-router-dom\";\r\nimport {animateScroll as scroll} from \"react-scroll\";\r\n\r\nconst RequestsPage = ({user, requests, amountOfRequests, onFetchAllRequests, onClearNewRequest}) => {\r\n\r\n  // Handle initializing and cleanup\r\n  const handleResetAll = () => {\r\n    onClearNewRequest();\r\n    scroll.scrollToTop();\r\n  }\r\n\r\n  useEffect(\r\n    () => {\r\n      onFetchAllRequests();\r\n      handleResetAll();\r\n      return () => handleResetAll()\r\n    },\r\n    []\r\n  );\r\n\r\n  if (!user) return (<Redirect to={\"/signup\"}/>);\r\n  if (!requests) return (\r\n    <div class=\"spinner-grow text-success m-5\" role=\"status\">\r\n      <span class=\"visually-hidden\"> Loading... </span>\r\n    </div>\r\n  );\r\n  return (\r\n    <div className=\"container row mt-5\">\r\n      <div className=\"mt-5 col-11 col-md-5 offset-1 offset-md-5\">\r\n        <h2 > Your messages </h2>\r\n        <h3 className=\"mb-4\"> [{amountOfRequests}] </h3>\r\n        <Link to={\"/\"}> <button className=\"btn btn-sm mt-4\"> Go back </button> </Link>\r\n        {\r\n          requests.map(\r\n            request => {\r\n              const {_id, buyer, seller, plant} = request;\r\n              return (\r\n                seller._id === user._id && (\r\n                  <div className=\"card p-3 mt-4 \" key={_id}>\r\n                    <h4> Request for: {plant.name} </h4>\r\n                    <h5> by: {buyer.username} </h5>\r\n                    <div>\r\n                      <Link className=\"btn btn-outline-dark\" to={`/requests/read/${_id}`}> Details </Link>\r\n                    </div>\r\n                  </div>\r\n                )\r\n              );\r\n            } \r\n          )\r\n        }\r\n        {amountOfRequests !== 0 && (<Link to={\"/\"}> <button className=\"btn btn-sm mt-4\"> Go back </button> </Link>)}\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default RequestsPage;","import React, {useEffect} from \"react\";\r\nimport {Link} from \"react-router-dom\";\r\nimport {animateScroll as scroll} from \"react-scroll\";\r\n\r\nconst CreateRequestForm = ({location, error, onCreateRequest, onClearError}) => {\r\n  useEffect(\r\n    () => {\r\n      onClearError();\r\n      scroll.scrollToTop();\r\n    },\r\n    []\r\n  );\r\n\r\n  const {plant} = location;\r\n  return (\r\n    <div className=\"container row mt-5\">\r\n      <div className=\"mt-5 col-11 col-md-5 offset-1 offset-md-5\">\r\n        <h2 className=\"mb-5\"> Your mesage </h2>\r\n        <form onSubmit={(event) => onCreateRequest(event, plant)}>\r\n          <div>\r\n            <textarea className=\"mb-4\" name=\"message\" cols=\"35\" rows=\"7\"/>\r\n          </div>\r\n          {error && (<p className=\"warningColor\"> {error} </p>)}\r\n          <button className=\"btn btn-sm btn-outline-dark\" type=\"submit\"> Send </button>\r\n          <Link to={`/plants/read/${plant._id}`}> <button className=\"btn btn-sm mx-2\"> Go back </button> </Link>\r\n        </form>\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default CreateRequestForm;","import React, {useEffect} from \"react\";\r\nimport {Link} from \"react-router-dom\";\r\nimport {animateScroll as scroll} from \"react-scroll\";\r\n\r\nconst RequestDetails = ({match, request, onReadRequest, onDeleteRequest}) => {\r\n  useEffect(\r\n    () => {\r\n      onReadRequest(match.params.requestId);\r\n      scroll.scrollToTop();\r\n    },\r\n    []\r\n  );\r\n\r\n  const {_id, buyer, plant, message, reply} = request;\r\n  if (!buyer || !plant) return (\r\n    <div class=\"spinner-grow text-success m-5\" role=\"status\">\r\n      <span class=\"visually-hidden\"> Loading... </span>\r\n    </div>\r\n  );\r\n  return (\r\n    <div className=\"container row mt-5 \">\r\n      <div className=\"mt-5 col-11 col-md-5 offset-1 offset-md-5\">\r\n        <h2 className=\"mb-5\"> Your request </h2>\r\n        <h4> for: {plant.name} </h4>\r\n        <h5> by: {buyer.username} </h5>\r\n        <p> {message} </p>\r\n        {\r\n          reply && (\r\n            <div>\r\n              <h5> Your reply: </h5>\r\n              <p> {reply} </p>\r\n            </div>\r\n          )\r\n        }\r\n        <div>\r\n          {!reply && (<Link to={`/requests/update/${_id}`}> <button className=\"btn btn-sm ml-2 btn-outline-dark\"> Reply </button> </Link>)}\r\n          <button className=\"btn btn-sm ml-2 btn-outline-dark\" onClick={() => onDeleteRequest(_id)}> Delete </button>\r\n        </div>\r\n        <Link to={\"/requests/fetch\"} onClick={scroll.scrollToTop}> <button className=\"btn btn-sm mt-4\"> Go back </button> </Link>\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default RequestDetails;","import React, {useEffect} from \"react\";\r\nimport {Link} from \"react-router-dom\";\r\nimport {animateScroll as scroll} from \"react-scroll\";\r\n\r\nconst UpdateRequestForm = ({request, onCreateReply, onUpdateRequest}) => {\r\n  useEffect(\r\n    () => scroll.scrollToTop(),\r\n    []\r\n  );\r\n\r\n  const {_id, message} = request;\r\n  return (\r\n    <div className=\"container row mt-5 \">\r\n      <div className=\"mt-2 col-11 col-md-5 offset-1 offset-md-5\">\r\n        <h2 className=\"mt-5 mb-4\"> Reply your request </h2>\r\n        <div className=\"card cardSmallWidth mb-5\">\r\n          <div className=\"card-body\">\r\n            <p> {message} </p>\r\n            <textarea className=\"mb-4\" name=\"reply\" cols=\"31\" rows=\"6\" placeholder=\"Your reply\" onChange={onCreateReply}/>\r\n            <div className=\"row justify-content-around\">\r\n              <button className=\"btn btn-sm btn-outline-dark\" onClick={() => onUpdateRequest(request)}> Submit </button>\r\n              <Link to={`/requests/read/${_id}`}> <button className=\"btn btn-sm mx-2\"> Go back </button> </Link>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default UpdateRequestForm;","import React from \"react\";\r\nimport {Link} from \"react-router-dom\";\r\n\r\nconst NotFound = () => {\r\n  return (\r\n    <div className=\"notFound\">\r\n      <div>\r\n        <h2> \r\n          Oh-oh! <br/> <br/>\r\n          We think you got lost in the jungle!\r\n        </h2>\r\n        <h3> 404 Not Found </h3>\r\n        <Link to={\"/\"}> <button className=\"btn btn-sm ml-2\"> Take me home </button> </Link>\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default NotFound;","import React, {useEffect} from \"react\";\r\n\r\nconst KommunicateChat = () => {\r\n  // Create launcher icon as soon as page loads\r\n  useEffect(\r\n    () => {\r\n      (\r\n        (d, m) => {\r\n          const kommunicateSettings = { \r\n            \"appId\": \"10b22c52854a305b79bbdecc356bea5\", \r\n            \"popupWidget\": true, \r\n            \"automaticChatOpenOnNavigation\": true \r\n          };\r\n          const s = document.createElement(\"script\"); \r\n          s.type = \"text/javascript\"; \r\n          s.async = true;\r\n          s.src = \"https://widget.kommunicate.io/v2/kommunicate.app\";\r\n          const h = document.getElementsByTagName(\"head\")[0]; \r\n          h.appendChild(s);\r\n          window.kommunicate = m; \r\n          m._globals = kommunicateSettings;\r\n        }\r\n      )\r\n      (\r\n        document, \r\n        window.kommunicate || {}\r\n      );\r\n    },\r\n    []\r\n  );\r\n\r\n  return (<div/>);\r\n}\r\n\r\nexport default KommunicateChat;","import React, {useState, useEffect} from \"react\";\r\nimport {Route, Switch, withRouter} from \"react-router-dom\";\r\nimport {animateScroll as scroll} from \"react-scroll\";\r\nimport config from \"./config\";\r\nimport axios from \"axios\";\r\nimport \"bootstrap/dist/css/bootstrap.min.css\";\r\nimport \"./App.css\";\r\n\r\nimport NavBar from \"./components/NavBar\";\r\nimport Footer from \"./components/Footer\";\r\nimport Home from \"./components/Home\";\r\nimport SignUp from \"./components/SignUp\";\r\nimport SignIn from \"./components/SignIn\";\r\nimport LogOut from \"./components/LogOut\";\r\nimport CreatePlantForm from \"./components/CreatePlantForm\";\r\nimport PlantDetails from \"./components/PlantDetails\";\r\nimport UpdatePlantForm from \"./components/UpdatePlantForm\";\r\nimport CheckoutPage from \"./components/CheckoutPage\";\r\nimport RequestsPage from \"./components/RequestsPage\";\r\nimport CreateRequestForm from \"./components/CreateRequestForm\";\r\nimport RequestDetails from \"./components/RequestDetails\";\r\nimport UpdateRequestForm from \"./components/UpdateRequestForm\";\r\nimport NotFound from \"./components/NotFound\";\r\nimport KommunicateChat from \"./components/Chat\";\r\n\r\nconst App = props => {\r\n  const [isFetchingUser, setIsFetchingUser] = useState(true);\r\n  const [loggedInUser, setLoggedInUser] = useState(null);\r\n  const [isUserChange, setIsUserChange] = useState(false);\r\n  const [plants, setPlants] = useState([]);\r\n  const [query, setQuery] = useState(\"\");\r\n  const [plant, setPlant] = useState({});\r\n  const [requests, setRequests] = useState([]);\r\n  const [request, setRequest] = useState({});\r\n  const [amountOfRequests, setAmountOfRequests] = useState(0);\r\n  const [isNewRequest, setIsNewRequest] = useState(false);\r\n  const [intervalId, setIntervalId] = useState(null);\r\n  const [minutesCounter, setMinutesCounter] = useState(0);\r\n  const [headerHeight, setHeaderHeight] = useState(0);\r\n  const [aboutHeight, setAboutHeight] = useState(0);\r\n  const [error, setError] = useState(null);\r\n   \r\n  // Get height of header and about elements\r\n  const handleGetElementsHeight = () => {\r\n    setHeaderHeight(Math.round(document.querySelector(\"#titleId\").getBoundingClientRect().height));\r\n    setAboutHeight(Math.round(document.querySelector(\"#aboutId\").getBoundingClientRect().height));\r\n  }\r\n\r\n  // Clear error message\r\n  const handleClearError = () => setError(null)\r\n\r\n  // ---------- Plants ----------\r\n\r\n  // Fetch all plants\r\n  const handleFetchAllPlants = () => {\r\n    axios.get(`${config.API_URL}/api/plants/fetch`)\r\n      .then(\r\n        response => setPlants(response.data)\r\n      )\r\n      .catch(\r\n        err => console.log(\"Fetching plants failed\", err)\r\n      );\r\n  }\r\n\r\n  // Load plants and user data as soon as page loads\r\n  useEffect(\r\n    () => {\r\n      handleFetchAllPlants();\r\n      if (!loggedInUser) {\r\n        axios.get(`${config.API_URL}/api/user`, {withCredentials: true})\r\n          .then(\r\n            response => {\r\n              setLoggedInUser(response.data);\r\n              setIsFetchingUser(false);\r\n            }\r\n          )\r\n          .catch(\r\n            err => {\r\n              setIsFetchingUser(false);\r\n              console.log(\"Initializing fetching failed\", err);\r\n            }\r\n          );\r\n      }\r\n      return () => {\r\n        if (intervalId) clearInterval(intervalId);\r\n      }\r\n    },\r\n    []\r\n  );\r\n\r\n  // Fetch query plants\r\n  const handleFetchQueryPlants = () => {\r\n    axios.get(`${config.API_URL}/api/plants/search?q=${query}`)\r\n      .then(\r\n        response => setPlants(response.data)\r\n      )\r\n      .catch(\r\n        err => console.log(\"Query fetching failed\", err)\r\n      );\r\n  }\r\n\r\n  // Search plant\r\n  const handleSearchPlant = event => setQuery(event.target.value)\r\n\r\n  // Handle plant search result\r\n  useEffect(\r\n    () => query ? handleFetchQueryPlants() : handleFetchAllPlants(),\r\n    [query]\r\n  );\r\n\r\n  // Create plant\r\n  const handleCreatePlant = event => {\r\n    event.preventDefault();\r\n    const {name, description, size, plantImage, location, price} = event.target;\r\n    const image = plantImage.files[0];\r\n    const uploadForm = new FormData();\r\n    uploadForm.append(\"image\", image);\r\n    axios.post(`${config.API_URL}/api/upload`, uploadForm)\r\n      .then(\r\n        response => {\r\n          const {image, imagePublicId} = response.data;\r\n          const newPlant = {\r\n            name: name.value,\r\n            description: description.value,\r\n            size: size.value,\r\n            image,\r\n            imagePublicId,\r\n            location: location.value,\r\n            price: price.value\r\n          };\r\n          axios.post(\r\n            `${config.API_URL}/api/plants/create`, \r\n            newPlant, \r\n            {withCredentials: true}\r\n          )\r\n            .then(\r\n              response => {\r\n                setPlants([response.data, ...plants]);\r\n                props.history.push(\"/\");\r\n              } \r\n            )\r\n            .catch(\r\n              err => setError(err.response.data.error)\r\n            );\r\n        }\r\n      )\r\n      .catch(\r\n        err => setError(err.response.data.error)\r\n      );\r\n  }\r\n\r\n  // Read plant\r\n  const handleReadPlant = plantId => {\r\n    axios.get(\r\n      `${config.API_URL}/api/plants/read/${plantId}`,\r\n      {withCredentials: true}\r\n    )\r\n      .then(\r\n        response => setPlant(response.data)\r\n      )\r\n      .catch(\r\n        () => console.log(\"Read plant failed\")\r\n      );\r\n  }\r\n\r\n  // Plant name changed\r\n  const handleNameChange = event => {\r\n    const clonePlant = JSON.parse(JSON.stringify(plant));\r\n    clonePlant.name = event.target.value;\r\n    setPlant(clonePlant);\r\n  }\r\n\r\n  // Plant description changed\r\n  const handleDescriptionChange = event => {\r\n    const clonePlant = JSON.parse(JSON.stringify(plant));\r\n    clonePlant.description = event.target.value;\r\n    setPlant(clonePlant);\r\n  }\r\n\r\n  // Plant size changed\r\n  const handleSizeChange = event => {\r\n    const clonePlant = JSON.parse(JSON.stringify(plant));\r\n    clonePlant.size = event.target.value;\r\n    setPlant(clonePlant);\r\n  }\r\n\r\n  // Plant price changed\r\n  const handlePriceChange = event => {\r\n    const clonePlant = JSON.parse(JSON.stringify(plant));\r\n    clonePlant.price = event.target.value;\r\n    setPlant(clonePlant);\r\n  }\r\n\r\n  // Plant location changed\r\n  const handleLocationChange = event => {\r\n    const clonePlant = JSON.parse(JSON.stringify(plant));\r\n    clonePlant.location = event.target.value;\r\n    setPlant(clonePlant);\r\n  }\r\n\r\n  // Plant image changed\r\n  const handleImageChange = event => {\r\n    const image = event.target.files[0];\r\n    const {imagePublicId} = plant;\r\n    const destroyImageData = {\r\n      imagePublicId\r\n    }\r\n    axios.post(\r\n      `${config.API_URL}/api/destroy`, \r\n      destroyImageData\r\n    )\r\n      .then(\r\n        () => {\r\n          const uploadForm = new FormData();\r\n          uploadForm.append(\"image\", image);\r\n          axios.post(\r\n            `${ config.API_URL }/api/upload`, \r\n            uploadForm\r\n          )\r\n            .then(\r\n              response => {\r\n                const clonePlant = JSON.parse(JSON.stringify(plant));\r\n                const {imagePublicId, image} = response.data;\r\n                clonePlant.imagePublicId = imagePublicId;\r\n                clonePlant.image = image;\r\n                setPlant(clonePlant);\r\n              }\r\n            )\r\n            .catch(\r\n              err => console.log(\"Image upload failed\", err)\r\n            );\r\n        }\r\n      )\r\n      .catch(\r\n        err => console.log(\"Delete old image failed\", err)\r\n      );\r\n  }\r\n\r\n  // Update plant\r\n  const handleUpdatePlant = plant => {\r\n    const {_id, name, description, size, image, imagePublicId, location, price} = plant;\r\n    const updatedPlant = {\r\n      name,\r\n      description,\r\n      size,\r\n      image,\r\n      imagePublicId,\r\n      location,\r\n      price\r\n    };\r\n    axios.patch(\r\n      `${config.API_URL}/api/plants/update/${_id}`,\r\n       updatedPlant\r\n    )\r\n      .then(\r\n        () => {\r\n          const updatedPlants = plants.map(\r\n            singlePlant => {\r\n              if (singlePlant._id === _id) {\r\n                singlePlant.name = name;\r\n                singlePlant.description = description;\r\n                singlePlant.size = size;\r\n                singlePlant.image = image;\r\n                singlePlant.imagePublicId = imagePublicId;\r\n                singlePlant.location = location;\r\n                singlePlant.price = price;\r\n              }\r\n              return singlePlant;\r\n            }\r\n          );\r\n          setPlants(updatedPlants);\r\n          props.history.push(\"/\");\r\n          scroll.scrollTo(headerHeight + aboutHeight);\r\n        }\r\n      )\r\n      .catch(\r\n        err => console.log(\"Update plant failed\", err)\r\n      );\r\n  }\r\n\r\n  // Delete Plant\r\n  const handleDeletePlant = (plantId, imagePublicId) => {\r\n    const destroyImageData = {\r\n      imagePublicId\r\n    }\r\n    axios.post(\r\n      `${config.API_URL}/api/destroy`, \r\n      destroyImageData\r\n    )\r\n      .then(\r\n        () => {\r\n          axios.delete(`${config.API_URL}/api/plants/delete/${plantId}`)\r\n            .then(\r\n              () => {\r\n                const filteredPlants = plants.filter(plant => plant._id !== plantId);\r\n                setPlants(filteredPlants);\r\n                props.history.push(\"/\");\r\n                scroll.scrollTo(headerHeight + aboutHeight);\r\n              }\r\n            )\r\n            .catch(\r\n              err => console.log(\"Delete plant failed\", err)\r\n            );\r\n        }\r\n      )\r\n      .catch(\r\n        err => console.log(\"Delete image failed\", err)\r\n      );\r\n  }  \r\n\r\n  // Plant payment\r\n  const handleCheckout = () => {\r\n    axios.post(\r\n      `${config.API_URL}/api/create-payment-intent`, \r\n      {}, \r\n      {withCredentials: true}\r\n    )\r\n      .then(\r\n        () => props.history.push(\"/\")\r\n      )\r\n      .catch(\r\n        err => console.log(\"Checkout failed\", err)\r\n      );\r\n  }\r\n\r\n  // ---------- Requests ----------\r\n\r\n  // Start request check if user changes\r\n  useEffect(\r\n    () => {\r\n      if (isUserChange) {\r\n        setIsUserChange(false);\r\n        axios.get(`${config.API_URL}/api/requests/fetch`)\r\n          .then(\r\n            response => {\r\n              setRequests(response.data);\r\n              const currentRequests = requests.filter(currentRequest => currentRequest.seller._id === loggedInUser._id);\r\n              setAmountOfRequests(currentRequests.length);\r\n              const interval = setInterval(\r\n                () => setMinutesCounter(minutesCounter => minutesCounter += 1), \r\n                10000 // every minute\r\n              );\r\n              setIntervalId(interval);\r\n            }\r\n          )\r\n          .catch(\r\n            err => console.log(\"Checking requests failed\", err)\r\n          );\r\n      }\r\n    },\r\n    [isUserChange]\r\n  );\r\n\r\n  // Check new requests for logged in user every minute\r\n  useEffect(\r\n    () => {\r\n      axios.get(`${config.API_URL}/api/requests/fetch`)\r\n        .then(\r\n          response => {\r\n            setRequests(response.data);\r\n            const currentRequests = requests.filter(currentRequest => currentRequest.seller._id === loggedInUser._id);\r\n            const currentAmountOfRequests = currentRequests.length;\r\n            if (amountOfRequests < currentAmountOfRequests) {\r\n              setAmountOfRequests(currentAmountOfRequests);\r\n              setIsNewRequest(true);\r\n            }\r\n          }\r\n        )\r\n        .catch(\r\n          err => console.log(\"Checking requests failed\", err)\r\n        );\r\n    },\r\n    [minutesCounter]\r\n  );\r\n\r\n  // Clear state for new received requests\r\n  const handleClearNewRequest = () => setIsNewRequest(false)\r\n  \r\n  // Fetch all requests\r\n  const handleFetchAllRequests = () => {\r\n    axios.get(`${config.API_URL}/api/requests/fetch`)\r\n      .then(\r\n        response => setRequests(response.data)\r\n      )\r\n      .catch(\r\n        err => console.log(\"Fetching requests failed\", err)\r\n      );\r\n  }\r\n\r\n  // Create request\r\n  const handleCreateRequest = (event, plant) => {\r\n    event.preventDefault();\r\n    const {message} = event.target;\r\n    const {_id, creator} = plant;\r\n    const newRequest = {\r\n      seller: creator._id,\r\n      plant: _id,\r\n      message: message.value\r\n    };\r\n    axios.post(\r\n      `${config.API_URL}/api/requests/create`, \r\n      newRequest, \r\n      {withCredentials: true}\r\n    )\r\n      .then(\r\n        response => {\r\n          setRequests([response.data, ...requests]);\r\n          props.history.push(`/plants/read/${plant._id}`);\r\n        }\r\n      )\r\n      .catch(\r\n        err => setError(err.response.data.error)\r\n      );\r\n  }\r\n\r\n  // Read request\r\n  const handleReadRequest = requestId => {\r\n    axios.get(\r\n      `${config.API_URL}/api/requests/read/${requestId}`,\r\n      {withCredentials: true}\r\n    )\r\n      .then(\r\n        response => setRequest(response.data)\r\n      )\r\n      .catch(\r\n        () => console.log(\"Read request failed\")\r\n      );\r\n  }\r\n\r\n  // Create reply\r\n  const handleCreateReply = event => {\r\n    const cloneRequest = JSON.parse(JSON.stringify(request));\r\n    cloneRequest.reply = event.target.value;\r\n    setRequest(cloneRequest);\r\n  }\r\n\r\n  // Update request\r\n  const handleUpdateRequest = request => {\r\n    const {_id, buyer, seller, plant, message, reply} = request;\r\n    const updatedRequest = {\r\n      buyer,\r\n      seller,\r\n      plant,\r\n      message,\r\n      reply\r\n    };\r\n    axios.patch(\r\n      `${config.API_URL}/api/requests/update/${_id}`, \r\n      updatedRequest\r\n    )\r\n      .then(\r\n        () => {\r\n          const updatedRequests = requests.map(\r\n            singleRequest => {\r\n              if (singleRequest._id === _id) {\r\n                singleRequest.buyer = buyer;\r\n                singleRequest.seller = seller;\r\n                singleRequest.plant = plant;\r\n                singleRequest.message = message;\r\n                singleRequest.reply = reply;\r\n              }\r\n              return singleRequest;\r\n            }\r\n          );\r\n          setRequests(updatedRequests);\r\n          props.history.push(`/requests/read/${_id}`);\r\n        }\r\n      )\r\n      .catch(\r\n        err => console.log(\"Update request failed\", err)\r\n      );\r\n  }\r\n\r\n  // Delete request\r\n  const handleDeleteRequest = requestId => {\r\n    axios.delete(`${config.API_URL}/api/requests/delete/${requestId}`)\r\n      .then(\r\n        () => {\r\n          const filteredRequests = requests.filter(request => request._id !== requestId);\r\n          setRequests(filteredRequests);\r\n          setAmountOfRequests(amountOfRequests => amountOfRequests -= 1);\r\n          props.history.push(\"/requests/fetch\");\r\n        }\r\n      )\r\n      .catch(\r\n        err => console.log(\"Delete request failed\", err)\r\n      );\r\n  }\r\n\r\n  // ---------- Authentification ----------\r\n\r\n  // Signup\r\n  const handleSignUp = event => {\r\n    event.preventDefault();\r\n    const {username, email, password} = event.target;\r\n    const newUser = {\r\n      username: username.value,\r\n      email: email.value.toLowerCase(),\r\n      password: password.value\r\n    };\r\n    axios.post(\r\n      `${config.API_URL}/api/signup`, \r\n      newUser\r\n    )\r\n      .then(\r\n        response => {\r\n          setLoggedInUser(response.data);\r\n          setIsUserChange(true);\r\n          props.history.push(\"/\");\r\n        }\r\n      )\r\n      .catch(\r\n        err => setError(err.response.data.error)\r\n      );\r\n  }\r\n\r\n  // Signin\r\n  const handleSignIn = event => {\r\n    event.preventDefault();\r\n    const {email, password} = event.target;\r\n    const user = {\r\n      email: email.value,\r\n      password: password.value\r\n    };\r\n    axios.post(\r\n      `${config.API_URL}/api/signin`, \r\n      user, \r\n      {withCredentials: true}\r\n    )\r\n      .then(\r\n        response => {\r\n          setLoggedInUser(response.data);\r\n          setIsUserChange(true);\r\n          props.history.push(\"/\");\r\n        }\r\n      )\r\n      .catch(\r\n        err => setError(err.response.data.error)\r\n      );\r\n  }\r\n\r\n  // Logout\r\n  const handleLogOut = () => {\r\n    axios.post(\r\n      `${config.API_URL}/api/logout`, \r\n      {}, \r\n      {withCredentials: true}\r\n    )\r\n      .then(\r\n        () => {\r\n          setLoggedInUser(null);\r\n          clearInterval(intervalId);\r\n          props.history.push(\"/\");\r\n        }\r\n      )\r\n      .catch(\r\n        err => console.log(\"Logout failed\", err)\r\n      );\r\n  }\r\n\r\n  if (isFetchingUser) return (\r\n    <div class=\"spinner-grow text-success m-5\" role=\"status\">\r\n      <span class=\"visually-hidden\"> Loading... </span>\r\n    </div>\r\n  );\r\n  return (\r\n    <div class=\"main\">\r\n      <NavBar onLogOut={handleLogOut} isNewRequest={isNewRequest} user={loggedInUser} headerHeight={headerHeight} aboutHeight={aboutHeight}/>\r\n      <Switch>\r\n        {/* ---------- Plants ---------- */}\r\n        <Route exact path=\"/\" render={\r\n          () => {\r\n            return <Home onSearchPlant={handleSearchPlant} onGetElementsHeight={handleGetElementsHeight} plants={plants} query={query} headerHeight={headerHeight}/>\r\n          }\r\n        }/>\r\n        <Route path=\"/plants/create\" render={\r\n          routeProps => {\r\n            return <CreatePlantForm onCreatePlant={handleCreatePlant} onClearError={handleClearError} user={loggedInUser} headerHeight={headerHeight} aboutHeight={aboutHeight} error={error} {...routeProps}/>\r\n          }\r\n        }/>\r\n        <Route path=\"/plants/read/:plantId\" render={\r\n          routeProps => {\r\n            return <PlantDetails onReadPlant={handleReadPlant} onDeletePlant={handleDeletePlant} plant={plant} user={loggedInUser} headerHeight={headerHeight} aboutHeight={aboutHeight} {...routeProps}/>\r\n          }\r\n        }/>\r\n        <Route path=\"/plants/update\" render={\r\n          routeProps => {\r\n            return <UpdatePlantForm onNameChange={handleNameChange} onDescriptionChange={handleDescriptionChange} onSizeChange={handleSizeChange} onPriceChange={handlePriceChange} onLocationChange={handleLocationChange} onImageChange={handleImageChange} onUpdatePlant={handleUpdatePlant} plant={plant} headerHeight={headerHeight} aboutHeight={aboutHeight} {...routeProps}/>\r\n          }\r\n        }/>\r\n        <Route path=\"/plants/checkout/:plantId\" render={\r\n          routeProps => {\r\n            return <CheckoutPage onCheckout={handleCheckout} headerHeight={headerHeight} aboutHeight={aboutHeight} {...routeProps}/>\r\n          }\r\n        }/>\r\n        {/* ---------- Requests ---------- */}\r\n        <Route path=\"/requests/fetch\" render={\r\n            routeProps => {\r\n              return <RequestsPage onFetchAllRequests={handleFetchAllRequests} onClearNewRequest={handleClearNewRequest}  user={loggedInUser} requests={requests} amountOfRequests={amountOfRequests} {...routeProps}/>\r\n            }\r\n        }/>\r\n        <Route path=\"/requests/create\" render={\r\n          routeProps => {\r\n            return <CreateRequestForm onCreateRequest={handleCreateRequest} onClearError={handleClearError} user={loggedInUser} error={error} {...routeProps}/>\r\n          }\r\n        }/>\r\n        <Route path=\"/requests/read/:requestId\" render={\r\n          routeProps => {\r\n            return <RequestDetails onReadRequest={handleReadRequest} onDeleteRequest={handleDeleteRequest} request={request} user={loggedInUser} {...routeProps}/>\r\n          }\r\n        }/>\r\n        <Route path=\"/requests/update\" render={\r\n          routeProps => {\r\n            return <UpdateRequestForm onCreateReply={handleCreateReply} onUpdateRequest={handleUpdateRequest} request={request} {...routeProps}/>\r\n          }\r\n        }/>\r\n        {/* ---------- Authentication ---------- */}\r\n        <Route path=\"/signup\" render={\r\n          routeProps => {\r\n            return <SignUp onSignUp={handleSignUp} onClearError={handleClearError} onClearNewRequest={handleClearNewRequest} error={error} {...routeProps}/>\r\n          }\r\n        }/>\r\n        <Route path=\"/signin\" render={\r\n          routeProps => {\r\n            return <SignIn onSignIn={handleSignIn} onClearError={handleClearError} onClearNewRequest={handleClearNewRequest} error={error} {...routeProps}/>\r\n          }\r\n        }/>\r\n        <Route path=\"/logout\" render={\r\n          routeProps => {\r\n            return <LogOut onLogOut={handleLogOut} onClearNewRequest={handleClearNewRequest} {...routeProps}/>\r\n          }\r\n        }/>\r\n\r\n        <Route component={NotFound}/>\r\n      </Switch>\r\n      <KommunicateChat/>\r\n      <Footer/>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default withRouter(App);","import React from \"react\";\r\nimport ReactDOM from \"react-dom\";\r\nimport \"./index.css\";\r\nimport App from \"./App\";\r\nimport {BrowserRouter} from \"react-router-dom\";\r\n\r\nReactDOM.render(\r\n  <React.StrictMode>\r\n    <BrowserRouter>\r\n      <App/>\r\n    </BrowserRouter>\r\n  </React.StrictMode>,\r\n  document.querySelector(\"#root\")\r\n);"],"sourceRoot":""}