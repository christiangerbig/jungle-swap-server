{"version":3,"sources":["config.js","components/NavBar.js","components/Footer.js","images/JungleSwap_Home.png","images/JungleSwap_Icon.png","components/Home.js","components/SignUp.js","components/SignIn.js","components/LogOut.js","components/CreatePlantForm.js","components/PlantDetails.js","components/UpdatePlantForm.js","components/CheckoutForm.js","components/CheckoutPage.js","components/RequestsPage.js","components/CreateRequestForm.js","components/RequestDetails.js","components/UpdateRequestForm.js","components/NotFound.js","components/Chat.js","App.js","index.js"],"names":["process","NavBar","props","handleIntervalTimer","onCheckRequests","state","intervalId","setInterval","this","setState","clearInterval","user","newRequestsReceived","headerHeight","introHeight","Navbar","className","variant","expand","fixed","Brand","href","Toggle","aria-controls","Collapse","id","Nav","to","onClick","scroll","scrollTo","title","username","Component","Footer","Home","onGetElementsHeight","plants","query","onSearchPlant","src","image","alt","icon","type","placeholder","value","onChange","map","plant","_id","name","price","class","role","SignUp","onResetError","onResetNewRequestsReceived","scrollToTop","error","onSignUp","onSubmit","htmlFor","SignIn","onSignIn","LogOut","onLogOut","CreatePlantForm","onCreatePlant","min","PlantDetails","plantId","match","params","onReadPlant","onDeletePlant","description","size","imagePublicId","location","creator","pathname","UpdatePlantForm","onNameChange","onDescriptionChange","onSizeChange","onPriceChange","onLocationChange","onImageChange","onUpdatePlant","CheckoutForm","useState","succeeded","setSucceeded","setError","processing","setProcessing","disabled","setDisabled","clientSecret","setClientSecret","stripe","useStripe","elements","useElements","onCheckout","useEffect","window","fetch","config","method","headers","body","JSON","stringify","then","res","json","data","handleChange","event","a","empty","message","handleSubmit","preventDefault","confirmCardPayment","payment_method","card","getElement","CardElement","payload","options","style","base","color","fontFamily","fontSmoothing","fontSize","invalid","iconColor","promise","loadStripe","CheckoutPage","RequestsPage","onFetchAllRequests","requests","currentRequestsNumber","request","buyer","seller","CreateRequestForm","onCreateRequest","cols","rows","RequestDetails","requestId","onReadRequest","onDeleteRequest","reply","UpdateRequestForm","onCreateReply","onUpdateRequest","NotFound","KommunicateChat","d","m","s","document","createElement","async","getElementsByTagName","appendChild","kommunicate","_globals","App","getElementsHeight","Math","round","querySelector","getBoundingClientRect","height","fetchAllPlants","axios","get","response","catch","err","console","log","fetchQueryPlants","ready","handleSearchPlant","target","handleCreatePlant","plantImage","files","uploadForm","FormData","append","post","newPlant","withCredentials","history","push","handleReadPlant","handleNameChange","clonePlant","parse","handleDescriptionChange","handleSizeChange","handlePriceChange","handleLocationChange","handleImageChange","destroyImageData","handleUpdatePlant","updatedPlant","patch","updatedPlants","singlePlant","handleDeletePlant","delete","filteredPlants","filter","handleCheckout","handleFetchAllRequests","handleCheckRequests","loggedInUser","currentRequests","currentRequest","length","initRequestsNumber","resetNewRequestsReceived","handleCreateRequest","newRequest","handleReadRequest","handleCreateReply","cloneRequest","handleUpdateRequest","updatedRequest","updatedRequests","singleRequest","handleDeleteRequest","filteredRequests","resetError","handleSignUp","email","password","newUser","toLowerCase","handleSignIn","handleLogOut","fetchingUser","exact","path","render","routeProps","component","withRouter","ReactDOM","StrictMode"],"mappings":"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","file":"static/js/main.e74d5471.chunk.js","sourcesContent":["export default {API_URL: process.env.REACT_APP_SERVER_URL};","import React, {Component} from \"react\";\r\nimport {Navbar, Nav} from \"react-bootstrap\";\r\nimport {Link} from \"react-router-dom\";\r\nimport {animateScroll as scroll} from \"react-scroll\";\r\n\r\nclass NavBar extends Component {\r\n  \r\n  constructor(props) {\r\n    super(props);\r\n    this.state = {intervalId: null};\r\n  }\r\n  \r\n  // Handler for interval timer\r\n  handleIntervalTimer = () => this.props.onCheckRequests()\r\n\r\n  componentDidMount() {\r\n    const intervalId = setInterval(\r\n      this.handleIntervalTimer, \r\n      10000 // every minute\r\n    );\r\n    this.setState({intervalId: intervalId});\r\n  }\r\n\r\n  componentWillUnmount() {\r\n    clearInterval(this.state.intervalId);\r\n  }\r\n\r\n  render() {\r\n    const {user, newRequestsReceived, headerHeight, introHeight} = this.props;\r\n      return (\r\n      <div>\r\n        <Navbar className=\"pl-5\" variant=\"dark\" expand=\"lg\" fixed=\"top\">\r\n          <Navbar.Brand href=\"/\"> JungleSwap </Navbar.Brand>\r\n          <Navbar.Toggle aria-controls=\"basic-navbar-nav\" />\r\n          <Navbar.Collapse id=\"basic-navbar-nav\">\r\n          <Nav className=\"mr-auto\">\r\n            <div>\r\n              <Link to=\"/\" className=\"p-2\" onClick={() => scroll.scrollTo(headerHeight+introHeight)}> All Plants </Link>\r\n            </div>\r\n            {\r\n              (user) ? (\r\n                <div>\r\n                  <Link className=\"p-2\" to=\"/plants/create\"> Create Plant </Link>\r\n                  <Link className={(newRequestsReceived) ? \"p-2 alertColor\" : \"p-2\"} to=\"/requests/fetch\" title={(newRequestsReceived) ? \"new message\" : null}> Messages </Link>\r\n                </div>\r\n              ) : null\r\n            }\r\n            {\r\n              (user) ? (\r\n                <div>\r\n                  <Link className=\"p-2\" to=\"/logout\" title={user.username}> Log out </Link>\r\n                </div>\r\n              ) : (\r\n                <div>\r\n                  <Link className=\"p-2\" to=\"/signin\"> Sign in </Link>\r\n                  <Link className=\"p-2\" to=\"/signup\"> Sign up </Link>\r\n                </div>\r\n              )\r\n            }\r\n          </Nav>\r\n          </Navbar.Collapse>\r\n        </Navbar>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nexport default NavBar;","import React, {Component} from \"react\";\r\n\r\nclass Footer extends Component {\r\n  render() {\r\n    return (\r\n      <div className=\"footer-row\">\r\n        <footer> © 2021 <a href=\"https://www.linkedin.com/in/christian-gerbig/\"> Christian Gerbig </a> & <a href=\"https://www.linkedin.com/in/lisa-montebaur/\">Lisa Montebaur</a> </footer>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nexport default Footer;","export default __webpack_public_path__ + \"static/media/JungleSwap_Home.c4ed9b4c.png\";","export default __webpack_public_path__ + \"static/media/JungleSwap_Icon.a6c7c44a.png\";","import React, {Component} from \"react\";\r\nimport {Link} from \"react-router-dom\";\r\nimport {animateScroll as scroll} from \"react-scroll\";\r\nimport image from \"../images/JungleSwap_Home.png\";\r\nimport icon from \"../images/JungleSwap_Icon.png\";\r\n\r\nclass Home extends Component {\r\n\r\n  componentDidMount() {\r\n    this.props.onGetElementsHeight();\r\n  }\r\n\r\n  render() {\r\n    const {plants, query, headerHeight, onSearchPlant} = this.props;\r\n    if (!plants) return (\r\n      <div class=\"spinner-grow text-success m-5\" role=\"status\">\r\n        <span class=\"visually-hidden\"> Loading... </span>\r\n      </div>\r\n    );\r\n    return (\r\n      <div>\r\n        {/* Title */}\r\n        <header className=\"text-center pt-5 pb-5 headerImg\" id=\"headerId\">\r\n          <div className=\"row my-5\">\r\n            <div className=\"col-6 offset-3 my-5 borderAround\">\r\n              <h2 className=\"title mb-2\"> JungleSwap </h2>\r\n              <h5 className=\"mt-3 mb-5\"> Share your green heart </h5>\r\n              <div className=\"mb-5\">\r\n                <Link className=\"biggerFontSize\" onClick={() => scroll.scrollTo(headerHeight)}> Try it! </Link>\r\n              </div>\r\n            </div>\r\n          </div>\r\n        </header>\r\n        {/* About */}\r\n        <div className=\"intro\" id=\"introId\">\r\n          <div className=\"intro-centered container\">\r\n            <div className=\"row\">\r\n              <div className=\"col-sm-6 col-md-5 col-lg-6\">\r\n                <img className=\"image\" src={image} alt=\"plants\"/>\r\n              </div>\r\n              <br />\r\n              <div className=\"intro col-sm-6 col-md-5 col-lg-6 px-5\">\r\n                <h4> Welcome to JungleSwap! </h4>\r\n                <h5> Add green to your Home </h5>\r\n                <p> It\"s easy-peasy. <br/>\r\n                  Share your plant offshoots. <br/>\r\n                  Make money! <br/>\r\n                  Or swap them for another plant. <br/>\r\n                  Don\"t have any baby plants? <br/>\r\n                  You can simply shop and give a plant a new home.\r\n                </p>\r\n                <img className=\"icon\" src={icon} alt=\"icon\"/>\r\n              </div>\r\n            </div>\r\n          </div>\r\n        </div>\r\n        {/* Display plants */}\r\n        <div className=\"container mt-5\">\r\n          <div className=\"mt-5 mb-3\">\r\n            <h2> Plants </h2>\r\n            <hr/>\r\n            <h4> Search a plant </h4>\r\n          </div>\r\n          <div className=\"mb-4\">\r\n            <input className=\"smallWidth form-control\" type=\"text\" placeholder=\"Search...\" value={query} onChange={onSearchPlant}/>\r\n          </div>\r\n          <div className=\"row row-cols-1 row-cols-md-3 g-4\">\r\n            {\r\n              plants.map(\r\n                (plant) => {\r\n                  const {_id, name, image, price} = plant;\r\n                  return (\r\n                    <div className=\"col mb-5\" key={_id}>\r\n                      <div className=\"card card-medium-width text-center\">\r\n                        <img className=\"card-img-top mediumPicSize\" src={image} alt={name}/>\r\n                        <div className=\"card-body mb-5\">\r\n                          <h5> {name} </h5>\r\n                          <p> {price} € </p>\r\n                          <Link className=\"btn btn-outline-dark\" to={`/plants/read/${_id}`}> Details </Link>\r\n                        </div>\r\n                      </div>\r\n                    </div>\r\n                  );\r\n                }\r\n              )\r\n            }\r\n          </div>\r\n        </div>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nexport default Home;","import React, {Component} from \"react\";\r\nimport {Link} from \"react-router-dom\";\r\nimport {animateScroll as scroll} from \"react-scroll\";\r\n\r\nclass SignUp extends Component {\r\n\r\n  componentDidMount() {\r\n    const {onResetError, onResetNewRequestsReceived} = this.props;\r\n    onResetError();\r\n    onResetNewRequestsReceived();\r\n    scroll.scrollToTop();\r\n  }\r\n\r\n  render() {\r\n    const {error, onSignUp} = this.props;\r\n    return (\r\n      <div className=\"container row mt-5\">\r\n        <div className=\"mt-5 col-11 col-md-5 offset-1 offset-md-5\">\r\n          <h2 className=\"mb-5\"> Sign Up </h2>\r\n          <form onSubmit={onSignUp}>\r\n            <div className=\"form-group\">\r\n              <label htmlFor=\"InputUsername\"> Username </label>\r\n              <input type=\"text\" className=\"form-control\" id=\"InputUsername\" name=\"username\"/>\r\n            </div>\r\n            <div className=\"form-group\">\r\n              <label htmlFor=\"InputEmail\"> Email address </label>\r\n              <input type=\"email\" className=\"form-control\" id=\"InputEmail\" name=\"email\"/>\r\n            </div>\r\n            <div className=\"form-group\">\r\n              <label htmlFor=\"InputPassword\"> Password </label>\r\n              <input name=\"password\" type=\"password\" className=\"form-control\" id=\"InputPassword\"/>\r\n            </div>\r\n            {\r\n              (error) ? <p className=\"warningColor\"> {error} </p> : null            \r\n            }\r\n            <button type=\"submit\" className=\"btn btn-primary mt-4 btn-outline-dark\"> Sign up </button>\r\n            <p className=\"padding\"> Already have an account? </p>\r\n            <Link to={\"/signin\"}> Sign in </Link>\r\n          </form>\r\n        </div>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nexport default SignUp;","import React, {Component} from \"react\";\r\nimport {animateScroll as scroll} from \"react-scroll\";\r\n\r\nclass SignIn extends Component {\r\n  \r\n  componentDidMount() {\r\n    const {onResetError, onResetNewRequestsReceived} = this.props;\r\n    onResetError();\r\n    onResetNewRequestsReceived();\r\n    scroll.scrollToTop();\r\n  }\r\n\r\n  render() {\r\n    const {error, onSignIn} = this.props;\r\n    return (\r\n      <div className=\"container row mt-5 custom fullscreen\">\r\n        <div className=\"mt-5 col-11 col-md-5 offset-1 offset-md-5\">\r\n          <h2 className=\"mb-5\"> Sign In </h2>\r\n          <form onSubmit={onSignIn}>\r\n            <div className=\"form-group\">\r\n              <label htmlFor=\"InputEmail\"> Email address </label>\r\n              <input type=\"email\" className=\"form-control\" id=\"InputEmail\" name=\"email\"/>\r\n            </div>\r\n            <div className=\"form-group\">\r\n              <label htmlFor=\"InputPassword\"> Password </label>\r\n              <input name=\"password\" type=\"password\" className=\"form-control\" id=\"InputPassword\"/>\r\n            </div>\r\n            {\r\n              (error) ? <p className=\"warningColor\"> {error} </p> : null            \r\n            }\r\n            <button type=\"submit\" className=\"btn btn-primary mt-4 btn-outline-dark\"> Sign in </button>\r\n          </form>\r\n        </div>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nexport default SignIn;","import React, {Component} from \"react\";\r\nimport {animateScroll as scroll} from \"react-scroll\";\r\n\r\nclass LogOut extends Component {\r\n  \r\n  componentDidMount() {\r\n    const {onLogOut, onResetNewRequestsReceived} = this.props;\r\n    onLogOut();\r\n    onResetNewRequestsReceived();\r\n    scroll.scrollToTop();\r\n  }\r\n\r\n  render() {\r\n    return (<div/>);\r\n  }\r\n}\r\n\r\nexport default LogOut;","import React, {Component} from \"react\";\r\nimport {Link, Redirect} from \"react-router-dom\";\r\nimport {animateScroll as scroll} from \"react-scroll\";\r\n\r\nclass CreatePlantForm extends Component {\r\n\r\n  componentDidMount() {\r\n    this.props.onResetError();\r\n    scroll.scrollToTop();\r\n  }\r\n\r\n  render() {\r\n    const {user, headerHeight, introHeight, error, onCreatePlant} = this.props;\r\n    if (!user) return (<Redirect to={\"/signup\"}/>);\r\n    return (\r\n      <div className=\"container row mt-5 fullscreen\">\r\n        <div className=\"mt-5 col-11 col-md-5 offset-1 offset-md-6\">\r\n          <h2 className=\"mb-5\"> Create a plant </h2>\r\n          <form onSubmit={onCreatePlant}>\r\n            <input className=\"mb-4\" name=\"name\" type=\"text\" placeholder=\"Enter name\"/>\r\n            <input className=\"mb-4\" name=\"description\" type=\"text\" placeholder=\"Enter description\"/>\r\n            <input className=\"mb-4 smallWidth\" name=\"size\" type=\"number\" min=\"1\" placeholder=\"Size\"/> cm <br/>\r\n            <select className=\"mb-4 p-1\" name=\"location\" type=\"text\">\r\n              <option> Select location </option>\r\n              <option value=\"sun\"> sun </option>\r\n              <option value=\"shade\"> shade </option>\r\n              <option value=\"sun and shade\"> sun and shade </option>\r\n            </select>\r\n            <br/>\r\n            <input className=\"mb-4 smallWidth\" name=\"price\" type=\"number\" min=\"1\" placeholder=\"Price\"/> € <br/>\r\n            <input className=\"mb-4\" name=\"plantImage\" type=\"file\"/>\r\n            {\r\n              (error) ? <p className=\"warningColor\"> {error} </p> : null            \r\n            }\r\n            <div className=\"col-12\">\r\n              <button className=\"btn btn-sm btn-outline-dark\" type=\"submit\" > Create </button>\r\n              <Link to={\"/\"} onClick={() => scroll.scrollTo(headerHeight+introHeight)}> <button className=\"btn btn-sm mx-5\"> Go back </button> </Link>\r\n            </div>\r\n          </form>\r\n        </div>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nexport default CreatePlantForm;","import React, {Component} from \"react\";\r\nimport {Link, Redirect} from \"react-router-dom\";\r\nimport {animateScroll as scroll} from \"react-scroll\";\r\n\r\nclass PlantDetails extends Component {\r\n\r\n  componentDidMount() {\r\n    const {plantId} = this.props.match.params;\r\n    this.props.onReadPlant(plantId);\r\n    scroll.scrollToTop();\r\n  }\r\n\r\n  render() {\r\n    const {user, plant, headerHeight, introHeight, onDeletePlant} = this.props;\r\n    if (!user) return (<Redirect to={ \"/signup\" }/>);\r\n    const {_id, name, description, size, image, imagePublicId, location, price, creator} = plant;\r\n    if (!creator) return (\r\n      <div class=\"spinner-grow text-success m-5\" role=\"status\">\r\n        <span class=\"visually-hidden\"> Loading... </span>\r\n      </div>\r\n    );\r\n    return (\r\n      <div className=\"container mt-5 row row-md-10 offset-md-4\">\r\n        <div className=\"mt-4 mb-3 pt-4 container\">\r\n          <h2> Plant details </h2>\r\n        </div>\r\n        <div className=\"col\">\r\n          <div className=\"card cardMediumWidth\">\r\n            {\r\n              (image) ? <img className=\"card-img-top mediumPicSize\" src={image} alt={name}/> : null\r\n            }\r\n            <div className=\"ml-2 mt-2\"> <span> Name: </span> {name} </div>\r\n            <div className=\"ml-2 mt-2\"> <span> Description: </span> {description} </div>\r\n            <div className=\"ml-2 mt-2\"> <span> Size: </span> {size} cm </div>\r\n            <div className=\"ml-2 mt-2\"> <span> Likes: </span> {location} </div>\r\n            <div className=\"ml-2 mt-2\"> <span> Price: </span> {price} € </div>\r\n            <div className=\"ml-2 mt-2 col justify-content-center\">\r\n              <div className=\"row-2 justify-content-center\">\r\n                <div className=\"card-body\">\r\n                  {\r\n                    (user._id === creator._id) ? (\r\n                      <div>\r\n                        <Link to={\"/plants/update\"}> <button className=\"btn btn-sm ml-2 btn-outline-dark\"> Update </button> </Link>\r\n                        <button className=\"btn btn-sm ml-2 btn-outline-dark\" onClick={() => onDeletePlant(_id, imagePublicId)}> Delete </button>\r\n                      </div>\r\n                    ) : (\r\n                      <div>\r\n                        <Link to={{pathname: `/plants/checkout/${_id}`, plant: plant}}> <button className=\"btn btn-sm ml-2 btn-outline-dark\"> Buy </button> </Link>\r\n                        <Link to={{pathname: \"/requests/create\", plant: plant}}> <button className=\"btn btn-sm ml-2 btn-outline-dark\"> Swap </button> </Link>\r\n                      </div>\r\n                    )\r\n                  }\r\n                  <Link to={\"/\"} onClick={() => scroll.scrollTo(headerHeight+introHeight)}> <button className=\"btn btn-sm ml-2\"> Go back </button> </Link>\r\n                </div>\r\n              </div>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nexport default PlantDetails;","import React, {Component} from \"react\";\r\nimport {Link} from \"react-router-dom\";\r\nimport {animateScroll as scroll} from \"react-scroll\";\r\n\r\nclass UpdatePlantForm extends Component {\r\n\r\n  componentDidMount() {\r\n    scroll.scrollToTop();\r\n  }\r\n\r\n  render() {\r\n    const {plant, onNameChange, onDescriptionChange, onSizeChange, onPriceChange, onLocationChange, onImageChange, onUpdatePlant} = this.props;\r\n    const {_id, name, description, size, image, price} = plant;\r\n    return (\r\n      <div className=\"container row mt-5 \">\r\n        <div className=\"mt-2 col-11 col-md-5 offset-1 offset-md-5\">\r\n          <h2 className=\"mt-5 mb-4\"> Update your plant </h2>\r\n          <div className=\"card cardSmallWidth mb-5\">\r\n            <img className=\"mb-2 smallPicSize\" src={image} alt={name}/>\r\n            <div className=\"card-body\">\r\n              <input className=\"mb-2\" onChange={onImageChange} type=\"file\"/>\r\n              <input className=\"mb-2\"  type=\"text\" onChange={onNameChange} value={ name }/>\r\n              <input className=\"mb-2\"  type=\"text\" onChange={onDescriptionChange} value={description}/>\r\n              <input className=\"mb-2 smallWidth\"  type=\"number\" onChange={onSizeChange} value={size}/> cm <br/>\r\n              <select  className=\"mb-2\" onChange={onLocationChange} name=\"location\" type=\"text\" placeholder=\"Select\">\r\n                <option value=\"sun\"> sun </option>\r\n                <option value=\"shade\"> shade </option>\r\n                <option value=\"sun and shade\"> sun and shade </option>\r\n              </select> <br/>\r\n              <input className=\"mb-4 smallWidth\" name=\"price\" type=\"number\" min=\"1\" onChange={onPriceChange} value={price}/> € \r\n              <div className=\"row justify-content-around\">\r\n                <button className=\"btn btn-sm btn-outline-dark\" onClick={() => onUpdatePlant(plant)}> Save changes </button>\r\n                <Link to={`/plants/read/${_id}`}> <button className=\"btn btn-sm mx-2\"> Go back </button> </Link>\r\n              </div>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nexport default UpdatePlantForm;","import React, {useState, useEffect} from \"react\";\r\nimport {Link} from \"react-router-dom\";\r\nimport {animateScroll as scroll} from \"react-scroll\";\r\nimport {CardElement, useStripe, useElements} from \"@stripe/react-stripe-js\";\r\nimport config from \"../config\";\r\n\r\nconst CheckoutForm = (props) => {\r\n  const [succeeded, setSucceeded] = useState(false);\r\n  const [error, setError] = useState(null);\r\n  const [processing, setProcessing] = useState(\"\");\r\n  const [disabled, setDisabled] = useState(true);\r\n  const [clientSecret, setClientSecret] = useState(\"\");\r\n  const stripe = useStripe();\r\n  const elements = useElements();\r\n  const {plant, headerHeight, introHeight, onCheckout} = props;\r\n  \r\n  useEffect(\r\n    () => {\r\n      // Create PaymentIntent as soon as the page loads\r\n      window\r\n        .fetch(\r\n          `${config.API_URL}/api/create-payment-intent`,\r\n          {\r\n            method: \"POST\",\r\n            headers: { \"Content-Type\": \"application/json\" },\r\n            body: JSON.stringify({price: plant.price})\r\n          }\r\n        )\r\n        .then(\r\n          (res) => {\r\n            return (res.json());\r\n          }\r\n        )\r\n        .then(\r\n          (data) => setClientSecret(data.clientSecret)\r\n        );\r\n    },\r\n    [plant.price]\r\n  );\r\n  const cardStyle = {\r\n    style: {\r\n      base: {\r\n        color: \"#32325d\",\r\n        fontFamily: \"Arial, sans-serif\",\r\n        fontSmoothing: \"antialiased\",\r\n        fontSize: \"16px\",\r\n        \"::placeholder\": {color: \"#32325d\"}\r\n      },\r\n      invalid: {\r\n        color: \"#fa755a\",\r\n        iconColor: \"#fa755a\"\r\n      }\r\n    }\r\n  };\r\n\r\n  // Listen for changes in Card element and display any errors as customer types card details\r\n  const handleChange = async (event) => {\r\n    setDisabled(event.empty);\r\n    setError(event.error ? event.error.message : \"\");\r\n  };\r\n\r\n  const handleSubmit = async (event) => {\r\n    event.preventDefault();\r\n    setProcessing(true);\r\n    const payload = await stripe.confirmCardPayment(\r\n      clientSecret,\r\n      {payment_method: {card: elements.getElement(CardElement)}}\r\n    );\r\n    if (payload.error) {\r\n      setError(`Payment failed ${payload.error.message}`);\r\n      setProcessing(false);\r\n    }\r\n    else {\r\n      setError(null);\r\n      setProcessing(false);\r\n      setSucceeded(true);\r\n    }\r\n  }\r\n  \r\n  const {_id, name, price} = plant;\r\n  return (\r\n    <div className=\"container col-9\">\r\n      <form className=\"checkoutForm mt-5\" id=\"payment-form\" onSubmit={handleSubmit}>\r\n        <h2 className=\"text-center mb-2 p-2\">  {name} </h2>\r\n        <h3 className=\"text-center mb-4 p-2\"> {price} € </h3>\r\n        <CardElement className=\"p-2\" id=\"card-element\" options={cardStyle} onChange={handleChange}/>\r\n        <div className=\"row justify-content-center\">\r\n          <button onClick={onCheckout} className=\"btn btn-sm mt-5 mb-4\" disabled={processing || disabled || succeeded} id=\"submit\">\r\n            <span id=\"button-text\">\r\n              {\r\n                (processing) ? <div className=\"spinner\" id=\"spinner\"/> : \"Pay now\"\r\n              }\r\n            </span>\r\n          </button>\r\n        </div>\r\n        {/* Show any error that happens when processing the payment */}\r\n        {\r\n          error && (<div className=\"card-error\" role=\"alert\"> {error} </div>)\r\n        }\r\n        {/* Show success message upon completion */}\r\n        <p className={(succeeded) ? \"result-message text-center\" : \"result-message hidden text-center\"}>\r\n          Payment succeeded.\r\n        </p>\r\n      </form>\r\n      <div className=\"row justify-content-center\">\r\n        {\r\n          (succeeded) ? (\r\n            <Link to={\"/\"} onClick={() => scroll.scrollTo(headerHeight+introHeight)}> <button className=\"btn btn-sm\"> Go back </button> </Link>\r\n          ) \r\n          : (\r\n            <Link to={`/plants/read/${_id}`}> <button className=\"btn btn-sm\"> Go back </button> </Link>\r\n          )\r\n        }\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default CheckoutForm;","import React, {Component} from \"react\";\r\nimport {loadStripe} from \"@stripe/stripe-js\";\r\nimport {Elements} from \"@stripe/react-stripe-js\";\r\nimport CheckoutForm from \"./CheckoutForm\";\r\nimport {animateScroll as scroll} from \"react-scroll\";\r\n\r\nconst promise = loadStripe(\"pk_test_51IQBsPA6EAM4YnfDyrjHWnLHzZ5KkI9tsERzYhBGVoctZBrFUb4Sda035HvcQKpp7thFiqW6QmO8ytPbOAMTg33z00cHvcbojv\");\r\n\r\nclass CheckoutPage extends Component {\r\n\r\n  componentDidMount() {\r\n    scroll.scrollToTop();\r\n  }\r\n\r\n  render() {\r\n    const {headerHeight, introHeight, onCheckout} = this.props;\r\n    const {plant} = this.props.location;\r\n    return (\r\n      <div className=\"container row mt-5\">\r\n        <div className=\"mt-5 col-11 col-md-6 offset-1 offset-md-5 App\">\r\n          <Elements stripe={promise}>\r\n            <CheckoutForm onCheckout={onCheckout} plant={plant} headerHeight={headerHeight} introHeight={introHeight}/>\r\n          </Elements>\r\n        </div>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nexport default CheckoutPage;","import React, {Component} from \"react\";\r\nimport {Link, Redirect} from \"react-router-dom\";\r\nimport {animateScroll as scroll} from \"react-scroll\";\r\n\r\nclass RequestsPage extends Component {\r\n\r\n  componentDidMount() {\r\n    const {onFetchAllRequests, onResetNewRequestsReceived} = this.props;\r\n    onFetchAllRequests();\r\n    onResetNewRequestsReceived();\r\n    scroll.scrollToTop();\r\n  }\r\n  \r\n  render() {\r\n    const {user, requests, currentRequestsNumber, onResetNewRequestsReceived} = this.props;\r\n    if (!user) return (<Redirect to={\"/signup\"}/>);\r\n    if (!requests) return (\r\n      <div class=\"spinner-grow text-success m-5\" role=\"status\">\r\n        <span class=\"visually-hidden\"> Loading... </span>\r\n      </div>\r\n    );\r\n    return (\r\n      <div className=\"container row mt-5\">\r\n        <div className=\"mt-5 col-11 col-md-5 offset-1 offset-md-5\">\r\n          <h2 className=\"mb-5\"> Your messages </h2>\r\n          <Link to={\"/\"} onClick={() => {onResetNewRequestsReceived(); scroll.scrollToTop();}}> <button className=\"btn btn-sm mt-4\"> Go back </button> </Link>\r\n          {\r\n            requests.map(\r\n              (request) => {\r\n                const {_id, buyer, seller, plant} = request;\r\n                return (\r\n                  (seller._id === user._id) ? (\r\n                    <div className=\"card p-3 mt-4 \" key={_id}>\r\n                      <h4> Request for: {plant.name} </h4>\r\n                      <h5> by: {buyer.username} </h5>\r\n                      <div>\r\n                        <Link className=\"btn btn-outline-dark\" to={`/requests/read/${_id}`}> Details </Link>\r\n                      </div>\r\n                    </div>\r\n                  ) : null\r\n                );\r\n              } \r\n            )\r\n          }\r\n          {\r\n            (currentRequestsNumber === 0) ? null : <Link to={\"/\"} onClick={() => {onResetNewRequestsReceived(); scroll.scrollToTop();}}> <button className=\"btn btn-sm mt-4\"> Go back </button> </Link>\r\n          }\r\n        </div>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nexport default RequestsPage;","import React, {Component} from \"react\";\r\nimport {Link} from \"react-router-dom\";\r\nimport {animateScroll as scroll} from \"react-scroll\";\r\n\r\nclass CreateRequestForm extends Component {\r\n\r\n  componentDidMount() {\r\n    this.props.onResetError();\r\n    scroll.scrollToTop();\r\n  }\r\n\r\n  render() {\r\n    const {error, onCreateRequest} = this.props;\r\n    const {plant} = this.props.location;\r\n    return (\r\n      <div className=\"container row mt-5\">\r\n        <div className=\"mt-5 col-11 col-md-5 offset-1 offset-md-5\">\r\n          <h2 className=\"mb-5\"> Your mesage </h2>\r\n          <form onSubmit={(event) => onCreateRequest(event, plant)}>\r\n            <div>\r\n              <textarea className=\"mb-4\" name=\"message\" cols=\"35\" rows=\"7\" />\r\n            </div>\r\n            {\r\n              (error) ? <p className=\"warningColor\"> {error} </p> : null            \r\n            }\r\n            <button className=\"btn btn-sm btn-outline-dark\" type=\"submit\"> Send </button>\r\n            <Link to={`/plants/read/${plant._id}`}> <button className=\"btn btn-sm mx-2\"> Go back </button> </Link>\r\n          </form>\r\n        </div>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nexport default CreateRequestForm;","import React, {Component} from \"react\";\r\nimport {Link} from \"react-router-dom\";\r\nimport {animateScroll as scroll} from \"react-scroll\";\r\n\r\nclass RequestDetails extends Component {\r\n\r\n  componentDidMount() {\r\n    const {requestId} = this.props.match.params;\r\n    this.props.onReadRequest(requestId);\r\n    scroll.scrollToTop();\r\n  }\r\n\r\n  render() {\r\n    const {request, onDeleteRequest} = this.props;\r\n    const {_id, buyer, plant, message, reply} = request;\r\n    if (!buyer || !plant) return (\r\n      <div class=\"spinner-grow text-success m-5\" role=\"status\">\r\n        <span class=\"visually-hidden\"> Loading... </span>\r\n      </div>\r\n    );\r\n    return (\r\n      <div className=\"container row mt-5 \">\r\n        <div className=\"mt-5 col-11 col-md-5 offset-1 offset-md-5\">\r\n        <h2 className=\"mb-5\"> Your request </h2>\r\n        <h4> for: {plant.name} </h4>\r\n        <h5> by: {buyer.username} </h5>\r\n        <p> {message} </p>\r\n        {\r\n          (reply) ? (\r\n            <div>\r\n              <h5> Your reply: </h5>\r\n              <p> {reply} </p>\r\n            </div>\r\n          ) : null\r\n        }\r\n        <div>\r\n          {                  \r\n            (reply) ? null : <Link to={`/requests/update/${_id}`}> <button className=\"btn btn-sm ml-2 btn-outline-dark\"> Reply </button> </Link>\r\n          }\r\n          <button className=\"btn btn-sm ml-2 btn-outline-dark\" onClick={() => onDeleteRequest(_id)}> Delete </button>\r\n        </div>\r\n        <Link to={\"/requests/fetch\"} onClick={scroll.scrollToTop}> <button className=\"btn btn-sm mt-4\"> Go back </button> </Link>\r\n      </div>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nexport default RequestDetails;","import React, {Component} from \"react\";\r\nimport {Link} from \"react-router-dom\";\r\nimport {animateScroll as scroll} from \"react-scroll\";\r\n\r\nclass UpdateRequestForm extends Component {\r\n\r\n  componentDidMount() {\r\n    scroll.scrollToTop();\r\n  }\r\n\r\n  render() {\r\n    const {request, onCreateReply, onUpdateRequest} = this.props;\r\n    const {_id, message} = request;\r\n    return (\r\n      <div className=\"container row mt-5 \">\r\n        <div className=\"mt-2 col-11 col-md-5 offset-1 offset-md-5\">\r\n          <h2 className=\"mt-5 mb-4\"> Reply your request </h2>\r\n          <div className=\"card cardSmallWidth mb-5\">\r\n            <div className=\"card-body\">\r\n              <p> {message} </p>\r\n                <textarea className=\"mb-4\" name=\"reply\" cols=\"31\" rows=\"6\" placeholder=\"Your reply\" onChange={onCreateReply}/>\r\n                <div className=\"row justify-content-around\">\r\n                  <button className=\"btn btn-sm btn-outline-dark\" onClick={() => onUpdateRequest(request)}> Submit </button>\r\n                  <Link to={`/requests/read/${_id}`}> <button className=\"btn btn-sm mx-2\"> Go back </button> </Link>\r\n              </div>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nexport default UpdateRequestForm;","import React, {Component} from \"react\";\r\nimport {Link} from \"react-router-dom\";\r\n\r\nclass NotFound extends Component {\r\n  render() {\r\n    return (\r\n      <div className=\"notFound\">\r\n        <div>\r\n          <h2> \r\n            Oh-oh! <br/> <br/>\r\n            We think you got lost in the jungle!\r\n          </h2>\r\n          <h3> 404 Not Found </h3>\r\n          <Link to={\"/\"}> <button className=\"btn btn-sm ml-2\"> Take me home </button> </Link>\r\n        </div>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nexport default NotFound;","import React, {Component} from \"react\";\r\n\r\nclass KommunicateChat extends Component {\r\n\r\n  componentDidMount() {\r\n    (\r\n      (d, m) => {\r\n        const kommunicateSettings = { \r\n          \"appId\": \"10b22c52854a305b79bbdecc356bea5\", \r\n          \"popupWidget\": true, \r\n          \"automaticChatOpenOnNavigation\": true \r\n        };\r\n        const s = document.createElement(\"script\"); \r\n        s.type = \"text/javascript\"; \r\n        s.async = true;\r\n        s.src = \"https://widget.kommunicate.io/v2/kommunicate.app\";\r\n        const h = document.getElementsByTagName(\"head\")[0]; \r\n        h.appendChild(s);\r\n        window.kommunicate = m; \r\n        m._globals = kommunicateSettings;\r\n      }\r\n    )\r\n    (\r\n      document, \r\n      window.kommunicate || {}\r\n    );\r\n  }\r\n  \r\n  render() {\r\n    return (<div/>);\r\n  }\r\n}\r\n\r\nexport default KommunicateChat;","import React, {Component} from \"react\";\r\nimport {Route, Switch, withRouter} from \"react-router-dom\";\r\nimport {animateScroll as scroll} from \"react-scroll\";\r\nimport config from \"./config\";\r\nimport axios from \"axios\";\r\nimport \"bootstrap/dist/css/bootstrap.min.css\";\r\nimport \"./App.css\";\r\n\r\nimport NavBar from \"./components/NavBar\";\r\nimport Footer from \"./components/Footer\";\r\nimport Home from \"./components/Home\";\r\nimport SignUp from \"./components/SignUp\";\r\nimport SignIn from \"./components/SignIn\";\r\nimport LogOut from \"./components/LogOut\";\r\nimport CreatePlantForm from \"./components/CreatePlantForm\";\r\nimport PlantDetails from \"./components/PlantDetails\";\r\nimport UpdatePlantForm from \"./components/UpdatePlantForm\";\r\nimport CheckoutPage from \"./components/CheckoutPage\";\r\nimport RequestsPage from \"./components/RequestsPage\";\r\nimport CreateRequestForm from \"./components/CreateRequestForm\";\r\nimport RequestDetails from \"./components/RequestDetails\";\r\nimport UpdateRequestForm from \"./components/UpdateRequestForm\";\r\nimport NotFound from \"./components/NotFound\";\r\nimport KommunicateChat from \"./components/Chat\";\r\n\r\nclass App extends Component {\r\n\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = {\r\n      fetchingUser: true,\r\n      loggedInUser: null,\r\n      plants: [],\r\n      query: \"\",\r\n      plant: {},\r\n      requests: [],\r\n      request: {},\r\n      currentRequestsNumber: 0,\r\n      initRequestsNumber: true,\r\n      newRequestsReceived: false,\r\n      headerHeight: 0,\r\n      introHeight: 0,\r\n      error: null\r\n    };\r\n  }\r\n\r\n  // ---------- Plants ----------\r\n\r\n  // Get height of header and intro elements\r\n  getElementsHeight = () => {\r\n    const headerHeight = Math.round(document.querySelector(\"#headerId\").getBoundingClientRect().height);\r\n    const introHeight = Math.round(document.querySelector(\"#introId\").getBoundingClientRect().height);\r\n    this.setState(\r\n      {\r\n      headerHeight,\r\n      introHeight\r\n      }\r\n    );\r\n  }\r\n\r\n  // Fetch all plants\r\n  fetchAllPlants = () => {\r\n    axios.get(`${config.API_URL}/api/plants/fetch`)\r\n      .then(\r\n        (response) => this.setState({plants: response.data})\r\n      )\r\n      .catch(\r\n        (err) => console.log(\"Fetching plants failed\", err)\r\n      );\r\n  }\r\n\r\n  componentDidMount() {\r\n    this.fetchAllPlants();\r\n    if (!this.state.loggedInUser) {\r\n      axios.get(`${config.API_URL}/api/user`, { withCredentials: true })\r\n        .then(\r\n          (response) => this.setState(\r\n            {\r\n              loggedInUser: response.data,\r\n              fetchingUser: false\r\n            }\r\n          )\r\n        )\r\n        .catch(\r\n          (err) => {\r\n            this.setState({ fetchingUser: false });\r\n            console.log(\"Initializing fetching failed\", err);\r\n          }\r\n        );\r\n    }\r\n  }\r\n\r\n  // Fetch query plants\r\n  fetchQueryPlants = () => {\r\n    axios.get(`${config.API_URL}/api/plants/search?q=${this.state.query}`)\r\n      .then(\r\n        (response) => this.setState(\r\n          {\r\n            plants: response.data,\r\n            ready: true\r\n          }\r\n        )\r\n      )\r\n      .catch(\r\n        (err) => console.log(\"Query fetching failed\", err)\r\n      );\r\n  }\r\n  \r\n  // Search plant\r\n  handleSearchPlant = (event) => {\r\n    const query = event.target.value;\r\n    this.setState(\r\n      {query},\r\n      () => (query) ? this.fetchQueryPlants() : this.fetchAllPlants()\r\n    );\r\n  }\r\n\r\n  // Create plant\r\n  handleCreatePlant = (event) => {\r\n    event.preventDefault();\r\n    const {name, description, size, plantImage, location, price} = event.target;\r\n    const image = plantImage.files[0];\r\n    const uploadForm = new FormData();\r\n    uploadForm.append(\"image\", image);\r\n    axios.post(`${config.API_URL}/api/upload`, uploadForm)\r\n      .then(\r\n        (response) => {\r\n          const {image, imagePublicId} = response.data;\r\n          const newPlant = {\r\n            name: name.value,\r\n            description: description.value,\r\n            size: size.value,\r\n            image,\r\n            imagePublicId,\r\n            location: location.value,\r\n            price: price.value\r\n          };\r\n          axios.post(\r\n            `${config.API_URL}/api/plants/create`, \r\n            newPlant, \r\n            {withCredentials: true}\r\n          )\r\n            .then(\r\n              (response) => this.setState(\r\n                {plants: [response.data, ...this.state.plants]},\r\n                () => {\r\n                  this.props.history.push(\"/\");\r\n                  scroll.scrollTo(this.state.headerHeight+this.state.introHeight);\r\n                }\r\n               \r\n              )\r\n            )\r\n            .catch(\r\n              (err) => this.setState({error: err.response.data.error})\r\n            );\r\n        }\r\n      )\r\n      .catch(\r\n        (err) => this.setState({error: err.response.data.error})\r\n      );\r\n  }\r\n\r\n  // Read plant\r\n  handleReadPlant = (plantId) => {\r\n    axios.get(\r\n      `${config.API_URL}/api/plants/read/${plantId}`,\r\n      {withCredentials: true}\r\n    )\r\n      .then(\r\n        (response) => this.setState({plant: response.data})\r\n      )\r\n      .catch(\r\n        () => console.log(\"Read plant failed\")\r\n      );\r\n  }\r\n\r\n  // Plant name changed\r\n  handleNameChange = (event) => {\r\n    const clonePlant = JSON.parse(JSON.stringify(this.state.plant));\r\n    clonePlant.name = event.target.value;\r\n    this.setState({plant: clonePlant});\r\n  }\r\n\r\n  // Plant description changed\r\n  handleDescriptionChange = (event) => {\r\n    const clonePlant = JSON.parse(JSON.stringify(this.state.plant));\r\n    clonePlant.description = event.target.value;\r\n    this.setState({plant: clonePlant});\r\n  }\r\n\r\n  // Plant size changed\r\n  handleSizeChange = (event) => {\r\n    const clonePlant = JSON.parse(JSON.stringify(this.state.plant));\r\n    clonePlant.size = event.target.value;\r\n    this.setState({plant: clonePlant});\r\n  }\r\n\r\n  // Plant price changed\r\n  handlePriceChange = (event) => {\r\n    const clonePlant = JSON.parse(JSON.stringify(this.state.plant));\r\n    clonePlant.price = event.target.value;\r\n    this.setState({plant: clonePlant});\r\n  }\r\n\r\n  // Plant location changed\r\n  handleLocationChange = (event) => {\r\n    const clonePlant = JSON.parse(JSON.stringify(this.state.plant));\r\n    clonePlant.location = event.target.value;\r\n    this.setState({plant: clonePlant});\r\n  }\r\n\r\n  // Plant image changed\r\n  handleImageChange = (event) => {\r\n    const image = event.target.files[0];\r\n    const {imagePublicId} = this.state.plant;\r\n    const destroyImageData = {\r\n      imagePublicId\r\n    }\r\n    axios.post(\r\n      `${config.API_URL}/api/destroy`, \r\n      destroyImageData\r\n    )\r\n      .then(\r\n        () => {\r\n          const uploadForm = new FormData();\r\n          uploadForm.append(\"image\", image);\r\n          axios.post(\r\n            `${ config.API_URL }/api/upload`, \r\n            uploadForm\r\n          )\r\n            .then(\r\n              (response) => {\r\n                const clonePlant = JSON.parse(JSON.stringify(this.state.plant));\r\n                const {imagePublicId, image} = response.data;\r\n                clonePlant.imagePublicId = imagePublicId;\r\n                clonePlant.image = image;\r\n                this.setState({plant: clonePlant});\r\n              }\r\n            )\r\n            .catch(\r\n              (err) => console.log(\"Image upload failed\", err)\r\n            );\r\n        }\r\n      )\r\n      .catch(\r\n        (err) => console.log(\"Delete old image failed\", err)\r\n      );\r\n  }\r\n\r\n  // Update plant\r\n  handleUpdatePlant = (plant) => {\r\n    const {_id, name, description, size, image, imagePublicId, location, price} = plant;\r\n    const updatedPlant = {\r\n      name,\r\n      description,\r\n      size,\r\n      image,\r\n      imagePublicId,\r\n      location,\r\n      price\r\n    };\r\n    axios.patch(\r\n      `${config.API_URL}/api/plants/update/${_id}`,\r\n       updatedPlant\r\n      )\r\n      .then(\r\n        () => {\r\n          const updatedPlants = this.state.plants.map(\r\n            (singlePlant) => {\r\n              if (singlePlant._id === _id) {\r\n                singlePlant.name = name;\r\n                singlePlant.description = description;\r\n                singlePlant.size = size;\r\n                singlePlant.image = image;\r\n                singlePlant.imagePublicId = imagePublicId;\r\n                singlePlant.location = location;\r\n                singlePlant.price = price;\r\n              }\r\n              return singlePlant;\r\n            }\r\n          );\r\n          this.setState(\r\n            {plants: updatedPlants},\r\n            () => {\r\n              this.props.history.push(\"/\");\r\n              scroll.scrollTo(this.state.headerHeight+this.state.introHeight);\r\n            }\r\n          );\r\n        }\r\n      )\r\n      .catch(\r\n        (err) => console.log(\"Update plant failed\", err)\r\n      );\r\n  }\r\n\r\n  // Delete Plant\r\n  handleDeletePlant = (plantId, imagePublicId) => {\r\n    const destroyImageData = {\r\n      imagePublicId\r\n    }\r\n    axios.post(\r\n      `${config.API_URL}/api/destroy`, \r\n      destroyImageData\r\n    )\r\n      .then(\r\n        () => {\r\n          axios.delete(`${config.API_URL}/api/plants/delete/${plantId}`)\r\n            .then(\r\n              () => {\r\n                const filteredPlants = this.state.plants.filter(\r\n                  (plant) => {\r\n                    return plant._id !== plantId;\r\n                  }\r\n                );\r\n                this.setState(\r\n                  {plants: filteredPlants},\r\n                  () => {\r\n                    this.props.history.push(\"/\");\r\n                    scroll.scrollTo(this.state.headerHeight+this.state.introHeight);\r\n                  }\r\n                );\r\n              }\r\n            )\r\n            .catch(\r\n              (err) => console.log(\"Delete plant failed\", err)\r\n            );\r\n        }\r\n      )\r\n      .catch(\r\n        (err) => console.log(\"Delete image failed\", err)\r\n      );\r\n  }  \r\n\r\n  // Plant payment\r\n  handleCheckout = (price) => {\r\n    axios.post(\r\n      `${config.API_URL}/api/create-payment-intent`, \r\n      {}, \r\n      {withCredentials: true}\r\n    )\r\n      .then(\r\n        () => this.setState(\r\n          () => {\r\n            this.props.history.push(\"/\");\r\n            scroll.scrollTo(this.state.headerHeight+this.state.introHeight);\r\n          }\r\n        )\r\n      )\r\n      .catch(\r\n        (err) => console.log(\"Checkout failed\", err)\r\n      );\r\n  }\r\n\r\n  // ---------- Requests ----------\r\n\r\n  // Fetch all requests\r\n  handleFetchAllRequests = () => {\r\n    axios.get(`${config.API_URL}/api/requests/fetch`)\r\n      .then(\r\n        (response) => this.setState({requests: response.data})\r\n      )\r\n      .catch(\r\n        (err) => console.log(\"Fetching requests failed\", err)\r\n      );\r\n  }\r\n\r\n  // Check requests for logged in user\r\n  handleCheckRequests = () => {\r\n    const {loggedInUser} = this.state;\r\n    if (loggedInUser) {\r\n      axios.get(`${config.API_URL}/api/requests/fetch`)\r\n        .then(\r\n          (response) => {\r\n            this.setState({requests: response.data});\r\n            const currentRequests = this.state.requests.filter(\r\n              (currentRequest) => {\r\n                return currentRequest.seller._id === loggedInUser._id;\r\n              } \r\n            );\r\n            const currentRequestsNumber = currentRequests.length;\r\n            // Save number of requests only once at the beginning\r\n            if (this.state.initRequestsNumber) {\r\n              this.setState(\r\n                { \r\n                  currentRequestsNumber: currentRequestsNumber,\r\n                  initRequestsNumber: false\r\n                }\r\n              );\r\n            }\r\n            // Check if there are new requests and update number of requests\r\n            if ((this.state.currentRequestsNumber < currentRequestsNumber) && (this.state.initRequestsNumber === false) && (currentRequests[0].seller._id === loggedInUser._id)) {\r\n              this.setState(\r\n                { \r\n                  currentRequestsNumber: currentRequestsNumber,\r\n                  newRequestsReceived: true\r\n                }\r\n              );\r\n            }\r\n          }\r\n        )\r\n        .catch(\r\n          (err) => console.log(\"Checking requests failed\", err)\r\n        );\r\n    }\r\n  }\r\n\r\n  // Reset state for new received requests\r\n  resetNewRequestsReceived = () => this.setState({newRequestsReceived: false})\r\n\r\n  // Create request\r\n  handleCreateRequest = (event, plant) => {\r\n    event.preventDefault();\r\n    const {message} = event.target;\r\n    const newRequest = {\r\n      seller: plant.creator._id,\r\n      plant: plant._id,\r\n      message: message.value\r\n    };\r\n    axios.post(\r\n      `${config.API_URL}/api/requests/create`, \r\n      newRequest, \r\n      {withCredentials: true}\r\n    )\r\n      .then(\r\n        (response) => this.setState(\r\n          {requests: [response.data, ...this.state.requests]},\r\n          () => this.props.history.push(`/plants/read/${plant._id}`)\r\n        )\r\n      )\r\n      .catch(\r\n        (err) => this.setState({ error: err.response.data.error })\r\n      );\r\n  }\r\n\r\n  // Read request\r\n  handleReadRequest = (requestId) => {\r\n    axios.get(\r\n      `${config.API_URL}/api/requests/read/${requestId}`,\r\n      {withCredentials: true}\r\n    )\r\n      .then(\r\n        (response) => this.setState({request: response.data})\r\n      )\r\n      .catch(\r\n        () => console.log(\"Read request failed\")\r\n      );\r\n  }\r\n\r\n  // Create reply\r\n  handleCreateReply = (event) => {\r\n    const cloneRequest = JSON.parse(JSON.stringify(this.state.request));\r\n    cloneRequest.reply = event.target.value;\r\n    this.setState({request: cloneRequest});\r\n  }\r\n\r\n  // Update request\r\n  handleUpdateRequest = (request) => {\r\n    const {_id, buyer, seller, plant, message, reply} = request;\r\n    const updatedRequest = {\r\n      buyer,\r\n      seller,\r\n      plant,\r\n      message,\r\n      reply\r\n    };\r\n    axios.patch(\r\n      `${config.API_URL}/api/requests/update/${_id}`, \r\n      updatedRequest\r\n    )\r\n      .then(\r\n        () => {\r\n          const updatedRequests = this.state.requests.map(\r\n            (singleRequest) => {\r\n              if (singleRequest._id === _id) {\r\n                singleRequest.buyer = buyer;\r\n                singleRequest.seller = seller;\r\n                singleRequest.plant = plant;\r\n                singleRequest.message = message;\r\n                singleRequest.reply = reply;\r\n              }\r\n              return singleRequest;\r\n            }\r\n          );\r\n          this.setState(\r\n            {requests: updatedRequests},\r\n            () => this.props.history.push(`/requests/read/${_id}`)\r\n          );\r\n        }\r\n      )\r\n      .catch(\r\n        (err) => console.log(\"Update request failed\", err)\r\n      );\r\n  }\r\n\r\n  // Delete request\r\n  handleDeleteRequest = (requestId) => {\r\n    axios.delete(`${config.API_URL}/api/requests/delete/${requestId}`)\r\n      .then(\r\n        () => {\r\n          const filteredRequests = this.state.requests.filter(\r\n            (request) => {\r\n              return request._id !== requestId;\r\n            }\r\n          );\r\n          const currentRequestsNumber = filteredRequests.length;\r\n          this.setState(\r\n            { \r\n              requests: filteredRequests,\r\n              currentRequestsNumber: currentRequestsNumber\r\n            },\r\n            () => this.props.history.push(\"/requests/fetch\")\r\n          );\r\n        }\r\n      )\r\n      .catch(\r\n        (err) => console.log(\"Delete requestfailed\", err)\r\n      );\r\n  }\r\n\r\n  // ---------- Authentification ----------\r\n\r\n    // Clear error messages\r\n    resetError = () => this.setState({error: null})\r\n\r\n    // Signup\r\n    handleSignUp = (event) => {\r\n      event.preventDefault();\r\n      const {username, email, password} = event.target;\r\n      const newUser = {\r\n        username: username.value,\r\n        email: email.value.toLowerCase(),\r\n        password: password.value\r\n      };\r\n      axios.post(\r\n        `${config.API_URL}/api/signup`, \r\n        newUser\r\n      )\r\n        .then(\r\n          (response) => this.setState(\r\n            {loggedInUser: response.data},\r\n            () => this.props.history.push(\"/\")\r\n          )\r\n        )\r\n        .catch(\r\n          (err) => this.setState({error: err.response.data.error})\r\n        );\r\n    }\r\n  \r\n    // Signin\r\n    handleSignIn = (event) => {\r\n      event.preventDefault();\r\n      const {email, password} = event.target;\r\n      const user = {\r\n        email: email.value,\r\n        password: password.value\r\n      };\r\n      axios.post(\r\n        `${config.API_URL}/api/signin`, \r\n        user, \r\n        {withCredentials: true}\r\n      )\r\n        .then(\r\n          (response) => this.setState(\r\n            {loggedInUser: response.data},\r\n            () => this.props.history.push(\"/\")\r\n          )\r\n        )\r\n        .catch(\r\n          (err) => this.setState({ error: err.response.data.error })\r\n        );\r\n    }\r\n  \r\n    // Logout\r\n    handleLogOut = () => {\r\n      axios.post(\r\n        `${config.API_URL}/api/logout`, \r\n        {}, \r\n        {withCredentials: true}\r\n      )\r\n        .then(\r\n          () => this.setState(\r\n            {loggedInUser: null},\r\n            () => this.props.history.push(\"/\")\r\n          )\r\n        )\r\n        .catch(\r\n          (err) => console.log(\"Logout failed\", err)\r\n        );\r\n    }\r\n\r\n  render() {\r\n    const {fetchingUser, loggedInUser, plants, query, plant, requests, request, headerHeight, introHeight, error, currentRequestsNumber, newRequestsReceived} = this.state;\r\n    if (fetchingUser) return (\r\n      <div class=\"spinner-grow text-success m-5\" role=\"status\">\r\n        <span class=\"visually-hidden\"> Loading... </span>\r\n      </div>\r\n    );\r\n    return (\r\n      <div class=\"main\">\r\n        <NavBar onLogOut={this.handleLogOut} onCheckRequests={this.handleCheckRequests} newRequestsReceived={newRequestsReceived} user={loggedInUser} headerHeight={headerHeight} introHeight={introHeight}/>\r\n        <Switch>\r\n          <Route exact path=\"/\" render={\r\n            () => {\r\n              return <Home onSearchPlant={this.handleSearchPlant} onGetElementsHeight={this.getElementsHeight} plants={plants} query={query} headerHeight={headerHeight}/>\r\n            }\r\n          }/>\r\n          <Route path=\"/signup\" render={\r\n            (routeProps) => {\r\n              return <SignUp onSignUp={this.handleSignUp} onResetError={this.resetError} onResetNewRequestsReceived={this.resetNewRequestsReceived} error={error} {...routeProps}/>\r\n            }\r\n          }/>\r\n          <Route path=\"/signin\" render={\r\n            (routeProps) => {\r\n              return <SignIn onSignIn={this.handleSignIn} onResetError={this.resetError} onResetNewRequestsReceived={this.resetNewRequestsReceived} error={error} {...routeProps}/>\r\n            }\r\n          }/>\r\n          <Route path=\"/logout\" render={\r\n            (routeProps) => {\r\n              return <LogOut onLogOut={this.handleLogOut} onResetNewRequestsReceived={this.resetNewRequestsReceived} {...routeProps}/>\r\n            }\r\n          }/>\r\n          <Route path=\"/plants/create\" render={\r\n            (routeProps) => {\r\n              return <CreatePlantForm onCreatePlant={this.handleCreatePlant} onResetError={this.resetError} user={loggedInUser} headerHeight={headerHeight} introHeight={introHeight} error={error} {...routeProps}/>\r\n            }\r\n          }/>\r\n          <Route path=\"/plants/read/:plantId\" render={\r\n            (routeProps) => {\r\n              return <PlantDetails onReadPlant={this.handleReadPlant} onDeletePlant={this.handleDeletePlant} plant={plant} user={loggedInUser} headerHeight={headerHeight} introHeight={introHeight} {...routeProps}/>\r\n            }\r\n          }/>\r\n          <Route path=\"/plants/update\" render={\r\n            (routeProps) => {\r\n              return <UpdatePlantForm onNameChange={this.handleNameChange} onDescriptionChange={this.handleDescriptionChange} onSizeChange={this.handleSizeChange} onPriceChange={this.handlePriceChange} onLocationChange={this.handleLocationChange} onImageChange={this.handleImageChange} onUpdatePlant={this.handleUpdatePlant} plant={plant} headerHeight={headerHeight} introHeight={introHeight} {...routeProps}/>\r\n            }\r\n          }/>\r\n          <Route path=\"/plants/checkout/:plantId\" render={\r\n            (routeProps) => {\r\n              return <CheckoutPage onCheckout={this.handleCheckout} headerHeight={headerHeight} introHeight={introHeight} {...routeProps}/>\r\n            }\r\n          }/>\r\n          <Route path=\"/requests/fetch\" render={\r\n              (routeProps) => {\r\n                return <RequestsPage onFetchAllRequests={this.handleFetchAllRequests} onResetNewRequestsReceived={this.resetNewRequestsReceived}  user={loggedInUser} requests={requests} currentRequestsNumber={currentRequestsNumber} {...routeProps}/>\r\n              }\r\n          }/>\r\n          <Route path=\"/requests/create\" render={\r\n            (routeProps) => {\r\n              return <CreateRequestForm onCreateRequest={this.handleCreateRequest} onResetError={this.resetError} user={loggedInUser} error={error} {...routeProps}/>\r\n            }\r\n          }/>\r\n          <Route path=\"/requests/read/:requestId\" render={\r\n            (routeProps) => {\r\n              return <RequestDetails onReadRequest={this.handleReadRequest} onDeleteRequest={this.handleDeleteRequest} request={request} user={loggedInUser} {...routeProps}/>\r\n            }\r\n          }/>\r\n          <Route path=\"/requests/update\" render={\r\n            (routeProps) => {\r\n              return <UpdateRequestForm onCreateReply={this.handleCreateReply} onUpdateRequest={this.handleUpdateRequest} request={request} {...routeProps}/>\r\n            }\r\n          }/>\r\n          <Route component={NotFound}/>\r\n        </Switch>\r\n        <KommunicateChat/>\r\n        <Footer/>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nexport default withRouter(App);","import React from \"react\";\r\nimport ReactDOM from \"react-dom\";\r\nimport \"./index.css\";\r\nimport App from \"./App\";\r\nimport { BrowserRouter } from \"react-router-dom\";\r\n\r\nReactDOM.render(\r\n  <React.StrictMode>\r\n    <BrowserRouter>\r\n      <App/>\r\n    </BrowserRouter>\r\n  </React.StrictMode>,\r\n  document.querySelector(\"#root\")\r\n);"],"sourceRoot":""}