(this["webpackJsonpjungle-swap-client"]=this["webpackJsonpjungle-swap-client"]||[]).push([[0],{100:function(e,t,n){},101:function(e,t,n){"use strict";n.r(t);var c=n(1),a=n.n(c),s=n(18),r=n.n(s),l=n(3),o=n(10),i=(n(63),n(64),n(26)),u=function(){return Object(i.b)()},j=i.c,d=n(7),m=n(104),b=n(105),p=n(5),h=n.n(p),f=n(8),O=n(9),x=n(11),g=n.n(x),v="".concat("https://jungleswap.herokuapp.com","/api"),w=function(e){throw new Error(e)},N=Object(O.b)("jungleSwap/fetchAllPlants",Object(f.a)(h.a.mark((function e(){var t;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,g.a.get("".concat(v,"/plants/fetch"));case 3:return t=e.sent,e.abrupt("return",t.data);case 7:return e.prev=7,e.t0=e.catch(0),e.abrupt("return",w(e.t0.response.data.error));case 10:case"end":return e.stop()}}),e,null,[[0,7]])})))),y=Object(O.b)("jungleSwap/fetchQueryPlants",function(){var e=Object(f.a)(h.a.mark((function e(t){var n;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,g.a.get("".concat(v,"/plants/search?q=").concat(t));case 3:return n=e.sent,e.abrupt("return",n.data);case 7:return e.prev=7,e.t0=e.catch(0),e.abrupt("return",w(e.t0.response.data.error));case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t){return e.apply(this,arguments)}}()),S=Object(O.b)("jungleSwap/uploadPlantImage",function(){var e=Object(f.a)(h.a.mark((function e(t){var n;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,g.a.post("".concat(v,"/cloudinary/upload"),t);case 3:return n=e.sent,e.abrupt("return",n.data);case 7:return e.prev=7,e.t0=e.catch(0),e.abrupt("return",w(e.t0.response.data.error));case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t){return e.apply(this,arguments)}}()),I=Object(O.b)("jungleSwap/createPlant",function(){var e=Object(f.a)(h.a.mark((function e(t){var n;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,g.a.post("".concat(v,"/plants/create"),t,{withCredentials:!0});case 3:return n=e.sent,e.abrupt("return",n.data);case 7:return e.prev=7,e.t0=e.catch(0),e.abrupt("return",w(e.t0.response.data.error));case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t){return e.apply(this,arguments)}}()),C=Object(O.b)("jungleSwap/readPlant",function(){var e=Object(f.a)(h.a.mark((function e(t){var n;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,g.a.get("".concat(v,"/plants/read/").concat(t),{withCredentials:!0});case 3:return n=e.sent,e.abrupt("return",n.data);case 7:return e.prev=7,e.t0=e.catch(0),e.abrupt("return",w(e.t0.response.data.error));case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t){return e.apply(this,arguments)}}()),k=Object(O.b)("jungleSwap/updatePlant",function(){var e=Object(f.a)(h.a.mark((function e(t){var n,c,a;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.plantId,c=t.updatedPlant,e.prev=1,e.next=4,g.a.patch("".concat(v,"/plants/update/").concat(n),c);case 4:return a=e.sent,e.abrupt("return",a.data);case 8:return e.prev=8,e.t0=e.catch(1),e.abrupt("return",w(e.t0.response.data.error));case 11:case"end":return e.stop()}}),e,null,[[1,8]])})));return function(t){return e.apply(this,arguments)}}()),P=Object(O.b)("jungleSwap/deletePlantImage",function(){var e=Object(f.a)(h.a.mark((function e(t){return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,g.a.post("".concat(v,"/cloudinary/destroy"),t);case 3:e.next=8;break;case 5:return e.prev=5,e.t0=e.catch(0),e.abrupt("return",w(e.t0.response.data.error));case 8:case"end":return e.stop()}}),e,null,[[0,5]])})));return function(t){return e.apply(this,arguments)}}()),R=Object(O.b)("jungleSwap/deletePlant",function(){var e=Object(f.a)(h.a.mark((function e(t){return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,g.a.delete("".concat(v,"/plants/delete/").concat(t));case 3:e.next=8;break;case 5:return e.prev=5,e.t0=e.catch(0),e.abrupt("return",w(e.t0.response.data.error));case 8:case"end":return e.stop()}}),e,null,[[0,5]])})));return function(t){return e.apply(this,arguments)}}()),U=Object(O.b)("jungleSwap/createPayment",function(){var e=Object(f.a)(h.a.mark((function e(t){var n;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,g.a.post("".concat(v,"/stripe/create-payment-intent"),{price:t.price});case 3:return n=e.sent,e.abrupt("return",n.data);case 7:return e.prev=7,e.t0=e.catch(0),e.abrupt("return",w(e.t0.response.data.error));case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t){return e.apply(this,arguments)}}()),q=(Object(O.b)("jungleSwap/payPlant",Object(f.a)(h.a.mark((function e(){return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,g.a.post("".concat(v,"/stripe/create-payment-intent"),{},{withCredentials:!0});case 3:e.next=8;break;case 5:return e.prev=5,e.t0=e.catch(0),e.abrupt("return",w(e.t0.response.data.error));case 8:case"end":return e.stop()}}),e,null,[[0,5]])})))),Object(O.b)("jungleSwap/fetchAllMessages",Object(f.a)(h.a.mark((function e(){var t;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,g.a.get("".concat(v,"/messages/fetch"));case 3:return t=e.sent,e.abrupt("return",t.data);case 7:return e.prev=7,e.t0=e.catch(0),e.abrupt("return",w(e.t0.response.data.error));case 10:case"end":return e.stop()}}),e,null,[[0,7]])}))))),E=Object(O.b)("jungleSwap/createMessage",function(){var e=Object(f.a)(h.a.mark((function e(t){var n;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,g.a.post("".concat(v,"/messages/create"),t,{withCredentials:!0});case 3:return n=e.sent,e.abrupt("return",n.data);case 7:return e.prev=7,e.t0=e.catch(0),e.abrupt("return",w(e.t0.response.data.error));case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t){return e.apply(this,arguments)}}()),T=Object(O.b)("jungleSwap/readMessage",function(){var e=Object(f.a)(h.a.mark((function e(t){var n;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,g.a.get("".concat(v,"/messages/read/").concat(t),{withCredentials:!0});case 3:return n=e.sent,e.abrupt("return",n.data);case 7:return e.prev=7,e.t0=e.catch(0),e.abrupt("return",w(e.t0.response.data.error));case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t){return e.apply(this,arguments)}}()),F=Object(O.b)("jungleSwap/updateMessage",function(){var e=Object(f.a)(h.a.mark((function e(t){var n,c,a;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.messageId,c=t.updatedMessage,e.prev=1,e.next=4,g.a.patch("".concat(v,"/messages/update/").concat(n),c);case 4:return a=e.sent,e.abrupt("return",a.data);case 8:return e.prev=8,e.t0=e.catch(1),e.abrupt("return",w(e.t0.response.data.error));case 11:case"end":return e.stop()}}),e,null,[[1,8]])})));return function(t){return e.apply(this,arguments)}}()),_=Object(O.b)("jungleSwap/deleteMessage",function(){var e=Object(f.a)(h.a.mark((function e(t){return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,g.a.delete("".concat(v,"/messages/delete/").concat(t));case 3:e.next=8;break;case 5:return e.prev=5,e.t0=e.catch(0),e.abrupt("return",w(e.t0.response.data.error));case 8:case"end":return e.stop()}}),e,null,[[0,5]])})));return function(t){return e.apply(this,arguments)}}()),W=Object(O.b)("jungleSwap/signUp",function(){var e=Object(f.a)(h.a.mark((function e(t){var n;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,g.a.post("".concat(v,"/auth/signup"),t);case 3:return n=e.sent,e.abrupt("return",n.data);case 7:return e.prev=7,e.t0=e.catch(0),e.abrupt("return",w(e.t0.response.data.error));case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t){return e.apply(this,arguments)}}()),z=Object(O.b)("jungleSwap/signIn",function(){var e=Object(f.a)(h.a.mark((function e(t){var n;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,g.a.post("".concat(v,"/auth/signin"),t,{withCredentials:!0});case 3:return n=e.sent,e.abrupt("return",n.data);case 7:return e.prev=7,e.t0=e.catch(0),e.abrupt("return",w(e.t0.response.data.error));case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t){return e.apply(this,arguments)}}()),M=Object(O.b)("jungleSwap/logOut",function(){var e=Object(f.a)(h.a.mark((function e(t){return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,g.a.post("".concat(v,"/auth/logout"),t,{withCredentials:!0});case 3:e.next=8;break;case 5:return e.prev=5,e.t0=e.catch(0),e.abrupt("return",w(e.t0.response.data.error));case 8:case"end":return e.stop()}}),e,null,[[0,5]])})));return function(t){return e.apply(this,arguments)}}()),A=Object(O.b)("jungleSwap/checkUserLoggedIn",Object(f.a)(h.a.mark((function e(){var t;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,g.a.get("".concat(v,"/auth/checkuser"),{withCredentials:!0});case 3:return t=e.sent,e.abrupt("return",t.data);case 7:return e.prev=7,e.t0=e.catch(0),e.abrupt("return",w(e.t0.response.data.error));case 10:case"end":return e.stop()}}),e,null,[[0,7]])})))),D=Object(O.c)({name:"jungleSwap",initialState:{loggedInUser:null,isUserChange:!1,isFetchingPlants:!0,plants:[],plant:{},isFetchingMessages:!0,messages:[],message:{},amountOfRequests:0,amountOfReplies:0,isNewRequest:!1,isNewReply:!1,intervalId:null,delayCounter:0,headerContainerHeight:0,aboutContainerHeight:0,clientSecret:"",error:null},reducers:{setUser:function(e,t){e.loggedInUser=t.payload},setPlants:function(e,t){e.plants=t.payload},setPlant:function(e,t){e.plant=t.payload},addPlant:function(e,t){e.plants.push(t.payload)},setPlantChanges:function(e,t){var n=t.payload,c=n._id,a=n.name,s=n.description,r=n.size,l=n.imageUrl,o=n.imagePublicId,i=n.location,u=n.price;e.plants=e.plants.map((function(e){return e._id===c&&(e.name=a,e.description=s,e.size=r,e.imageUrl=l,e.imagePublicId=o,e.location=i,e.price=u),e}))},removePlant:function(e,t){e.plants=e.plants.filter((function(e){return e._id!==t.payload}))},setClientSecret:function(e,t){e.clientSecret=t.payload},setMessages:function(e,t){e.messages=t.payload},setMessage:function(e,t){e.message=t.payload},addMessage:function(e,t){e.messages.push(t.payload)},setMessageChanges:function(e,t){var n=t.payload,c=n._id,a=n.buyer,s=n.seller,r=n.plant,l=n.request,o=n.reply,i=n.messageState;e.messages=e.messages.map((function(e){return e._id===c&&(e.buyer=a,e.seller=s,e.plant=r,e.request=l,e.reply=o,e.messageState=i),e}))},removeMessage:function(e,t){e.messages=e.messages.filter((function(e){return e._id!==t.payload}))},setStartAmountOfRequests:function(e){e.loggedInUser&&(e.amountOfRequests=e.loggedInUser.amountOfRequests)},setStartAmountOfReplies:function(e){e.loggedInUser&&(e.amountOfReplies=e.loggedInUser.amountOfReplies)},setAmountOfRequests:function(e,t){e.amountOfRequests=t.payload},setAmountOfReplies:function(e,t){e.amountOfReplies=t.payload},setIsNewRequest:function(e,t){e.isNewRequest=t.payload},setIsNewReply:function(e,t){e.isNewReply=t.payload},setIntervalId:function(e,t){e.intervalId=t.payload},setDelayCounter:function(e,t){e.delayCounter=t.payload},increaseDelayCounter:function(e){e.delayCounter+=1},decreaseAmountOfRequests:function(e){e.amountOfRequests&&(e.amountOfRequests-=1)},decreaseAmountOfReplies:function(e){e.amountOfReplies&&(e.amountOfReplies-=1)},setLoggedInUser:function(e,t){e.loggedInUser=t.payload},setIsUserChange:function(e,t){e.isUserChange=t.payload},setError:function(e,t){e.error=t.payload},setHeaderContainerHeight:function(e,t){e.headerContainerHeight=t.payload},setAboutContainerHeight:function(e,t){e.aboutContainerHeight=t.payload},scrollToAbout:function(e){d.animateScroll.scrollTo(e.headerContainerHeight)},scrollToPlants:function(e){d.animateScroll.scrollTo(e.headerContainerHeight+e.aboutContainerHeight)}},extraReducers:function(e){e.addCase(N.fulfilled,(function(e){e.isFetchingPlants=!1})),e.addCase(y.fulfilled,(function(e){e.isFetchingPlants=!1})),e.addCase(q.fulfilled,(function(e){e.isFetchingMessages=!1}))}}),L=D.actions,H=L.setUser,J=L.setPlants,G=L.setPlant,B=L.addPlant,Y=L.setPlantChanges,Q=L.removePlant,V=L.setClientSecret,K=L.setMessages,Z=L.setMessage,X=L.addMessage,$=L.setMessageChanges,ee=L.removeMessage,te=L.setStartAmountOfRequests,ne=L.setStartAmountOfReplies,ce=L.setAmountOfRequests,ae=L.setAmountOfReplies,se=L.setIsNewRequest,re=L.setIsNewReply,le=L.setIntervalId,oe=L.setDelayCounter,ie=L.increaseDelayCounter,ue=L.decreaseAmountOfRequests,je=L.decreaseAmountOfReplies,de=L.setLoggedInUser,me=L.setIsUserChange,be=L.setError,pe=L.setHeaderContainerHeight,he=L.setAboutContainerHeight,fe=L.scrollToAbout,Oe=L.scrollToPlants,xe=D.reducer,ge=n(33),ve=n(34),we=n(0),Ne=function(){var e=j((function(e){return e.jungleSwap.loggedInUser})),t=j((function(e){return e.jungleSwap.isUserChange})),n=j((function(e){return e.jungleSwap.intervalId})),a=j((function(e){return e.jungleSwap.delayCounter})),s=j((function(e){return e.jungleSwap.amountOfRequests})),r=j((function(e){return e.jungleSwap.amountOfReplies})),o=j((function(e){return e.jungleSwap.isNewRequest})),i=j((function(e){return e.jungleSwap.isNewReply})),p=u();return Object(c.useEffect)((function(){return function(){n&&(clearInterval(n),p(le(null)),p(oe(0)))}}),[]),Object(c.useEffect)((function(){t&&p(q()).unwrap().then((function(e){p(K(e)),t&&p(te()),t&&p(ne()),p(me(!1)),p(le(setInterval((function(){p(ie())}),1e3))),p(ie())})).catch((function(e){console.log(e.message)}))}),[t]),Object(c.useEffect)((function(){e&&p(q()).unwrap().then((function(n){p(K(n)),t&&p(te()),t&&p(ne());var c=n.filter((function(t){var n=t.seller,c=t.messageState;return n._id===e._id&&!0===c})).length;s<c?(p(ce(c)),p(se(!0))):s>c&&p(ce(c));var a=n.filter((function(t){var n=t.buyer,c=t.reply;return n._id===e._id&&c})).length;r<a&&(p(ae(a)),p(re(!0)))})).catch((function(e){console.log(e.message)}))}),[a]),Object(we.jsx)("div",{children:Object(we.jsxs)(m.a,{className:"pl-5",variant:"dark",expand:"lg",fixed:"top",children:[Object(we.jsx)(m.a.Brand,{children:Object(we.jsx)(l.b,{to:"/",onClick:d.animateScroll.scrollToTop,children:"JungleSwap"})}),Object(we.jsx)(m.a.Toggle,{"aria-controls":"basic-navbar-nav",children:(o||i)&&Object(we.jsx)(ge.a,{icon:ve.a})}),Object(we.jsx)(m.a.Collapse,{id:"basic-navbar-nav",children:Object(we.jsxs)(b.a,{className:"mr-auto",children:[Object(we.jsx)(we.Fragment,{children:Object(we.jsx)(l.b,{to:"/",className:"p-2",onClick:function(){p(Oe())},children:"All Plants"})}),e&&Object(we.jsxs)(we.Fragment,{children:[Object(we.jsx)(l.b,{className:"p-2",to:"/plants/create",children:"Create Plant"}),Object(we.jsxs)(l.b,{className:"p-2",to:"/requests/fetch",title:o?"new request":"",children:[o&&Object(we.jsx)(ge.a,{icon:ve.a}),"Requests"]}),Object(we.jsxs)(l.b,{className:"p-2",to:"/replies/fetch",title:i?"new reply":"",children:[i&&Object(we.jsx)(ge.a,{icon:ve.a}),"Replies"]})]}),e?Object(we.jsx)(we.Fragment,{children:Object(we.jsx)(l.b,{className:"p-2",to:"/auth/logout",title:e.username,children:"Log out"})}):Object(we.jsxs)(we.Fragment,{children:[Object(we.jsx)(l.b,{className:"p-2",to:"/auth/signin",children:"Sign in"}),Object(we.jsx)(l.b,{className:"p-2",to:"/auth/signup",children:"Sign up"})]})]})})]})})},ye=function(){return Object(we.jsx)("div",{className:"footer-row",children:Object(we.jsxs)("footer",{children:["\xa9 2021",Object(we.jsx)(l.b,{to:"https://www.linkedin.com/in/christian-gerbig/",children:"Christian Gerbig"}),"&",Object(we.jsx)(l.b,{to:"https://www.linkedin.com/in/lisa-montebaur/",children:"Lisa Montebaur"})]})})},Se=n.p+"static/media/JungleSwap_Home.c4ed9b4c.png",Ie=n.p+"static/media/JungleSwap_Icon.a6c7c44a.png",Ce=function(){return Object(we.jsx)("div",{className:"about centered container",children:Object(we.jsxs)("div",{className:"row",children:[Object(we.jsx)("div",{className:"col-sm-6 col-md-5 col-lg-6",children:Object(we.jsx)("img",{className:"image",src:Se,alt:"plants"})}),Object(we.jsx)("br",{}),Object(we.jsxs)("div",{className:"about col-sm-6 col-md-5 col-lg-6 px-5 noOverflow",children:[Object(we.jsx)("h4",{children:" Welcome to JungleSwap! "}),Object(we.jsx)("h5",{children:" Add green to your Home "}),Object(we.jsxs)("p",{children:['It"s easy-peasy. ',Object(we.jsx)("br",{}),"Share your plant offshoots. ",Object(we.jsx)("br",{}),"Make money! ",Object(we.jsx)("br",{}),"Or swap them for another plant. ",Object(we.jsx)("br",{}),'Don"t have any baby plants? ',Object(we.jsx)("br",{}),"You can simply shop and give a plant a new home."]}),Object(we.jsx)("img",{className:"icon",src:Ie,alt:"icon"})]})]})})},ke=n(23),Pe=function(e){var t=e.plant,n=t._id,c=t.name,a=t.imageUrl,s=t.price;return Object(we.jsx)("div",{className:"col mb-5",children:Object(we.jsxs)("div",{className:"card card-medium-width text-center h-100",children:[Object(we.jsx)("img",{className:"card-img-top mediumPicSize",src:a,alt:c}),Object(we.jsxs)("div",{className:"card-body mb-5",children:[Object(we.jsxs)("h5",{children:[" ",c," "]}),Object(we.jsxs)("p",{children:[" ",s," \u20ac "]}),Object(we.jsx)(l.b,{className:"btn form-control smallWidth",to:"/plants/read/".concat(n),children:"Details"})]})]})},n)},Re=function(){var e=Object(c.useState)(""),t=Object(ke.a)(e,2),n=t[0],a=t[1],s=j((function(e){return e.jungleSwap.plants})),r=u();return Object(c.useEffect)((function(){n?r(y(n)).unwrap().then((function(e){r(J(e))})).catch((function(e){console.log(e.message)})):r(N()).unwrap().then((function(e){r(J(e))})).catch((function(e){console.log(e.message)}))}),[n]),Object(we.jsxs)("div",{className:"container mt-5",children:[Object(we.jsxs)("div",{className:"mt-5 mb-3",children:[Object(we.jsx)("h2",{children:" Plants "}),Object(we.jsx)("hr",{}),Object(we.jsx)("h4",{children:" Search a plant "})]}),Object(we.jsx)("div",{className:"mb-4",children:Object(we.jsx)("input",{className:"smallWidth form-control",type:"text",placeholder:"Search...",value:n,onChange:function(e){a(e.target.value)}})}),Object(we.jsx)("div",{className:"row row-cols-1 row-cols-md-3 g-4",children:s&&s.map((function(e,t){return Object(we.jsx)(Pe,{plant:e},t)}))})]})},Ue=function(){var e=u();return Object(we.jsx)("div",{className:"row my-5",children:Object(we.jsxs)("div",{className:"col-6 offset-3 my-5 borderAround",children:[Object(we.jsx)("h2",{className:"title mb-2",children:" JungleSwap "}),Object(we.jsx)("h5",{className:"mt-3 mb-5",children:" Share your green heart "}),Object(we.jsx)("div",{className:"mb-5",children:Object(we.jsx)(l.b,{to:"/",className:"biggerFontSize",onClick:function(){e(fe())},children:"Try it!"})})]})})},qe=function(){var e=j((function(e){return e.jungleSwap.isFetchingPlants})),t=u(),n=Object(c.useRef)([]);return Object(c.useEffect)((function(){t(N()).unwrap().then((function(e){t(J(e))})).catch((function(e){console.log(e.message)}));var e=Math.round(n.current[0].getBoundingClientRect().height);t(pe(e));var c=Math.round(n.current[1].getBoundingClientRect().height);t(he(c))}),[]),Object(we.jsxs)("div",{children:[e&&Object(we.jsx)("div",{className:"spinner-grow text-success m-5",role:"status",children:Object(we.jsxs)("span",{className:"visually-hidden",children:[Object(we.jsx)("br",{})," ",Object(we.jsx)("br",{})," Loading plants..."]})}),Object(we.jsx)("header",{className:"text-center pt-5 pb-5 headerImg",ref:function(e){n.current[0]=e},children:Object(we.jsx)(Ue,{})}),Object(we.jsx)("section",{ref:function(e){n.current[1]=e},children:Object(we.jsx)(Ce,{})}),Object(we.jsx)("section",{children:Object(we.jsx)(Re,{})})]})},Ee=function(){var e=j((function(e){return e.jungleSwap.error})),t=u(),n=Object(o.g)();Object(c.useEffect)((function(){t(be(null)),t(se(!1)),d.animateScroll.scrollToTop()}),[]);return Object(we.jsx)("div",{className:"container row mt-5",children:Object(we.jsxs)("div",{className:"mt-5 col-11 col-md-5 offset-1 offset-md-5",children:[Object(we.jsx)("h2",{className:"mb-5",children:" Sign Up "}),Object(we.jsxs)("form",{onSubmit:function(e){!function(e){e.preventDefault();var c=e.target,a=c.username,s=c.email,r=c.password,l={username:a.value,email:s.value.toLowerCase(),password:r.value};t(W(l)).unwrap().then((function(e){t(de(e)),t(me(!0)),n.push("/")})).catch((function(e){t(be(e.message))}))}(e)},children:[Object(we.jsxs)("div",{className:"form-group",children:[Object(we.jsx)("label",{htmlFor:"InputUsername",children:" Username "}),Object(we.jsx)("input",{type:"text",className:"form-control",id:"InputUsername",name:"username",placeholder:"Enter"})]}),Object(we.jsxs)("div",{className:"form-group",children:[Object(we.jsx)("label",{htmlFor:"InputEmail",children:" Email address "}),Object(we.jsx)("input",{type:"email",className:"form-control",id:"InputEmail",name:"email",placeholder:"Enter"})]}),Object(we.jsxs)("div",{className:"form-group",children:[Object(we.jsx)("label",{htmlFor:"InputPassword",children:" Password "}),Object(we.jsx)("input",{name:"password",type:"password",className:"form-control",id:"InputPassword",placeholder:"Enter"})]}),e&&Object(we.jsxs)("p",{className:"warningColor",children:[" ",e," "]}),Object(we.jsx)("button",{type:"submit",className:"btn btn-sm mt-4 smallWidth form-control",formNoValidate:!0,children:"Sign up"}),Object(we.jsx)("p",{className:"padding",children:" Already have an account? "}),Object(we.jsx)("div",{className:"text-right",children:Object(we.jsx)(l.b,{to:"/auth/signin",children:Object(we.jsx)("button",{className:"btn btn-sm ml-4 smallWidth form-control mt-0 mb-2",children:"Sign In"})})})]})]})})},Te=function(){var e=j((function(e){return e.jungleSwap.error})),t=u(),n=Object(o.g)();Object(c.useEffect)((function(){t(be(null)),t(se(!1)),d.animateScroll.scrollToTop()}),[]);return Object(we.jsx)("div",{className:"container row mt-5 custom fullscreen",children:Object(we.jsxs)("div",{className:"mt-5 col-11 col-md-5 offset-1 offset-md-5",children:[Object(we.jsx)("h2",{className:"mb-5",children:" Sign In "}),Object(we.jsxs)("form",{onSubmit:function(e){!function(e,n){e.preventDefault();var c=e.target,a=c.email,s=c.password,r={email:a.value,password:s.value};t(z(r)).unwrap().then((function(e){t(de(e));var c=e.amountOfRequests,a=e.amountOfReplies;t(ce(c)),t(ae(a)),t(me(!0)),n.push("/")})).catch((function(e){t(be(e.message))}))}(e,n)},children:[Object(we.jsxs)("div",{className:"form-group",children:[Object(we.jsx)("label",{htmlFor:"InputEmail",children:" Email address "}),Object(we.jsx)("input",{type:"email",className:"form-control",id:"InputEmail",name:"email",placeholder:"Enter"})]}),Object(we.jsxs)("div",{className:"form-group",children:[Object(we.jsx)("label",{htmlFor:"InputPassword",children:" Password "}),Object(we.jsx)("input",{name:"password",type:"password",className:"form-control",id:"InputPassword",placeholder:"Enter"})]}),e&&Object(we.jsxs)("p",{className:"warningColor",children:[" ",e," "]}),Object(we.jsx)("button",{type:"submit",className:"btn btn-sm mt-4 smallWidth form-control",formNoValidate:!0,children:"Sign in"})]})]})})},Fe=function(){var e=j((function(e){return e.jungleSwap.loggedInUser})),t=j((function(e){return e.jungleSwap.intervalId})),n=j((function(e){return e.jungleSwap.amountOfRequests})),a=j((function(e){return e.jungleSwap.amountOfReplies})),s=u(),r=Object(o.g)();return Object(c.useEffect)((function(){var c=JSON.parse(JSON.stringify(e));c.amountOfRequests=n,c.amountOfReplies=a,s(H(c)),s(M(c)).unwrap().then((function(){s(de(null)),t&&(clearInterval(t),s(le(null)),s(oe(0))),s(se(!1)),r.push("/"),d.animateScroll.scrollToTop()}))}),[]),Object(we.jsx)("div",{})},_e=function(){var e=j((function(e){return e.jungleSwap.loggedInUser})),t=j((function(e){return e.jungleSwap.error})),n=u(),a=Object(o.g)();if(Object(c.useEffect)((function(){n(be(null)),d.animateScroll.scrollToTop(),n(A()).unwrap().then((function(e){n(de(e))})).catch((function(e){console.log(e.message)}))}),[]),!e)return Object(we.jsx)(o.a,{to:"/auth/unauthorized"});return e?Object(we.jsx)("div",{className:"container row mt-5 fullscreen",children:Object(we.jsxs)("div",{className:"mt-5 col-12 col-md-6 offset-md-6",children:[Object(we.jsx)("h2",{className:"mb-5 text-left",children:" Create a plant "}),Object(we.jsxs)("form",{onSubmit:function(e){!function(e){e.preventDefault();var t=e.target,c=t.name,s=t.description,r=t.size,l=t.plantImage,o=t.location,i=t.price,u=l.files[0],j=new FormData;j.append("image",u),n(S(j)).unwrap().then((function(e){var t=e.imageUrl,l=e.imagePublicId,u={name:c.value,description:s.value,size:r.value,imageUrl:t,imagePublicId:l,location:o.value,price:i.value};n(I(u)).unwrap().then((function(e){n(B(e)),a.push("/"),d.animateScroll.scrollToBottom()})).catch((function(e){console.log(e.message)}))})).catch((function(e){console.log(e.message)}))}(e)},children:[Object(we.jsx)("label",{htmlFor:"enterName",children:" Name "}),Object(we.jsx)("input",{className:"mb-4 form-control",name:"name",type:"text",placeholder:"Enter",id:"enterName"}),Object(we.jsx)("label",{htmlFor:"enterDescription",children:" Description "}),Object(we.jsx)("input",{className:"mb-4 form-control",name:"description",type:"text",placeholder:"Enter",id:"enterDescription"}),Object(we.jsx)("label",{htmlFor:"enterSize",children:" Size (cm) "}),Object(we.jsx)("input",{className:"mb-4 form-control",name:"size",type:"number",min:"1",placeholder:"Enter",id:"enterSize"}),Object(we.jsx)("label",{htmlFor:"enterLocation",children:" Location "}),Object(we.jsxs)("select",{className:"mb-4 form-control p-2",name:"location",id:"enterLocation",children:[Object(we.jsx)("option",{children:" Select location "}),Object(we.jsx)("option",{value:"sun",children:" sun "}),Object(we.jsx)("option",{value:"shade",children:" shade "}),Object(we.jsx)("option",{value:"sun and shade",children:" sun and shade "})]}),Object(we.jsx)("label",{htmlFor:"enterPrice",children:" Price (EUR) "}),Object(we.jsx)("input",{className:"mb-4 form-control",name:"price",type:"number",min:"1",placeholder:"Enter",id:"enterPrice"}),Object(we.jsx)("label",{htmlFor:"enterImage",children:" Image "}),Object(we.jsx)("input",{className:"mb-4 form-control",name:"plantImage",type:"file",id:"enterImage"}),t&&Object(we.jsxs)("p",{className:"warningColor",children:[" ",t," "]}),Object(we.jsxs)("div",{className:"col-12 text-right pr-0",children:[Object(we.jsx)("button",{className:"btn btn-sm form-control smallWidth ml-4 mb-2",type:"submit",children:"Create"}),Object(we.jsx)(l.b,{to:"/",children:Object(we.jsx)("button",{className:"btn btn-sm form-control smallWidth ml-4 mb-2",children:"Go back"})})]})]})]})}):Object(we.jsx)(o.a,{to:"/auth/signup"})},We=function(){var e=j((function(e){return e.jungleSwap.loggedInUser})),t=j((function(e){return e.jungleSwap.messages})),n=j((function(e){return e.jungleSwap.plant})),a=Object(o.h)().plantId,s=u(),r=Object(o.g)();Object(c.useEffect)((function(){s(A()).unwrap().then((function(e){s(de(e)),s(C(a)).unwrap().then((function(e){s(G(e)),d.animateScroll.scrollToTop()})).catch((function(e){console.log(e.message)}))})).catch((function(e){console.log(e.message)}))}),[]);if(!e)return Object(we.jsx)(o.a,{to:"/auth/signup"});var i=n,m=i._id,b=i.name,p=i.description,h=i.size,f=i.imageUrl,O=i.imagePublicId,x=i.location,g=i.price,v=i.creator;return v?Object(we.jsxs)("div",{className:"container mt-5 row row-md-10 offset-md-4",children:[Object(we.jsx)("div",{className:"mt-4 mb-3 pt-4 container",children:Object(we.jsx)("h2",{children:" Plant details "})}),Object(we.jsx)("div",{className:"col",children:Object(we.jsxs)("div",{className:"card cardMediumWidth",children:[f&&Object(we.jsx)("img",{className:"card-img-top mediumPicSize",src:f,alt:b}),Object(we.jsxs)("div",{className:"ml-2 mt-2",children:[Object(we.jsx)("span",{children:" Name: "})," ",b]}),Object(we.jsxs)("div",{className:"ml-2 mt-2",children:[Object(we.jsx)("span",{children:" Description: "})," ",p]}),Object(we.jsxs)("div",{className:"ml-2 mt-2",children:[Object(we.jsx)("span",{children:" Size: "})," ",h," cm"]}),Object(we.jsxs)("div",{className:"ml-2 mt-2",children:[Object(we.jsx)("span",{children:" Likes: "})," ",x]}),Object(we.jsxs)("div",{className:"ml-2 mt-2",children:[Object(we.jsx)("span",{children:" Price: "})," ",g," \u20ac"]}),Object(we.jsx)("div",{className:"ml-2 mt-2 col justify-content-center",children:Object(we.jsx)("div",{className:"row-2 justify-content-center",children:Object(we.jsxs)("div",{className:"card-body text-right pt-0",children:[e._id===v._id?Object(we.jsxs)("div",{className:"p-0",children:[Object(we.jsx)(l.b,{to:"/plants/update",children:Object(we.jsx)("button",{className:"btn btn-sm ml-2 form-control smallWidth mb-2",children:"Update"})}),Object(we.jsx)("button",{className:"btn btn-sm ml-2 form-control smallWidth mb-2",onClick:function(){!function(e,t,n){n.forEach((function(e){var n=e._id;e.plant._id===t&&s(_(n)).unwrap().then((function(){s(ee(n)),s(je())})).catch((function(e){console.log(e.message)}))})),s(P({imagePublicId:e})).unwrap().then((function(){s(R(t)).unwrap().then((function(){s(Q(t)),r.push("/"),s(Oe())})).catch((function(e){console.log(e.message)}))})).catch((function(e){console.log(e.message)}))}(O,m,t)},children:"Delete"})]}):Object(we.jsxs)("div",{children:[Object(we.jsx)(l.b,{to:"/plants/checkout",children:Object(we.jsx)("button",{className:"btn btn-sm ml-2 form-control smallWidth mb-2",children:"Buy"})}),Object(we.jsx)(l.b,{to:"/messages/create",children:Object(we.jsx)("button",{className:"btn btn-sm ml-2 form-control smallWidth mb-2",children:"Swap"})})]}),Object(we.jsx)(l.b,{to:"/",onClick:function(){s(Oe())},children:Object(we.jsx)("button",{className:"btn btn-sm ml-2 form-control smallWidth mb-3",children:"Go back"})})]})})})]})})]}):Object(we.jsx)("div",{className:"spinner-grow text-success m-5",role:"status",children:Object(we.jsxs)("span",{className:"visually-hidden",children:[Object(we.jsx)("br",{})," ",Object(we.jsx)("br",{})," Loading plant details..."]})})},ze=function(){var e=j((function(e){return e.jungleSwap.loggedInUser})),t=j((function(e){return e.jungleSwap.plant})),n=u(),a=Object(o.g)();Object(c.useEffect)((function(){d.animateScroll.scrollToTop(),n(A()).unwrap().then((function(e){n(de(e))})).catch((function(e){console.log(e.message)}))}),[]);var s=function(e,t,c){var a=e.target,s=JSON.parse(JSON.stringify(t));switch(c){case 0:s.name=a.value;break;case 1:s.description=a.value;break;case 2:s.size=a.value;break;case 3:s.location=a.value;break;case 4:s.price=a.value}n(G(s))};if(!e)return Object(we.jsx)(o.a,{to:"/auth/unauthorized"});var r=t,i=r._id,m=r.name,b=r.description,p=r.size,h=r.imageUrl,f=r.price;return Object(we.jsx)("div",{className:"container row mt-5 ",children:Object(we.jsxs)("div",{className:"mt-2 col-12 col-md-6 offset-md-6",children:[Object(we.jsx)("h2",{className:"mt-5 mb-4 text-left",children:" Update your plant "}),Object(we.jsxs)("div",{className:"card cardMediumWidth mb-5",children:[Object(we.jsx)("img",{className:"mb-2 smallPicSize",src:h,alt:m}),Object(we.jsxs)("div",{className:"card-body",children:[Object(we.jsx)("label",{htmlFor:"updateName",children:" Name "}),Object(we.jsx)("input",{className:"mb-4 form-control",type:"text",onChange:function(e){s(e,t,0)},value:m,id:"updateName"}),Object(we.jsx)("label",{htmlFor:"updateDescription",children:" Description "}),Object(we.jsx)("input",{className:"mb-4 form-control",type:"text",onChange:function(e){s(e,t,1)},value:b,id:"updateDescription"}),Object(we.jsx)("label",{htmlFor:"updateSize",children:" Size (cm) "}),Object(we.jsx)("input",{className:"mb-4 form-control",type:"number",onChange:function(e){s(e,t,2)},value:p,id:"updateSize"}),Object(we.jsx)("label",{htmlFor:"updateLocation",children:" Location "}),Object(we.jsxs)("select",{className:"mb-4 form-control px-2",onChange:function(e){s(e,t,3)},name:"location",placeholder:"Select",id:"updateLocation",children:[Object(we.jsx)("option",{value:"sun",children:" sun "}),Object(we.jsx)("option",{value:"shade",children:" shade "}),Object(we.jsx)("option",{value:"sun and shade",children:" sun and shade "})]}),Object(we.jsx)("label",{htmlFor:"updatePrice",children:" Price (EUR) "}),Object(we.jsx)("input",{className:"mb-4 form-control",name:"price",type:"number",min:"1",onChange:function(e){s(e,t,4)},value:f,id:"updatePrice"}),Object(we.jsx)("label",{htmlFor:"updateImage",children:" Image "}),Object(we.jsx)("input",{className:"mb-4 form-control",onChange:function(e){!function(e,t){var c=e.target.files[0],a=t.imagePublicId;n(P({imagePublicId:a})).unwrap().then((function(){var e=new FormData;e.append("image",c),n(S(e)).unwrap().then((function(e){var c=e.imageUrl,a=e.imagePublicId,s=JSON.parse(JSON.stringify(t));s.imagePublicId=a,s.imageUrl=c,n(G(s))})).catch((function(e){console.log(e.message)}))}))}(e,t)},type:"file",id:"updateImage"}),Object(we.jsxs)("div",{className:"col-12 text-right pr-0",children:[Object(we.jsx)("button",{className:"btn btn-sm ml-4 form-control smallWidth mb-2",onClick:function(){!function(e){var t=e._id,c=e.name,s=e.description,r=e.size,l=e.imageUrl,o=e.imagePublicId,i=e.location,u=e.price;n(k({plantId:t,updatedPlant:{name:c,description:s,size:r,imageUrl:l,imagePublicId:o,location:i,price:u}})).unwrap().then((function(e){n(Y(e)),a.push("/"),n(Oe())})).catch((function(e){console.log(e.message)}))}(t)},children:"Save"}),Object(we.jsx)(l.b,{to:"/plants/read/".concat(i),children:Object(we.jsx)("button",{className:"btn btn-sm ml-4 smallWidth form-control mb-2",children:"Go back"})})]})]})]})]})})},Me=n(58),Ae=n(22),De=function(){var e=Object(c.useState)(!1),t=Object(ke.a)(e,2),n=t[0],a=t[1],s=Object(c.useState)(!1),r=Object(ke.a)(s,2),i=r[0],d=r[1],m=Object(c.useState)(!0),b=Object(ke.a)(m,2),p=b[0],O=b[1],x=Object(c.useState)(""),g=Object(ke.a)(x,2),v=g[0],w=g[1],N=Object(Ae.useStripe)(),y=Object(Ae.useElements)(),S=j((function(e){return e.jungleSwap.clientSecret})),I=j((function(e){return e.jungleSwap.plant})),C=u(),k=Object(o.g)();Object(c.useEffect)((function(){return C(U(I)).unwrap().then((function(e){C(V(e.clientSecret))})).catch((function(e){console.log(e.message)})),function(){k.push("/"),C(Oe())}}),[]);var P=function(){var e=Object(f.a)(h.a.mark((function e(t){return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:O(t.empty),w(t.error?t.error.message:"");case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),R=function(){var e=Object(f.a)(h.a.mark((function e(t){var n;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.preventDefault(),N&&y){e.next=3;break}return e.abrupt("return");case 3:return d(!0),e.next=6,N.confirmCardPayment(S,{payment_method:{card:y.getElement(Ae.CardElement)}},{confirmParams:{return_url:"/"}});case 6:(n=e.sent).error?(w("Payment failed ".concat(n.error.message)),d(!1)):(w(""),d(!1),a(!0));case 8:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),q=I,E=q._id,T=q.name,F=q.price;return Object(we.jsxs)("div",{className:"container col-9",children:[Object(we.jsxs)("form",{className:"checkoutForm mt-5",id:"payment-form",onSubmit:R,children:[Object(we.jsxs)("h2",{className:"text-left mb-2 p-2",children:[" ",T," "]}),Object(we.jsxs)("h3",{className:"text-left mb-4 p-2",children:[" Price: ",F," \u20ac "]}),Object(we.jsx)(Ae.CardElement,{className:"p-2",id:"card-element",options:{style:{base:{color:"#32325d",fontFamily:"Arial, sans-serif",fontSmoothing:"antialiased",fontSize:"16px","::placeholder":{color:"#32325d"}},invalid:{color:"#fa755a",iconColor:"#fa755a"}}},onChange:P}),Object(we.jsx)("div",{className:"row justify-content-center",children:Object(we.jsx)("button",{className:"btn btn-sm mt-5 mb-4",type:"submit",disabled:i||p||n,id:"submit",children:Object(we.jsx)("span",{id:"button-text",children:i?Object(we.jsx)("div",{className:"spinner",id:"spinner"}):"Pay now"})})}),v&&Object(we.jsx)("div",{className:"card-error",role:"alert",children:v}),Object(we.jsx)("p",{className:n?"result-message text-center":"result-message hidden text-center",children:"Payment succeeded."})]}),Object(we.jsx)("div",{className:"row justify-content-center",children:n?Object(we.jsx)(l.b,{to:"/",onClick:function(){C(Oe())},children:Object(we.jsx)("button",{className:"btn btn-sm form-control",children:" Go back "})}):Object(we.jsx)(l.b,{to:"/plants/read/".concat(E),children:Object(we.jsx)("button",{className:"btn btn-sm form-control",children:" Go back "})})})]})},Le=Object(Me.a)("pk_test_51IQBsPA6EAM4YnfDyrjHWnLHzZ5KkI9tsERzYhBGVoctZBrFUb4Sda035HvcQKpp7thFiqW6QmO8ytPbOAMTg33z00cHvcbojv"),He=function(){var e=j((function(e){return e.jungleSwap.loggedInUser})),t=u();return Object(c.useEffect)((function(){d.animateScroll.scrollToTop(),t(A()).unwrap().then((function(e){t(de(e))})).catch((function(e){console.log(e.message)}))}),[]),e?Object(we.jsx)("div",{className:"container row mt-5",children:Object(we.jsx)("div",{className:"mt-5 col-11 col-md-6 offset-1 offset-md-5 App",children:Object(we.jsx)(Ae.Elements,{stripe:Le,children:Object(we.jsx)(De,{})})})}):Object(we.jsx)(o.a,{to:"/auth/unauthorized"})},Je=function(e){var t=e.message,n=j((function(e){return e.jungleSwap.loggedInUser})),c=t._id,a=t.buyer,s=t.seller,r=t.plant,o=t.messageState;return Object(we.jsx)(we.Fragment,{children:n&&s._id===n._id&&!0===o&&Object(we.jsxs)("div",{className:"card p-3 mt-4",children:[Object(we.jsxs)("h4",{children:[" Request for ",r.name," "]}),Object(we.jsxs)("h5",{children:[" by ",a.username," "]}),Object(we.jsx)("div",{className:"text-center",children:Object(we.jsx)(l.b,{className:"btn smallWidth form-control",to:"/requests/read/".concat(c),children:"Details"})})]},c)})},Ge=function(){var e=j((function(e){return e.jungleSwap.loggedInUser})),t=j((function(e){return e.jungleSwap.isUserChange})),n=j((function(e){return e.jungleSwap.isFetchingMessages})),a=j((function(e){return e.jungleSwap.messages})),s=j((function(e){return e.jungleSwap.amountOfRequests})),r=u();return Object(c.useEffect)((function(){var e=function(){r(se(!1)),d.animateScroll.scrollToTop()};return r(A()).unwrap().then((function(n){r(de(n)),r(q()).unwrap().then((function(n){r(K(n)),t&&r(te()),t&&r(ne()),e()})).catch((function(e){console.log(e.message)}))})).catch((function(e){console.log(e.message)})),function(){e()}}),[]),e?n?Object(we.jsx)("div",{className:"spinner-grow text-success m-5",role:"status",children:Object(we.jsxs)("span",{className:"visually-hidden",children:[Object(we.jsx)("br",{})," ",Object(we.jsx)("br",{})," Loading requests..."]})}):Object(we.jsx)("div",{className:"container row mt-5",children:Object(we.jsxs)("div",{className:"mt-5 col-11 col-md-5 offset-1 offset-md-5",children:[Object(we.jsx)("h2",{children:" Requests for your plants "}),Object(we.jsxs)("h3",{className:"mb-4",children:[" [",s,"] "]}),Object(we.jsx)("div",{className:"text-right pr-2",children:Object(we.jsx)(l.b,{to:"/",children:Object(we.jsx)("button",{className:"btn btn-sm mt-4 smallWidth form-control",children:"Go back"})})}),a.map((function(e,t){return Object(we.jsx)(Je,{message:e},t)})),0!==s&&Object(we.jsx)("div",{className:"text-right mt-4 pr-2",children:Object(we.jsx)(l.b,{to:"/",children:Object(we.jsx)("button",{className:"btn btn-sm mt-4 smallWidth form-control",children:"Go back"})})})]})}):Object(we.jsx)(o.a,{to:"/auth/unauthorized"})},Be=function(e){var t=e.message,n=j((function(e){return e.jungleSwap.loggedInUser})),c=t._id,a=t.buyer,s=t.seller,r=t.plant,o=t.reply;return Object(we.jsx)(we.Fragment,{children:n&&a._id===n._id&&o&&Object(we.jsxs)("div",{className:"card p-3 mt-4 ",children:[Object(we.jsxs)("h4",{children:[" Reply for ",r.name," "]}),Object(we.jsxs)("h5",{children:[" by ",s.username," "]}),Object(we.jsx)("div",{className:"text-center",children:Object(we.jsx)(l.b,{className:"btn smallWidth form-control",to:"/replies/read/".concat(c),children:"Details"})})]},c)})},Ye=function(){var e=j((function(e){return e.jungleSwap.loggedInUser})),t=j((function(e){return e.jungleSwap.isUserChange})),n=j((function(e){return e.jungleSwap.isFetchingMessages})),a=j((function(e){return e.jungleSwap.messages})),s=j((function(e){return e.jungleSwap.amountOfReplies})),r=u();return Object(c.useEffect)((function(){var e=function(){r(re(!1)),d.animateScroll.scrollToTop()};return r(A()).unwrap().then((function(n){r(de(n)),r(q()).unwrap().then((function(n){r(K(n)),t&&r(te()),t&&r(ne()),e()})).catch((function(e){console.log(e.message)}))})).catch((function(e){console.log(e.message)})),function(){e()}}),[]),e?n?Object(we.jsx)("div",{className:"spinner-grow text-success m-5",role:"status",children:Object(we.jsxs)("span",{className:"visually-hidden",children:[Object(we.jsx)("br",{})," ",Object(we.jsx)("br",{})," Loading replies..."]})}):Object(we.jsx)("div",{className:"container row mt-5",children:Object(we.jsxs)("div",{className:"mt-5 col-11 col-md-5 offset-1 offset-md-5",children:[Object(we.jsx)("h2",{children:" Replies for your requests "}),Object(we.jsxs)("h3",{className:"mb-4",children:[" [",s,"] "]}),Object(we.jsx)("div",{className:"text-right pr-2",children:Object(we.jsx)(l.b,{to:"/",children:Object(we.jsx)("button",{className:"btn btn-sm mt-4 smallWidth form-control",children:"Go back"})})}),a.map((function(e,t){return Object(we.jsx)(Be,{message:e},t)})),0!==s&&Object(we.jsx)("div",{className:"text-right mt-4 pr-2",children:Object(we.jsx)(l.b,{to:"/",children:Object(we.jsx)("button",{className:"btn btn-sm mt-4 smallWidth form-control",children:"Go back"})})})]})}):Object(we.jsx)(o.a,{to:"/auth/unauthorized"})},Qe=function(){var e=j((function(e){return e.jungleSwap.loggedInUser})),t=j((function(e){return e.jungleSwap.plant})),n=j((function(e){return e.jungleSwap.error})),a=u(),s=Object(o.g)();if(Object(c.useEffect)((function(){a(be(null)),d.animateScroll.scrollToTop(),a(A()).unwrap().then((function(e){a(de(e))})).catch((function(e){console.log(e.message)}))}),[]),!e)return Object(we.jsx)(o.a,{to:"/auth/unauthorized"});var r=t,i=r._id,m=r.name;return Object(we.jsx)("div",{className:"container row mt-5",children:Object(we.jsxs)("div",{className:"mt-5 col-11 col-md-5 offset-1 offset-md-5",children:[Object(we.jsx)("h2",{className:"mb-4",children:" Your message "}),Object(we.jsxs)("h3",{className:"mb-4",children:[" for ",m," "]}),Object(we.jsxs)("form",{className:"pl-0",onSubmit:function(e){!function(e,t){e.preventDefault();var n=e.target.request,c=t._id,r={seller:t.creator._id,plant:c,request:n.value};a(E(r)).unwrap().then((function(e){a(X(e)),s.push("/plants/read/".concat(e.plant))})).catch((function(e){a(be(e.message))}))}(e,t)},children:[Object(we.jsx)("div",{children:Object(we.jsx)("textarea",{className:"mb-4 form-control",name:"request",cols:35,rows:7})}),n&&Object(we.jsxs)("p",{className:"warningColor",children:[" ",n," "]}),Object(we.jsxs)("div",{className:"text-right",children:[Object(we.jsx)("button",{className:"btn btn-sm mx-2 form-control smallWidth",type:"submit",children:"Send"}),Object(we.jsx)(l.b,{to:"/plants/read/".concat(i),children:Object(we.jsx)("button",{className:"btn btn-sm mx-2 form-control smallWidth",children:"Go back"})})]})]})]})})},Ve=function(){var e=j((function(e){return e.jungleSwap.loggedInUser})),t=j((function(e){return e.jungleSwap.message})),n=Object(o.h)().messageId,a=u(),s=Object(o.g)();Object(c.useEffect)((function(){a(A()).unwrap().then((function(e){a(de(e)),a(T(n)).unwrap().then((function(e){a(Z(e)),d.animateScroll.scrollToTop()})).catch((function(e){console.log(e.message)})),d.animateScroll.scrollToTop()})).catch((function(e){console.log(e.message)}))}),[]);if(!e)return Object(we.jsx)(o.a,{to:"/auth/unauthorized"});var r=t,i=r._id,m=r.buyer,b=r.plant,p=r.request,h=r.reply;return m&&b?Object(we.jsx)("div",{className:"container row mt-5 ",children:Object(we.jsxs)("div",{className:"mt-5 col-11 col-md-5 offset-1 offset-md-5",children:[Object(we.jsxs)("h2",{className:"mb-5",children:[" Request for ",b.name," "]}),Object(we.jsxs)("h5",{children:[" by ",m.username," "]}),Object(we.jsxs)("p",{className:"textField p-3 mb-4",children:[" ",p," "]}),h&&Object(we.jsxs)("div",{children:[Object(we.jsx)("h5",{children:" Your reply "}),Object(we.jsxs)("p",{className:"textField p-3 mb-4",children:[" ",h," "]})]}),Object(we.jsxs)("div",{className:"text-right px-3",children:[!h&&Object(we.jsx)(l.b,{to:"/messages/update/".concat(i),children:Object(we.jsx)("button",{className:"btn btn-sm ml-2 smallWidth form-control mb-1",children:"Reply"})}),Object(we.jsx)("button",{className:"btn btn-sm ml-2 smallWidth form-control mb-1",onClick:function(){!function(e,t){var n=JSON.parse(JSON.stringify(e));n.messageState=!1,a(Z(n));var c=n._id,s=n.buyer,r=n.seller,l=n.plant,o=n.request,i=n.reply,u=n.messageState;a(F({messageId:c,updatedMessage:{buyer:s,seller:r,plant:l,request:o,reply:i,messageState:u}})).unwrap().then((function(e){a($(e)),a(ue()),t.push("/requests/fetch")})).catch((function(e){console.log(e.message)}))}(t,s)},children:"Done"})]}),Object(we.jsx)("div",{className:"text-right px-3",children:Object(we.jsx)(l.b,{to:"/requests/fetch",onClick:d.animateScroll.scrollToTop,children:Object(we.jsx)("button",{className:"btn btn-sm mt-4 smallWidth form-control",children:"Go back"})})})]})}):Object(we.jsx)("div",{className:"spinner-grow text-success m-5",role:"status",children:Object(we.jsxs)("span",{className:"visually-hidden",children:[Object(we.jsx)("br",{})," ",Object(we.jsx)("br",{})," Loading message..."]})})},Ke=function(){var e=j((function(e){return e.jungleSwap.loggedInUser})),t=j((function(e){return e.jungleSwap.message})),n=Object(o.h)().messageId,a=u(),s=Object(o.g)();if(Object(c.useEffect)((function(){a(A()).unwrap().then((function(e){a(de(e)),a(T(n)).unwrap().then((function(e){a(Z(e)),d.animateScroll.scrollToTop()})).catch((function(e){console.log(e.message)}))})).catch((function(e){console.log(e.message)}))}),[]),!e)return Object(we.jsx)(o.a,{to:"/auth/unauthorized"});var r=t,i=r._id,m=r.buyer,b=r.seller,p=r.plant,h=r.request,f=r.reply;return m&&p?Object(we.jsx)("div",{className:"container row mt-5 ",children:Object(we.jsxs)("div",{className:"mt-5 col-11 col-md-5 offset-1 offset-md-5",children:[Object(we.jsxs)("h2",{className:"mb-5",children:[" Your request for ",p.name," "]}),Object(we.jsxs)("p",{className:"textField p-3 mb-4",children:[" ",h," "]}),f&&Object(we.jsxs)("div",{children:[Object(we.jsxs)("h5",{children:[" Reply by ",b.username," "]}),Object(we.jsxs)("p",{className:"textField p-3 mb-4",children:[" ",f," "]})]}),Object(we.jsx)("div",{className:"text-right px-3",children:Object(we.jsx)("button",{className:"btn btn-sm ml-2 smallWidth form-control mb-1",onClick:function(){a(_(i)).unwrap().then((function(){a(ee(i)),a(je()),s&&s.push("/replies/fetch")})).catch((function(e){console.log(e.message)}))},children:"Delete"})}),Object(we.jsx)("div",{className:"text-right px-3",children:Object(we.jsx)(l.b,{to:"/replies/fetch",onClick:d.animateScroll.scrollToTop,children:Object(we.jsx)("button",{className:"btn btn-sm mt-4 smallWidth form-control",children:"Go back"})})})]})}):Object(we.jsx)("div",{className:"spinner-grow text-success m-5",role:"status",children:Object(we.jsxs)("span",{className:"visually-hidden",children:[Object(we.jsx)("br",{})," ",Object(we.jsx)("br",{})," Loading replies..."]})})},Ze=function(){var e=j((function(e){return e.jungleSwap.loggedInUser})),t=j((function(e){return e.jungleSwap.message})),n=u(),a=Object(o.g)();Object(c.useEffect)((function(){d.animateScroll.scrollToTop(),n(A()).unwrap().then((function(e){n(de(e))})).catch((function(e){console.log(e.message)}))}),[]);if(!e)return Object(we.jsx)(o.a,{to:"/auth/unauthorized"});var s=t,r=s._id,i=s.request;return Object(we.jsx)("div",{className:"container row mt-5 ",children:Object(we.jsxs)("div",{className:"mt-2 col-11 col-md-5 offset-1 offset-md-5",children:[Object(we.jsx)("h2",{className:"mt-5 mb-4",children:" Reply your request "}),Object(we.jsx)("div",{className:"card cardSmallWidth mb-5",children:Object(we.jsxs)("div",{className:"card-body",children:[Object(we.jsxs)("p",{children:[" ",i," "]}),Object(we.jsx)("textarea",{className:"mb-4 form-control",name:"reply",cols:31,rows:6,placeholder:"Your reply",onChange:function(e){!function(e,t){var c=e.target,a=JSON.parse(JSON.stringify(t));a.reply=c.value,n(Z(a))}(e,t)}}),Object(we.jsxs)("div",{className:"row justify-content-end px-3",children:[Object(we.jsx)("button",{className:"btn btn-sm smallWidth form-control mr-3 mb-2",onClick:function(){!function(e){var t=e._id,c=e.buyer,s=e.seller,r=e.plant,l=e.request,o=e.reply,i=e.messageState;n(F({messageId:t,updatedMessage:{buyer:c,seller:s,plant:r,request:l,reply:o,messageState:i}})).unwrap().then((function(e){n($(e)),a.push("/requests/read/".concat(t))})).catch((function(e){console.log(e.message)}))}(t)},children:"Submit"}),Object(we.jsx)(l.b,{to:"/requests/read/".concat(r),children:Object(we.jsx)("button",{className:"btn btn-sm form-control mb-2",children:"Go back"})})]})]})})]})})},Xe=function(){var e=j((function(e){return e.jungleSwap.loggedInUser})),t=u();return Object(c.useEffect)((function(){e&&t(de(null))}),[]),Object(we.jsx)("div",{className:"notFound",children:Object(we.jsxs)("div",{children:[Object(we.jsxs)("h2",{children:["Oh-oh! ",Object(we.jsx)("br",{})," ",Object(we.jsx)("br",{}),"We think you got lost in the jungle!"]}),Object(we.jsx)("h3",{children:" 401 Unauthorized "})]})})},$e=function(){return Object(we.jsx)("div",{className:"notFound",children:Object(we.jsxs)("div",{children:[Object(we.jsxs)("h2",{children:["Oh-oh! ",Object(we.jsx)("br",{})," ",Object(we.jsx)("br",{}),"We think you got lost in the jungle!"]}),Object(we.jsx)("h3",{children:" 404 Not Found "}),Object(we.jsx)(l.b,{to:"/",children:Object(we.jsxs)("button",{className:"btn btn-sm ml-2 smallWidth form-control",children:["Take me home"," "]})})]})})},et=function(){return Object(c.useEffect)((function(){!function(e,t){var n=document.createElement("script");n.type="text/javascript",n.async=!0,n.src="https://widget.kommunicate.io/v2/kommunicate.app",document.getElementsByTagName("head")[0].appendChild(n),window.kommunicate=t,t._globals={appId:"10b22c52854a305b79bbdecc356bea5",popupWidget:!0,automaticChatOpenOnNavigation:!0}}(document,window.kommunicate||{})}),[]),Object(we.jsx)("div",{})},tt=Object(o.i)((function(){return Object(we.jsxs)("div",{className:"main",children:[Object(we.jsx)(Ne,{}),Object(we.jsxs)(o.d,{children:[Object(we.jsx)(o.b,{exact:!0,path:"/",children:Object(we.jsx)(qe,{})}),Object(we.jsx)(o.b,{path:"/plants/create",children:Object(we.jsx)(_e,{})}),Object(we.jsx)(o.b,{path:"/plants/read/:plantId",children:Object(we.jsx)(We,{})}),Object(we.jsx)(o.b,{path:"/plants/update",children:Object(we.jsx)(ze,{})}),Object(we.jsx)(o.b,{path:"/plants/checkout",children:Object(we.jsx)(He,{})}),Object(we.jsx)(o.b,{path:"/messages/create",children:Object(we.jsx)(Qe,{})}),Object(we.jsx)(o.b,{path:"/messages/update",children:Object(we.jsx)(Ze,{})}),Object(we.jsx)(o.b,{path:"/requests/fetch",children:Object(we.jsx)(Ge,{})}),Object(we.jsx)(o.b,{path:"/requests/read/:messageId",children:Object(we.jsx)(Ve,{})}),Object(we.jsx)(o.b,{path:"/replies/fetch",children:Object(we.jsx)(Ye,{})}),Object(we.jsx)(o.b,{path:"/replies/read/:messageId",children:Object(we.jsx)(Ke,{})}),Object(we.jsx)(o.b,{path:"/auth/signup",children:Object(we.jsx)(Ee,{})}),Object(we.jsx)(o.b,{path:"/auth/signin",children:Object(we.jsx)(Te,{})}),Object(we.jsx)(o.b,{path:"/auth/logout",children:Object(we.jsx)(Fe,{})}),Object(we.jsx)(o.b,{path:"auth/unauthorized",children:Object(we.jsx)(Xe,{})}),Object(we.jsx)(o.b,{component:$e})]}),Object(we.jsx)(et,{}),Object(we.jsx)(ye,{})]})})),nt=Object(O.a)({reducer:{jungleSwap:xe}});n(100);r.a.render(Object(we.jsx)(a.a.StrictMode,{children:Object(we.jsx)(i.a,{store:nt,children:Object(we.jsx)(l.a,{children:Object(we.jsx)(tt,{})})})}),document.querySelector("#root"))},64:function(e,t,n){}},[[101,1,2]]]);
//# sourceMappingURL=main.5a0145ef.chunk.js.map