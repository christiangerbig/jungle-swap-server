(this["webpackJsonpjungle-swap-client"]=this["webpackJsonpjungle-swap-client"]||[]).push([[0],{63:function(e,t,n){},95:function(e,t,n){},96:function(e,t,n){"use strict";n.r(t);var a=n(1),c=n.n(a),r=n(19),s=n.n(r),i=n(5),l=n(11),o=n(3),u=(n(62),n(63),n(10)),d=n(99),p=n(100),b=n(2),j=n.n(b),m=n(9),h=n(8),f="https://jungleswap.herokuapp.com",O=n(7),x=n.n(O),g="".concat(f,"/api"),v=Object(h.b)("jungeSwap/readUserData",function(){var e=Object(m.a)(j.a.mark((function e(t){var n,a;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.dispatch,e.prev=1,e.next=4,x.a.get("".concat(g,"/user"),{withCredentials:!0});case 4:a=e.sent,n(Y(a.data)),n(Q(!1)),e.next=13;break;case 9:e.prev=9,e.t0=e.catch(1),console.log("Initializing fetching failed",e.t0),n(Q(!1));case 13:case"end":return e.stop()}}),e,null,[[1,9]])})));return function(t){return e.apply(this,arguments)}}()),w=Object(h.b)("jungeSwap/fetchAllPlants",function(){var e=Object(m.a)(j.a.mark((function e(t){var n,a;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.dispatch,e.prev=1,e.next=4,x.a.get("".concat(g,"/plants/fetch"));case 4:a=e.sent,n(J(a.data)),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(1),console.log("Fetching plants failed",e.t0);case 11:case"end":return e.stop()}}),e,null,[[1,8]])})));return function(t){return e.apply(this,arguments)}}()),y=Object(h.b)("jungeSwap/fetchQueryPlants",function(){var e=Object(m.a)(j.a.mark((function e(t,n){var a,c;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:a=n.dispatch;try{c=x.a.get("".concat(g,"/plants/search?q=").concat(t)),a(J(c.data))}catch(r){console.log("Fetching query plants failed",r)}case 2:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()),N=Object(h.b)("jungeSwap/createPlant",function(){var e=Object(m.a)(j.a.mark((function e(t,n,a){var c,r,s,i,l,o,u,d,p,b,m;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return c=n.name,r=n.description,s=n.size,i=n.location,l=n.price,o=a.dispatch,e.prev=2,e.next=5,x.a.post("".concat(g,"/upload"),t);case 5:return u=e.sent,d=u.data,p=d.imageUrl,b=d.imagePublicId,m={name:c.value,description:r.value,size:s.value,imageUrl:p,imagePublicId:b,location:i.value,price:l.value},e.prev=8,e.next=11,x.a.post("".concat(g,"/plants/create"),m,{withCredentials:!0});case 11:u=e.sent,o(M(u.data)),e.next=18;break;case 15:e.prev=15,e.t0=e.catch(8),o(B(e.t0.response.data.error));case 18:e.next=23;break;case 20:e.prev=20,e.t1=e.catch(2),o(B(e.t1.response.data.error));case 23:case"end":return e.stop()}}),e,null,[[2,20],[8,15]])})));return function(t,n,a){return e.apply(this,arguments)}}()),S=Object(h.b)("jungeSwap/readPlant",function(){var e=Object(m.a)(j.a.mark((function e(t,n){var a,c;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=n.dispatch,e.prev=1,e.next=4,x.a.get("".concat(g,"/plants/read/").concat(t),{withCredentials:!0});case 4:c=e.sent,a(A(c.data)),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(1),console.log("Read plant failed");case 11:case"end":return e.stop()}}),e,null,[[1,8]])})));return function(t,n){return e.apply(this,arguments)}}()),k=Object(h.b)("jungleSwap/imageChange",function(){var e=Object(m.a)(j.a.mark((function e(t,n,a,c){var r,s,i,l,o,u,d;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=c.dispatch,e.prev=1,e.next=4,x.a.post("".concat(g,"/destroy"),t);case 4:return e.prev=4,(s=new FormData).append("image",n),e.next=9,x.a.post("".concat(g,"/upload"),s);case 9:i=e.sent,l=i.data,o=l.imagePublicId,u=l.imageUrl,(d=JSON.parse(JSON.stringify(a))).imagePublicId=o,d.imageUrl=u,r(A(d)),e.next=20;break;case 17:e.prev=17,e.t0=e.catch(4),console.log("Image upload failed",e.t0);case 20:e.next=25;break;case 22:e.prev=22,e.t1=e.catch(1),console.log("Delete old image failed",e.t1);case 25:case"end":return e.stop()}}),e,null,[[1,22],[4,17]])})));return function(t,n,a,c){return e.apply(this,arguments)}}()),q=Object(h.b)("jungleSwap/updatePlant",function(){var e=Object(m.a)(j.a.mark((function e(t,n,a){var c,r;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return c=a.dispatch,e.prev=1,e.next=4,x.a.patch("".concat(g,"/plants/update/").concat(t),n);case 4:r=e.sent,c(W(r.data)),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(1),console.log("Update plant failed",e.t0);case 11:case"end":return e.stop()}}),e,null,[[1,8]])})));return function(t,n,a){return e.apply(this,arguments)}}()),C=Object(h.b)("jungleSwap/deletePlant",function(){var e=Object(m.a)(j.a.mark((function e(t,n,a){var c,r;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return c=a.dispatch,e.prev=1,r={imagePublicId:t},e.next=5,x.a.post("".concat(g,"/destroy"),r);case 5:return e.prev=5,e.next=8,x.a.delete("".concat(g,"/plants/delete/").concat(n));case 8:c(G(n)),e.next=14;break;case 11:e.prev=11,e.t0=e.catch(5),console.log("Delete plant failed",e.t0);case 14:e.next=19;break;case 16:e.prev=16,e.t1=e.catch(1),console.log("Delete image failed",e.t1);case 19:case"end":return e.stop()}}),e,null,[[1,16],[5,11]])})));return function(t,n,a){return e.apply(this,arguments)}}()),I=Object(h.b)("jungleSwap/createPayment",function(){var e=Object(m.a)(j.a.mark((function e(t,n){var a,c;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=n.dispatch,e.prev=1,e.next=4,x.a.post("".concat(g,"/create-payment-intent"),{price:t.price});case 4:c=e.sent,a(Z(c.data)),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(1),console.log("Create payment failed",e.t0);case 11:case"end":return e.stop()}}),e,null,[[1,8]])})));return function(t,n){return e.apply(this,arguments)}}()),P=Object(h.b)("jungleSwap/payPlant",function(){var e=Object(m.a)(j.a.mark((function e(t){return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.dispatch,e.prev=1,e.next=4,x.a.post("".concat(g,"/create-payment-intent"),{},{withCredentials:!0});case 4:e.next=9;break;case 6:e.prev=6,e.t0=e.catch(1),console.log("Checkout failed",e.t0);case 9:case"end":return e.stop()}}),e,null,[[1,6]])})));return function(t){return e.apply(this,arguments)}}()),R=Object(h.b)("jungleSwap/fetchAllRequests",function(){var e=Object(m.a)(j.a.mark((function e(t){var n,a;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.dispatch,e.prev=1,e.next=4,x.a.get("".concat(g,"/requests/fetch"));case 4:a=e.sent,n(V(a.data)),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(1),console.log("Fetching requests failed",e.t0);case 11:case"end":return e.stop()}}),e,null,[[1,8]])})));return function(t){return e.apply(this,arguments)}}()),U=Object(h.b)("jungleSwap/createRequest",function(){var e=Object(m.a)(j.a.mark((function e(t,n){var a,c;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=n.dispatch,e.prev=1,e.next=4,x.a.post("".concat(g,"/requests/create"),t,{withCredentials:!0});case 4:c=e.sent,a($(c.data)),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(1),a(B(e.t0.response.data.error));case 11:case"end":return e.stop()}}),e,null,[[1,8]])})));return function(t,n){return e.apply(this,arguments)}}()),E=Object(h.b)("jungleswap/readRequest",function(){var e=Object(m.a)(j.a.mark((function e(t,n){var a,c;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=n.dispatch,e.prev=1,e.next=4,x.a.get("".concat(g,"/requests/read/").concat(t),{withCredentials:!0});case 4:c=e.sent,a(X(c.data)),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(1),console.log("Read request failed");case 11:case"end":return e.stop()}}),e,null,[[1,8]])})));return function(t,n){return e.apply(this,arguments)}}()),T=Object(h.b)("jungleSwap/updateRequest",function(){var e=Object(m.a)(j.a.mark((function e(t,n,a){var c,r;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return c=a.dispatch,e.prev=1,e.next=4,x.a.patch("".concat(g,"/requests/update/").concat(t),n);case 4:r=e.sent,c(ee(r.data)),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(1),console.log("Update request failed",e.t0);case 11:case"end":return e.stop()}}),e,null,[[1,8]])})));return function(t,n,a){return e.apply(this,arguments)}}()),_=Object(h.b)("jungleSwap/deleteRequest",function(){var e=Object(m.a)(j.a.mark((function e(t,n){var a;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=n.dispatch,e.prev=1,e.next=4,x.a.delete("".concat(g,"/requests/delete/").concat(t));case 4:a(te(t)),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(1),console.log("Delete request failed",e.t0);case 10:case"end":return e.stop()}}),e,null,[[1,7]])})));return function(t,n){return e.apply(this,arguments)}}()),H=Object(h.b)("jungleSwap/signUp",function(){var e=Object(m.a)(j.a.mark((function e(t,n){var a,c;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=n.dispatch,e.prev=1,e.next=4,x.a.post("".concat(g,"/signup"),t);case 4:c=e.sent,a(Y(c.data)),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(1),a(B(e.t0.response.data.error));case 11:case"end":return e.stop()}}),e,null,[[1,8]])})));return function(t,n){return e.apply(this,arguments)}}()),F=Object(h.b)("jungleSwap/signIn",function(){var e=Object(m.a)(j.a.mark((function e(t,n){var a,c;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=n.dispatch,e.prev=1,e.next=4,x.a.post("".concat(g,"/signin"),t,{withCredentials:!0});case 4:c=e.sent,a(Y(c.data)),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(1),a(B(e.t0.response.data.error));case 11:case"end":return e.stop()}}),e,null,[[1,8]])})));return function(t,n){return e.apply(this,arguments)}}()),z=Object(h.b)("jungleSwap/logOut",function(){var e=Object(m.a)(j.a.mark((function e(t){var n;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.dispatch,e.prev=1,e.next=4,x.a.post("".concat(g,"/logout"),{},{withCredentials:!0});case 4:n(Y(null)),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(1),console.log("Logout failed",e.t0);case 10:case"end":return e.stop()}}),e,null,[[1,7]])})));return function(t){return e.apply(this,arguments)}}()),D=Object(h.c)({name:"jungleSwap",initialState:{isFetchingUser:!0,loggedInUser:null,isUserChange:!1,plants:[],plant:{},requests:[],request:{},amountOfRequests:0,isNewRequest:!1,intervalId:null,minutesCounter:0,headerContainerHeight:0,aboutContainerHeight:0,clientSecret:"",error:null},reducers:{setPlant:function(e,t){e.plant=t.payload},setPlants:function(e,t){e.plants=t.payload},addPlant:function(e,t){e.plants.push(t.payload)},setPlantChanges:function(e,t){var n=t.payload,a=n._id,c=n.name,r=n.description,s=n.size,i=n.image,l=n.imagePublicId,o=n.location,u=n.price;e.plants=e.plants.map((function(e){return e._id===a&&(e.name=c,e.description=r,e.size=s,e.image=i,e.imagePublicId=l,e.location=o,e.price=u),e}))},removePlant:function(e,t){e.plants=e.plants.filter((function(e){return e._id!==t.payload}))},setError:function(e,t){e.error=t.payload},setLoggedInUser:function(e,t){e.loggedInUser=t.payload},setIsFetchingUser:function(e,t){e.isFetchingUser=t.payload},setPromise:function(e,t){e.promise=t.payload},setClientSecret:function(e,t){e.clientSecret=t.payload},setRequests:function(e,t){e.requests=t.payload},setRequest:function(e,t){e.request=t.payload},addRequest:function(e,t){e.requests.push(t.payload)},setRequestChanges:function(e,t){var n=t.payload,a=n._id,c=n.buyer,r=n.seller,s=n.plant,i=n.message,l=n.reply;e.requests=e.requests.map((function(e){return e._id===a&&(e.buyer=c,e.seller=r,e.plant=s,e.message=i,e.reply=l),e}))},removeRequest:function(e,t){e.requests=e.requests.filter((function(e){return e._id!==t.payload}))},setAmountOfRequests:function(e,t){e.amountOfRequests=t.payload},setIsNewRequest:function(e,t){e.isNewRequest=t.payload},setIntervalId:function(e,t){e.intervalId=t.payload},setIsUserChange:function(e,t){e.isUserChange=t.payload},setMinutesCounter:function(e,t){e.minutesCounter=t.payback},setElementsHeight:function(e,t){var n=t.payback,a=n.headerContainerHeight,c=n.aboutContainerHeight;e.headerContainerHeight=a,e.aboutContainerHeight=c}}}),L=D.actions,A=L.setPlant,J=L.setPlants,M=L.addPlant,W=L.setPlantChanges,G=L.removePlant,B=L.setError,Y=L.setLoggedInUser,Q=L.setIsFetchingUser,K=L.setPromise,Z=L.setClientSecret,V=L.setRequests,X=L.setRequest,$=L.addRequest,ee=L.setRequestChanges,te=L.removeRequest,ne=L.setAmountOfRequests,ae=L.setIntervalId,ce=L.setIsUserChange,re=L.setMinutesCounter,se=L.setIsNewRequest,ie=L.setElementsHeight,le=(D.reducer,n(0)),oe=function(){var e=Object(o.c)((function(e){return e.jungleSwap.loggedInUser})),t=Object(o.c)((function(e){return e.jungleSwap.isUserChange})),n=Object(o.c)((function(e){return e.jungleSwap.requests})),c=Object(o.c)((function(e){return e.jungleSwap.isNewRequest})),r=Object(o.c)((function(e){return e.jungleSwap.intervalId})),s=Object(o.c)((function(e){return e.jungleSwap.minutesCounter})),l=Object(o.c)((function(e){return e.jungleSwap.amountOfRequests})),b=Object(o.c)((function(e){return e.jungleSwap.headerContainerHeight})),j=Object(o.c)((function(e){return e.jungleSwap.aboutContainerHeight})),m=Object(o.b)();return Object(a.useEffect)((function(){return function(){r&&(clearInterval(r),m(ae(null)),m(re(0)))}}),[]),Object(a.useEffect)((function(){t&&(m(R()),m(ne(n.filter((function(t){return t.seller._id===e._id})).length)),m(ae(setInterval((function(){return m(re((function(e){return e+1})))}),1e4))),m(ce(!1)))}),[t]),Object(a.useEffect)((function(){m(R());var t=n.filter((function(t){return t.seller._id===e._id})).length;l<t&&(m(ne(t)),m(se(!0)))}),[s]),Object(le.jsx)("div",{children:Object(le.jsxs)(d.a,{className:"pl-5",variant:"dark",expand:"lg",fixed:"top",children:[Object(le.jsxs)(d.a.Brand,{children:[" ",Object(le.jsx)(i.b,{to:"/",onClick:u.animateScroll.scrollToTop,children:" JungleSwap "})," "]}),Object(le.jsx)(d.a.Toggle,{"aria-controls":"basic-navbar-nav"}),Object(le.jsx)(d.a.Collapse,{id:"basic-navbar-nav",children:Object(le.jsxs)(p.a,{className:"mr-auto",children:[Object(le.jsx)("div",{children:Object(le.jsx)(i.b,{to:"/",className:"p-2",onClick:function(){return u.animateScroll.scrollTo(b+j)},children:" All Plants "})}),e&&Object(le.jsxs)("div",{children:[Object(le.jsx)(i.b,{className:"p-2",to:"/plants/create",children:" Create Plant "}),Object(le.jsx)(i.b,{className:c?"p-2 alertColor":"p-2",to:"/requests/fetch",title:c?"new message":null,children:" Messages "})]}),e?Object(le.jsx)("div",{children:Object(le.jsx)(i.b,{className:"p-2",to:"/logout",title:e.username,children:" Log out "})}):Object(le.jsxs)("div",{children:[Object(le.jsx)(i.b,{className:"p-2",to:"/signin",children:" Sign in "}),Object(le.jsx)(i.b,{className:"p-2",to:"/signup",children:" Sign up "})]})]})})]})})},ue=function(){return Object(le.jsx)("div",{className:"footer-row",children:Object(le.jsxs)("footer",{children:["\xa9 2021",Object(le.jsx)(i.b,{href:"https://www.linkedin.com/in/christian-gerbig/",children:" Christian Gerbig "}),"&",Object(le.jsx)(i.b,{href:"https://www.linkedin.com/in/lisa-montebaur/",children:" Lisa Montebaur "})]})})},de=n(24),pe=n.p+"static/media/JungleSwap_Home.c4ed9b4c.png",be=n.p+"static/media/JungleSwap_Icon.a6c7c44a.png",je=function(){var e=Object(o.c)((function(e){return e.jungleSwap.loggedInUser})),t=Object(o.c)((function(e){return e.jungleSwap.plants})),n=Object(o.c)((function(e){return e.jungleSwap.headerContainerHeight})),c=Object(a.useState)(""),r=Object(de.a)(c,2),s=r[0],l=r[1],d=Object(o.b)();Object(a.useEffect)((function(){d(w()),!e&&d(v());var t=Math.round(document.querySelector("#titleId").getBoundingClientRect().height),n=Math.round(document.querySelector("#aboutId").getBoundingClientRect().height);d(ie(t,n))}),[]),Object(a.useEffect)((function(){d(y(s)),d(s?y(s):w())}),[s]);return t?Object(le.jsxs)("div",{children:[Object(le.jsx)("header",{className:"text-center pt-5 pb-5 headerImg",id:"titleId",children:Object(le.jsx)("div",{className:"row my-5",children:Object(le.jsxs)("div",{className:"col-6 offset-3 my-5 borderAround",children:[Object(le.jsx)("h2",{className:"title mb-2",children:" JungleSwap "}),Object(le.jsx)("h5",{className:"mt-3 mb-5",children:" Share your green heart "}),Object(le.jsx)("div",{className:"mb-5",children:Object(le.jsx)(i.b,{className:"biggerFontSize",onClick:function(){return u.animateScroll.scrollTo(n)},children:" Try it! "})})]})})}),Object(le.jsx)("section",{id:"aboutId",children:Object(le.jsx)("div",{className:"about centered container",children:Object(le.jsxs)("div",{className:"row",children:[Object(le.jsx)("div",{className:"col-sm-6 col-md-5 col-lg-6",children:Object(le.jsx)("img",{className:"image",src:pe,alt:"plants"})}),Object(le.jsx)("br",{}),Object(le.jsxs)("div",{className:"about col-sm-6 col-md-5 col-lg-6 px-5 noOverflow",children:[Object(le.jsx)("h4",{children:" Welcome to JungleSwap! "}),Object(le.jsx)("h5",{children:" Add green to your Home "}),Object(le.jsxs)("p",{children:[' It"s easy-peasy. ',Object(le.jsx)("br",{}),"Share your plant offshoots. ",Object(le.jsx)("br",{}),"Make money! ",Object(le.jsx)("br",{}),"Or swap them for another plant. ",Object(le.jsx)("br",{}),'Don"t have any baby plants? ',Object(le.jsx)("br",{}),"You can simply shop and give a plant a new home."]}),Object(le.jsx)("img",{className:"icon",src:be,alt:"icon"})]})]})})}),Object(le.jsx)("section",{children:Object(le.jsxs)("div",{className:"container mt-5",children:[Object(le.jsxs)("div",{className:"mt-5 mb-3",children:[Object(le.jsx)("h2",{children:" Plants "}),Object(le.jsx)("hr",{}),Object(le.jsx)("h4",{children:" Search a plant "})]}),Object(le.jsx)("div",{className:"mb-4",children:Object(le.jsx)("input",{className:"smallWidth form-control",type:"text",placeholder:"Search...",value:s,onChange:function(e){return l(e.target.value)}})}),Object(le.jsx)("div",{className:"row row-cols-1 row-cols-md-3 g-4",children:t.map((function(e){var t=e._id,n=e.name,a=e.image,c=e.price;return Object(le.jsx)("div",{className:"col mb-5",children:Object(le.jsxs)("div",{className:"card card-medium-width text-center h-100",children:[Object(le.jsx)("img",{className:"card-img-top mediumPicSize",src:a,alt:n}),Object(le.jsxs)("div",{className:"card-body mb-5",children:[Object(le.jsxs)("h5",{children:[" ",n," "]}),Object(le.jsxs)("p",{children:[" ",c," \u20ac "]}),Object(le.jsx)(i.b,{className:"btn btn-outline-dark",to:"/plants/read/".concat(t),children:" Details "})]})]})},t)}))})]})})]}):Object(le.jsx)("div",{class:"spinner-grow text-success m-5",role:"status",children:Object(le.jsx)("span",{class:"visually-hidden",children:" Loading... "})})},me=function(){var e=Object(o.c)((function(e){return e.jungleSwap.error})),t=Object(o.b)(),n=Object(l.g)();Object(a.useEffect)((function(){t(B(null)),t(se(!1)),u.animateScroll.scrollToTop()}),[]);return Object(le.jsx)("div",{className:"container row mt-5",children:Object(le.jsxs)("div",{className:"mt-5 col-11 col-md-5 offset-1 offset-md-5",children:[Object(le.jsx)("h2",{className:"mb-5",children:" Sign Up "}),Object(le.jsxs)("form",{onSubmit:function(e){e.preventDefault();var a=e.target,c=a.username,r=a.email,s=a.password,i={username:c.value,email:r.value.toLowerCase(),password:s.value};t(H(i)),t(ce(!0)),n.push("/")},children:[Object(le.jsxs)("div",{className:"form-group",children:[Object(le.jsx)("label",{htmlFor:"InputUsername",children:" Username "}),Object(le.jsx)("input",{type:"text",className:"form-control",id:"InputUsername",name:"username"})]}),Object(le.jsxs)("div",{className:"form-group",children:[Object(le.jsx)("label",{htmlFor:"InputEmail",children:" Email address "}),Object(le.jsx)("input",{type:"email",className:"form-control",id:"InputEmail",name:"email"})]}),Object(le.jsxs)("div",{className:"form-group",children:[Object(le.jsx)("label",{htmlFor:"InputPassword",children:" Password "}),Object(le.jsx)("input",{name:"password",type:"password",className:"form-control",id:"InputPassword"})]}),e&&Object(le.jsxs)("p",{className:"warningColor",children:[" ",e," "]}),Object(le.jsx)("button",{type:"submit",className:"btn btn-primary mt-4 btn-outline-dark",formnovalidate:"formnovalidate",children:" Sign up "}),Object(le.jsx)("p",{className:"padding",children:" Already have an account? "}),Object(le.jsx)(i.b,{to:"/signin",children:" Sign in "})]})]})})},he=function(){var e=Object(o.c)((function(e){return e.jungleSwap.error})),t=Object(o.b)(),n=Object(l.g)();Object(a.useEffect)((function(){t(B(null)),t(se(!1)),u.animateScroll.scrollToTop()}),[]);return Object(le.jsx)("div",{className:"container row mt-5 custom fullscreen",children:Object(le.jsxs)("div",{className:"mt-5 col-11 col-md-5 offset-1 offset-md-5",children:[Object(le.jsx)("h2",{className:"mb-5",children:" Sign In "}),Object(le.jsxs)("form",{onSubmit:function(e){e.preventDefault();var a=e.target,c=a.email,r=a.password,s={email:c.value,password:r.value};t(F(s)),t(ce(!0)),n.push("/")},children:[Object(le.jsxs)("div",{className:"form-group",children:[Object(le.jsx)("label",{htmlFor:"InputEmail",children:" Email address "}),Object(le.jsx)("input",{type:"email",className:"form-control",id:"InputEmail",name:"email"})]}),Object(le.jsxs)("div",{className:"form-group",children:[Object(le.jsx)("label",{htmlFor:"InputPassword",children:" Password "}),Object(le.jsx)("input",{name:"password",type:"password",className:"form-control",id:"InputPassword"})]}),e&&Object(le.jsxs)("p",{className:"warningColor",children:[" ",e," "]}),Object(le.jsx)("button",{type:"submit",className:"btn btn-primary mt-4 btn-outline-dark",formnovalidate:"formnovalidate",children:" Sign in "})]})]})})},fe=function(){var e=Object(o.c)((function(e){return e.jungleSwap.intervalId})),t=Object(o.b)(),n=Object(l.g)();return Object(a.useEffect)((function(){t(z),clearInterval(e),t(ae(null)),t(re(0)),t(se(!1)),n.push("/"),u.animateScroll.scrollToTop()}),[]),Object(le.jsx)("div",{})},Oe=function(){var e=Object(o.c)((function(e){return e.jungleSwap.isLoggedInUser})),t=Object(o.c)((function(e){return e.jungleSwap.headerContainerHeight})),n=Object(o.c)((function(e){return e.jungleSwap.aboutContainerHeight})),c=Object(o.c)((function(e){return e.jungleSwap.error})),r=Object(o.b)(),s=Object(l.g)();Object(a.useEffect)((function(){return r(B(null)),u.animateScroll.scrollToTop(),function(){return u.animateScroll.scrollTo(t+n)}}),[]);return e?Object(le.jsx)("div",{className:"container row mt-5 fullscreen",children:Object(le.jsxs)("div",{className:"mt-5 col-11 col-md-5 offset-1 offset-md-6",children:[Object(le.jsx)("h2",{className:"mb-5",children:" Create a plant "}),Object(le.jsxs)("form",{onSubmit:function(e){e.preventDefault();var t=e.target.plantImage.files[0],n=new FormData;n.append("image",t),r(N(n,e.target)),s.push("/")},children:[Object(le.jsx)("input",{className:"mb-4",name:"name",type:"text",placeholder:"Enter name"}),Object(le.jsx)("input",{className:"mb-4",name:"description",type:"text",placeholder:"Enter description"}),Object(le.jsx)("input",{className:"mb-4 smallWidth",name:"size",type:"number",min:"1",placeholder:"Size"})," cm ",Object(le.jsx)("br",{}),Object(le.jsxs)("select",{className:"mb-4 p-1",name:"location",type:"text",children:[Object(le.jsx)("option",{children:" Select location "}),Object(le.jsx)("option",{value:"sun",children:" sun "}),Object(le.jsx)("option",{value:"shade",children:" shade "}),Object(le.jsx)("option",{value:"sun and shade",children:" sun and shade "})]}),Object(le.jsx)("br",{}),Object(le.jsx)("input",{className:"mb-4 smallWidth",name:"price",type:"number",min:"1",placeholder:"Price"})," \u20ac ",Object(le.jsx)("br",{}),Object(le.jsx)("input",{className:"mb-4",name:"plantImage",type:"file"}),c&&Object(le.jsxs)("p",{className:"warningColor",children:[" ",c," "]}),Object(le.jsxs)("div",{className:"col-12",children:[Object(le.jsx)("button",{className:"btn btn-sm btn-outline-dark",type:"submit",children:" Create "}),Object(le.jsxs)(i.b,{to:"/",children:[" ",Object(le.jsx)("button",{className:"btn btn-sm mx-5",children:" Go back "})," "]})]})]})]})}):Object(le.jsx)(l.a,{to:"/signup"})},xe=function(){var e=Object(o.c)((function(e){return e.jungleSwap.isLoggedInUser})),t=Object(o.c)((function(e){return e.jungleSwap.plant})),n=Object(o.c)((function(e){return e.jungleSwap.headerContainerHeight})),c=Object(o.c)((function(e){return e.jungleSwap.aboutContainerHeight})),r=Object(l.h)().plantId,s=Object(o.b)(),d=Object(l.g)();Object(a.useEffect)((function(){s(S(r)),u.animateScroll.scrollToTop()}),[]);if(!e)return Object(le.jsx)(l.a,{to:"/signup"});var p=t._id,b=t.name,j=t.description,m=t.size,h=t.imageUrl,f=t.imagePublicId,O=t.location,x=t.price,g=t.creator;return g?Object(le.jsxs)("div",{className:"container mt-5 row row-md-10 offset-md-4",children:[Object(le.jsx)("div",{className:"mt-4 mb-3 pt-4 container",children:Object(le.jsx)("h2",{children:" Plant details "})}),Object(le.jsx)("div",{className:"col",children:Object(le.jsxs)("div",{className:"card cardMediumWidth",children:[h&&Object(le.jsx)("img",{className:"card-img-top mediumPicSize",src:h,alt:b}),Object(le.jsxs)("div",{className:"ml-2 mt-2",children:[" ",Object(le.jsx)("span",{children:" Name: "})," ",b," "]}),Object(le.jsxs)("div",{className:"ml-2 mt-2",children:[" ",Object(le.jsx)("span",{children:" Description: "})," ",j," "]}),Object(le.jsxs)("div",{className:"ml-2 mt-2",children:[" ",Object(le.jsx)("span",{children:" Size: "})," ",m," cm "]}),Object(le.jsxs)("div",{className:"ml-2 mt-2",children:[" ",Object(le.jsx)("span",{children:" Likes: "})," ",O," "]}),Object(le.jsxs)("div",{className:"ml-2 mt-2",children:[" ",Object(le.jsx)("span",{children:" Price: "})," ",x," \u20ac "]}),Object(le.jsx)("div",{className:"ml-2 mt-2 col justify-content-center",children:Object(le.jsx)("div",{className:"row-2 justify-content-center",children:Object(le.jsxs)("div",{className:"card-body",children:[e._id===g._id?Object(le.jsxs)("div",{children:[Object(le.jsxs)(i.b,{to:"/plants/update",children:[" ",Object(le.jsx)("button",{className:"btn btn-sm ml-2 btn-outline-dark",children:" Update "})," "]}),Object(le.jsx)("button",{className:"btn btn-sm ml-2 btn-outline-dark",onClick:function(){return function(e,t){s(C(e,t)),d.push("/"),u.animateScroll.scrollTo(n+c)}(f,p)},children:" Delete "})]}):Object(le.jsxs)("div",{children:[Object(le.jsxs)(i.b,{to:"/plants/checkout",children:[" ",Object(le.jsx)("button",{className:"btn btn-sm ml-2 btn-outline-dark",children:" Buy "})," "]}),Object(le.jsxs)(i.b,{to:"/requests/create",children:[" ",Object(le.jsx)("button",{className:"btn btn-sm ml-2 btn-outline-dark",children:" Swap "})," "]})]}),Object(le.jsxs)(i.b,{to:"/",onClick:function(){return u.animateScroll.scrollTo(n+c)},children:[" ",Object(le.jsx)("button",{className:"btn btn-sm ml-2",children:" Go back "})," "]})]})})})]})})]}):Object(le.jsx)("div",{class:"spinner-grow text-success m-5",role:"status",children:Object(le.jsx)("span",{class:"visually-hidden",children:" Loading... "})})},ge=function(){var e=Object(o.c)((function(e){return e.jungleSwap.plant})),t=Object(o.c)((function(e){return e.jungleSwap.headerContainerHeight})),n=Object(o.c)((function(e){return e.jungleSwap.aboutContainerHeight})),c=Object(o.b)(),r=Object(l.g)();Object(a.useEffect)((function(){return u.animateScroll.scrollToTop()}),[]);var s=function(e,t,n){var a=e.target,r=JSON.parse(JSON.stringify(t));switch(n){case 0:r.name=a.value;break;case 1:r.description=a.value;break;case 2:r.size=a.value;break;case 3:r.location=a.value;break;case 4:r.price=a.value}c(A(r))},d=e._id,p=e.name,b=e.description,j=e.size,m=e.imageUrl,h=e.price;return Object(le.jsx)("div",{className:"container row mt-5 ",children:Object(le.jsxs)("div",{className:"mt-2 col-11 col-md-5 offset-1 offset-md-5",children:[Object(le.jsx)("h2",{className:"mt-5 mb-4",children:" Update your plant "}),Object(le.jsxs)("div",{className:"card cardSmallWidth mb-5",children:[Object(le.jsx)("img",{className:"mb-2 smallPicSize",src:m,alt:p}),Object(le.jsxs)("div",{className:"card-body",children:[Object(le.jsx)("input",{className:"mb-2",onChange:function(t){return function(e,t){var n=e.target.files[0],a=t.imagePublicId;c(k({imagePublicId:a},n,t))}(t,e)},type:"file"}),Object(le.jsx)("input",{className:"mb-2",type:"text",onChange:function(t){return s(t,e,0)},value:p}),Object(le.jsx)("input",{className:"mb-2",type:"text",onChange:function(t){return s(t,e,1)},value:b}),Object(le.jsx)("input",{className:"mb-2 smallWidth",type:"number",onChange:function(t){return s(t,e,2)},value:j})," cm ",Object(le.jsx)("br",{}),Object(le.jsxs)("select",{className:"mb-2",onChange:function(t){return s(t,e,3)},name:"location",type:"text",placeholder:"Select",children:[Object(le.jsx)("option",{value:"sun",children:" sun "}),Object(le.jsx)("option",{value:"shade",children:" shade "}),Object(le.jsx)("option",{value:"sun and shade",children:" sun and shade "})]})," ",Object(le.jsx)("br",{}),Object(le.jsx)("input",{className:"mb-4 smallWidth",name:"price",type:"number",min:"1",onChange:function(t){return s(t,e,4)},value:h})," \u20ac",Object(le.jsxs)("div",{className:"row justify-content-around",children:[Object(le.jsx)("button",{className:"btn btn-sm btn-outline-dark",onClick:function(){return function(e){var a=e._id,s=e.name,i=e.description,l=e.size,o=e.imageUrl,d=e.imagePublicId,p=e.location,b=e.price;c(q(a,{name:s,description:i,size:l,imageUrl:o,imagePublicId:d,location:p,price:b})),r.push("/"),u.animateScroll.scrollTo(t+n)}(e)},children:" Save changes "}),Object(le.jsxs)(i.b,{to:"/plants/read/".concat(d),children:[" ",Object(le.jsx)("button",{className:"btn btn-sm mx-2",children:" Go back "})," "]})]})]})]})]})})},ve=n(54),we=n(23),ye=function(){var e=Object(a.useState)(!1),t=Object(de.a)(e,2),n=t[0],c=t[1],r=Object(a.useState)(!1),s=Object(de.a)(r,2),d=s[0],p=s[1],b=Object(a.useState)(!0),h=Object(de.a)(b,2),f=h[0],O=h[1],x=Object(a.useState)(null),g=Object(de.a)(x,2),v=g[0],w=g[1],y=Object(we.useStripe)(),N=Object(we.useElements)(),S=Object(o.c)((function(e){return e.jungleSwap.clientSecret})),k=Object(o.c)((function(e){return e.jungleSwap.plant})),q=Object(o.c)((function(e){return e.jungleSwap.headerContainerHeight})),C=Object(o.c)((function(e){return e.jungleSwap.aboutContainerHeight})),R=Object(o.b)(),U=Object(l.g)();Object(a.useEffect)((function(){return R(I(k)),function(){return u.animateScroll.scrollTo(q+C)}}),[]);var E=function(){var e=Object(m.a)(j.a.mark((function e(t){return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:O(t.empty),w(t.error?t.error.message:"");case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),T=function(){var e=Object(m.a)(j.a.mark((function e(t){var n;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),p(!0),e.next=4,y.confirmCardPayment(S,{payment_method:{card:N.getElement(we.CardElement)}});case 4:(n=e.sent).error?(w("Payment failed ".concat(n.error.message)),p(!1)):(w(null),p(!1),c(!0));case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),_=k._id,H=k.name,F=k.price;return Object(le.jsxs)("div",{className:"container col-9",children:[Object(le.jsxs)("form",{className:"checkoutForm mt-5",id:"payment-form",onSubmit:T,children:[Object(le.jsxs)("h2",{className:"text-center mb-2 p-2",children:[" ",H," "]}),Object(le.jsxs)("h3",{className:"text-center mb-4 p-2",children:[" ",F," \u20ac "]}),Object(le.jsx)(we.CardElement,{className:"p-2",id:"card-element",options:{style:{base:{color:"#32325d",fontFamily:"Arial, sans-serif",fontSmoothing:"antialiased",fontSize:"16px","::placeholder":{color:"#32325d"}},invalid:{color:"#fa755a",iconColor:"#fa755a"}}},onChange:E}),Object(le.jsx)("div",{className:"row justify-content-center",children:Object(le.jsx)("button",{onClick:function(){R(P),U.push("/")},className:"btn btn-sm mt-5 mb-4",disabled:d||f||n,id:"submit",children:Object(le.jsx)("span",{id:"button-text",children:d?Object(le.jsx)("div",{className:"spinner",id:"spinner"}):"Pay now"})})}),v&&Object(le.jsxs)("div",{className:"card-error",role:"alert",children:[" ",v," "]}),Object(le.jsx)("p",{className:n?"result-message text-center":"result-message hidden text-center",children:"Payment succeeded."})]}),Object(le.jsx)("div",{className:"row justify-content-center",children:n?Object(le.jsxs)(i.b,{to:"/",children:[" ",Object(le.jsx)("button",{className:"btn btn-sm",children:" Go back "})," "]}):Object(le.jsxs)(i.b,{to:"/plants/read/".concat(_),children:[" ",Object(le.jsx)("button",{className:"btn btn-sm",children:" Go back "})," "]})})]})},Ne=function(){var e=Object(o.b)();return Object(a.useEffect)((function(){var t=Object(ve.a)("pk_test_51IQBsPA6EAM4YnfDyrjHWnLHzZ5KkI9tsERzYhBGVoctZBrFUb4Sda035HvcQKpp7thFiqW6QmO8ytPbOAMTg33z00cHvcbojv");e(K(t)),u.animateScroll.scrollToTop()}),[]),Object(le.jsx)("div",{className:"container row mt-5",children:Object(le.jsx)("div",{className:"mt-5 col-11 col-md-6 offset-1 offset-md-5 App",children:Object(le.jsx)(we.Elements,{children:Object(le.jsx)(ye,{})})})})},Se=function(){var e=Object(o.c)((function(e){return e.jungleSwap.loggedInUser})),t=Object(o.c)((function(e){return e.jungleSwap.requests})),n=Object(o.c)((function(e){return e.jungleSwap.amountOfRequests})),c=Object(o.b)();return Object(a.useEffect)((function(){var e=function(){c(se(!1)),u.animateScroll.scrollToTop()};return c(R()),e(),function(){return e()}}),[]),e?t?Object(le.jsx)("div",{className:"container row mt-5",children:Object(le.jsxs)("div",{className:"mt-5 col-11 col-md-5 offset-1 offset-md-5",children:[Object(le.jsx)("h2",{children:" Your messages "}),Object(le.jsxs)("h3",{className:"mb-4",children:[" [",n,"] "]}),Object(le.jsxs)(i.b,{to:"/",children:[" ",Object(le.jsx)("button",{className:"btn btn-sm mt-4",children:" Go back "})," "]}),t.map((function(t){var n=t._id,a=t.buyer,c=t.seller,r=t.plant;return c._id===e._id&&Object(le.jsxs)("div",{className:"card p-3 mt-4 ",children:[Object(le.jsxs)("h4",{children:[" Request for: ",r.name," "]}),Object(le.jsxs)("h5",{children:[" by: ",a.loggedInUsername," "]}),Object(le.jsx)("div",{children:Object(le.jsx)(i.b,{className:"btn btn-outline-dark",to:"/requests/read/".concat(n),children:" Details "})})]},n)})),0!==n&&Object(le.jsxs)(i.b,{to:"/",children:[" ",Object(le.jsx)("button",{className:"btn btn-sm mt-4",children:" Go back "})," "]})]})}):Object(le.jsx)("div",{class:"spinner-grow text-success m-5",role:"status",children:Object(le.jsx)("span",{class:"visually-hidden",children:" Loading... "})}):Object(le.jsx)(l.a,{to:"/signup"})},ke=function(){var e=Object(o.c)((function(e){return e.jungleSwap.plant})),t=Object(o.c)((function(e){return e.jungleSwap.error})),n=Object(o.b)();Object(a.useEffect)((function(){n(B(null)),u.animateScroll.scrollToTop()}),[]);var c=e._id,r=e.name;return Object(le.jsx)("div",{className:"container row mt-5",children:Object(le.jsxs)("div",{className:"mt-5 col-11 col-md-5 offset-1 offset-md-5",children:[Object(le.jsx)("h2",{className:"mb-4",children:" Your mesage "}),Object(le.jsxs)("h3",{className:"mb-4",children:[" ",r," "]}),Object(le.jsxs)("form",{onSubmit:function(t){return function(e,t){var a=t._id,c=t.creator;e.preventDefault();var r=e.target.message,s={seller:c._id,plant:a,message:r.value};n(U(s))}(t,e)},children:[Object(le.jsx)("div",{children:Object(le.jsx)("textarea",{className:"mb-4",name:"message",cols:"35",rows:"7"})}),t&&Object(le.jsxs)("p",{className:"warningColor",children:[" ",t," "]}),Object(le.jsx)("button",{className:"btn btn-sm btn-outline-dark",type:"submit",children:" Send "}),Object(le.jsxs)(i.b,{to:"/plants/read/".concat(c),children:[" ",Object(le.jsx)("button",{className:"btn btn-sm mx-2",children:" Go back "})," "]})]})]})})},qe=function(){var e=Object(o.c)((function(e){return e.jungleSwap.request})),t=Object(l.h)().requestId,n=Object(o.b)(),c=Object(l.g)();Object(a.useEffect)((function(){n(E(t)),u.animateScroll.scrollToTop()}),[]);var r=e._id,s=e.buyer,d=e.plant,p=e.message,b=e.reply;return s&&d?Object(le.jsx)("div",{className:"container row mt-5 ",children:Object(le.jsxs)("div",{className:"mt-5 col-11 col-md-5 offset-1 offset-md-5",children:[Object(le.jsx)("h2",{className:"mb-5",children:" Your request "}),Object(le.jsxs)("h4",{children:[" for: ",d.name," "]}),Object(le.jsxs)("h5",{children:[" by: ",s.username," "]}),Object(le.jsxs)("p",{children:[" ",p," "]}),b&&Object(le.jsxs)("div",{children:[Object(le.jsx)("h5",{children:" Your reply: "}),Object(le.jsxs)("p",{children:[" ",b," "]})]}),Object(le.jsxs)("div",{children:[!b&&Object(le.jsxs)(i.b,{to:"/requests/update/".concat(r),children:[" ",Object(le.jsx)("button",{className:"btn btn-sm ml-2 btn-outline-dark",children:" Reply "})," "]}),Object(le.jsx)("button",{className:"btn btn-sm ml-2 btn-outline-dark",onClick:function(){return function(e){n(_(e)),n(ne((function(e){return e-1}))),c.push("/requests/fetch")}(r)},children:" Delete "})]}),Object(le.jsxs)(i.b,{to:"/requests/fetch",onClick:u.animateScroll.scrollToTop,children:[" ",Object(le.jsx)("button",{className:"btn btn-sm mt-4",children:" Go back "})," "]})]})}):Object(le.jsx)("div",{class:"spinner-grow text-success m-5",role:"status",children:Object(le.jsx)("span",{class:"visually-hidden",children:" Loading... "})})},Ce=function(){var e=Object(o.c)((function(e){return e.jungleSwap.request})),t=Object(o.b)(),n=Object(l.g)();Object(a.useEffect)((function(){return u.animateScroll.scrollToTop()}),[]);var c=e._id,r=e.message;return Object(le.jsx)("div",{className:"container row mt-5 ",children:Object(le.jsxs)("div",{className:"mt-2 col-11 col-md-5 offset-1 offset-md-5",children:[Object(le.jsx)("h2",{className:"mt-5 mb-4",children:" Reply your request "}),Object(le.jsx)("div",{className:"card cardSmallWidth mb-5",children:Object(le.jsxs)("div",{className:"card-body",children:[Object(le.jsxs)("p",{children:[" ",r," "]}),Object(le.jsx)("textarea",{className:"mb-4",name:"reply",cols:"31",rows:"6",placeholder:"Your reply",onChange:function(n){return function(e,n){var a=e.target,c=JSON.parse(JSON.stringify(n));c.reply=a.value,t(X(c))}(n,e)}}),Object(le.jsxs)("div",{className:"row justify-content-around",children:[Object(le.jsx)("button",{className:"btn btn-sm btn-outline-dark",onClick:function(){return function(e){var a=e._id,c=e.buyer,r=e.seller,s=e.plant,i=e.message,l=e.reply;t(T(a,{buyer:c,seller:r,plant:s,message:i,reply:l})),n.push("/requests/read/".concat(a))}(e)},children:" Submit "}),Object(le.jsxs)(i.b,{to:"/requests/read/".concat(c),children:[" ",Object(le.jsx)("button",{className:"btn btn-sm mx-2",children:" Go back "})," "]})]})]})})]})})},Ie=function(){return Object(le.jsx)("div",{className:"notFound",children:Object(le.jsxs)("div",{children:[Object(le.jsxs)("h2",{children:["Oh-oh! ",Object(le.jsx)("br",{})," ",Object(le.jsx)("br",{}),"We think you got lost in the jungle!"]}),Object(le.jsx)("h3",{children:" 404 Not Found "}),Object(le.jsxs)(i.b,{to:"/",children:[" ",Object(le.jsx)("button",{className:"btn btn-sm ml-2",children:" Take me home "})," "]})]})})},Pe=function(){return Object(a.useEffect)((function(){!function(e,t){var n=document.createElement("script");n.type="text/javascript",n.async=!0,n.src="https://widget.kommunicate.io/v2/kommunicate.app",document.getElementsByTagName("head")[0].appendChild(n),window.kommunicate=t,t._globals={appId:"10b22c52854a305b79bbdecc356bea5",popupWidget:!0,automaticChatOpenOnNavigation:!0}}(document,window.kommunicate||{})}),[]),Object(le.jsx)("div",{})},Re=Object(l.i)((function(){return Object(o.c)((function(e){return e.jungleSwap.isFetchingUser}))?Object(le.jsx)("div",{class:"spinner-grow text-success m-5",role:"status",children:Object(le.jsx)("span",{class:"visually-hidden",children:" Loading... "})}):Object(le.jsxs)("div",{class:"main",children:[Object(le.jsx)(oe,{}),Object(le.jsxs)(l.d,{children:[Object(le.jsx)(l.b,{exact:!0,path:"/",children:Object(le.jsx)(je,{})}),Object(le.jsx)(l.b,{path:"/plants/create",children:Object(le.jsx)(Oe,{})}),Object(le.jsx)(l.b,{path:"/plants/read/:plantId",children:Object(le.jsx)(xe,{})}),Object(le.jsx)(l.b,{path:"/plants/update",children:Object(le.jsx)(ge,{})}),Object(le.jsx)(l.b,{path:"/plants/checkout",children:Object(le.jsx)(Ne,{})}),Object(le.jsx)(l.b,{path:"/requests/fetch",children:Object(le.jsx)(Se,{})}),Object(le.jsx)(l.b,{path:"/requests/create",children:Object(le.jsx)(ke,{})}),Object(le.jsx)(l.b,{path:"/requests/read/:requestId",children:Object(le.jsx)(qe,{})}),Object(le.jsx)(l.b,{path:"/requests/update",children:Object(le.jsx)(Ce,{})}),Object(le.jsx)(l.b,{path:"/signup",children:Object(le.jsx)(me,{})}),Object(le.jsx)(l.b,{path:"/signin",children:Object(le.jsx)(he,{})}),Object(le.jsx)(l.b,{path:"/logout",children:Object(le.jsx)(fe,{})}),Object(le.jsx)(l.b,{component:Ie})]}),Object(le.jsx)(Pe,{}),Object(le.jsx)(ue,{})]})})),Ue="".concat(f,"/api"),Ee=(Object(h.b)("jungeSwap/readUserData",function(){var e=Object(m.a)(j.a.mark((function e(t){var n,a;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.dispatch,e.prev=1,e.next=4,x.a.get("".concat(Ue,"/user"),{withCredentials:!0});case 4:a=e.sent,n(Ae(a.data)),n(Je(!1)),e.next=13;break;case 9:e.prev=9,e.t0=e.catch(1),console.log("Initializing fetching failed",e.t0),n(Je(!1));case 13:case"end":return e.stop()}}),e,null,[[1,9]])})));return function(t){return e.apply(this,arguments)}}()),Object(h.b)("jungeSwap/fetchAllPlants",function(){var e=Object(m.a)(j.a.mark((function e(t){var n,a;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.dispatch,e.prev=1,e.next=4,x.a.get("".concat(Ue,"/plants/fetch"));case 4:a=e.sent,n(He(a.data)),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(1),console.log("Fetching plants failed",e.t0);case 11:case"end":return e.stop()}}),e,null,[[1,8]])})));return function(t){return e.apply(this,arguments)}}()),Object(h.b)("jungeSwap/fetchQueryPlants",function(){var e=Object(m.a)(j.a.mark((function e(t,n){var a,c;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:a=n.dispatch;try{c=x.a.get("".concat(Ue,"/plants/search?q=").concat(t)),a(He(c.data))}catch(r){console.log("Fetching query plants failed",r)}case 2:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()),Object(h.b)("jungeSwap/createPlant",function(){var e=Object(m.a)(j.a.mark((function e(t,n,a){var c,r,s,i,l,o,u,d,p,b,m;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return c=n.name,r=n.description,s=n.size,i=n.location,l=n.price,o=a.dispatch,e.prev=2,e.next=5,x.a.post("".concat(Ue,"/upload"),t);case 5:return u=e.sent,d=u.data,p=d.imageUrl,b=d.imagePublicId,m={name:c.value,description:r.value,size:s.value,imageUrl:p,imagePublicId:b,location:i.value,price:l.value},e.prev=8,e.next=11,x.a.post("".concat(Ue,"/plants/create"),m,{withCredentials:!0});case 11:u=e.sent,o(Fe(u.data)),e.next=18;break;case 15:e.prev=15,e.t0=e.catch(8),o(Le(e.t0.response.data.error));case 18:e.next=23;break;case 20:e.prev=20,e.t1=e.catch(2),o(Le(e.t1.response.data.error));case 23:case"end":return e.stop()}}),e,null,[[2,20],[8,15]])})));return function(t,n,a){return e.apply(this,arguments)}}()),Object(h.b)("jungeSwap/readPlant",function(){var e=Object(m.a)(j.a.mark((function e(t,n){var a,c;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=n.dispatch,e.prev=1,e.next=4,x.a.get("".concat(Ue,"/plants/read/").concat(t),{withCredentials:!0});case 4:c=e.sent,a(_e(c.data)),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(1),console.log("Read plant failed");case 11:case"end":return e.stop()}}),e,null,[[1,8]])})));return function(t,n){return e.apply(this,arguments)}}()),Object(h.b)("jungleSwap/imageChange",function(){var e=Object(m.a)(j.a.mark((function e(t,n,a,c){var r,s,i,l,o,u,d;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=c.dispatch,e.prev=1,e.next=4,x.a.post("".concat(Ue,"/destroy"),t);case 4:return e.prev=4,(s=new FormData).append("image",n),e.next=9,x.a.post("".concat(Ue,"/upload"),s);case 9:i=e.sent,l=i.data,o=l.imagePublicId,u=l.imageUrl,(d=JSON.parse(JSON.stringify(a))).imagePublicId=o,d.imageUrl=u,r(_e(d)),e.next=20;break;case 17:e.prev=17,e.t0=e.catch(4),console.log("Image upload failed",e.t0);case 20:e.next=25;break;case 22:e.prev=22,e.t1=e.catch(1),console.log("Delete old image failed",e.t1);case 25:case"end":return e.stop()}}),e,null,[[1,22],[4,17]])})));return function(t,n,a,c){return e.apply(this,arguments)}}()),Object(h.b)("jungleSwap/updatePlant",function(){var e=Object(m.a)(j.a.mark((function e(t,n,a){var c,r;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return c=a.dispatch,e.prev=1,e.next=4,x.a.patch("".concat(Ue,"/plants/update/").concat(t),n);case 4:r=e.sent,c(ze(r.data)),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(1),console.log("Update plant failed",e.t0);case 11:case"end":return e.stop()}}),e,null,[[1,8]])})));return function(t,n,a){return e.apply(this,arguments)}}()),Object(h.b)("jungleSwap/deletePlant",function(){var e=Object(m.a)(j.a.mark((function e(t,n,a){var c,r;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return c=a.dispatch,e.prev=1,r={imagePublicId:t},e.next=5,x.a.post("".concat(Ue,"/destroy"),r);case 5:return e.prev=5,e.next=8,x.a.delete("".concat(Ue,"/plants/delete/").concat(n));case 8:c(De(n)),e.next=14;break;case 11:e.prev=11,e.t0=e.catch(5),console.log("Delete plant failed",e.t0);case 14:e.next=19;break;case 16:e.prev=16,e.t1=e.catch(1),console.log("Delete image failed",e.t1);case 19:case"end":return e.stop()}}),e,null,[[1,16],[5,11]])})));return function(t,n,a){return e.apply(this,arguments)}}()),Object(h.b)("jungleSwap/createPayment",function(){var e=Object(m.a)(j.a.mark((function e(t,n){var a,c;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=n.dispatch,e.prev=1,e.next=4,x.a.post("".concat(Ue,"/create-payment-intent"),{price:t.price});case 4:c=e.sent,a(Me(c.data)),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(1),console.log("Create payment failed",e.t0);case 11:case"end":return e.stop()}}),e,null,[[1,8]])})));return function(t,n){return e.apply(this,arguments)}}()),Object(h.b)("jungleSwap/payPlant",function(){var e=Object(m.a)(j.a.mark((function e(t){return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.dispatch,e.prev=1,e.next=4,x.a.post("".concat(Ue,"/create-payment-intent"),{},{withCredentials:!0});case 4:e.next=9;break;case 6:e.prev=6,e.t0=e.catch(1),console.log("Checkout failed",e.t0);case 9:case"end":return e.stop()}}),e,null,[[1,6]])})));return function(t){return e.apply(this,arguments)}}()),Object(h.b)("jungleSwap/fetchAllRequests",function(){var e=Object(m.a)(j.a.mark((function e(t){var n,a;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.dispatch,e.prev=1,e.next=4,x.a.get("".concat(Ue,"/requests/fetch"));case 4:a=e.sent,n(We(a.data)),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(1),console.log("Fetching requests failed",e.t0);case 11:case"end":return e.stop()}}),e,null,[[1,8]])})));return function(t){return e.apply(this,arguments)}}()),Object(h.b)("jungleSwap/createRequest",function(){var e=Object(m.a)(j.a.mark((function e(t,n){var a,c;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=n.dispatch,e.prev=1,e.next=4,x.a.post("".concat(Ue,"/requests/create"),t,{withCredentials:!0});case 4:c=e.sent,a(Be(c.data)),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(1),a(Le(e.t0.response.data.error));case 11:case"end":return e.stop()}}),e,null,[[1,8]])})));return function(t,n){return e.apply(this,arguments)}}()),Object(h.b)("jungleswap/readRequest",function(){var e=Object(m.a)(j.a.mark((function e(t,n){var a,c;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=n.dispatch,e.prev=1,e.next=4,x.a.get("".concat(Ue,"/requests/read/").concat(t),{withCredentials:!0});case 4:c=e.sent,a(Ge(c.data)),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(1),console.log("Read request failed");case 11:case"end":return e.stop()}}),e,null,[[1,8]])})));return function(t,n){return e.apply(this,arguments)}}()),Object(h.b)("jungleSwap/updateRequest",function(){var e=Object(m.a)(j.a.mark((function e(t,n,a){var c,r;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return c=a.dispatch,e.prev=1,e.next=4,x.a.patch("".concat(Ue,"/requests/update/").concat(t),n);case 4:r=e.sent,c(Ye(r.data)),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(1),console.log("Update request failed",e.t0);case 11:case"end":return e.stop()}}),e,null,[[1,8]])})));return function(t,n,a){return e.apply(this,arguments)}}()),Object(h.b)("jungleSwap/deleteRequest",function(){var e=Object(m.a)(j.a.mark((function e(t,n){var a;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=n.dispatch,e.prev=1,e.next=4,x.a.delete("".concat(Ue,"/requests/delete/").concat(t));case 4:a(Qe(t)),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(1),console.log("Delete request failed",e.t0);case 10:case"end":return e.stop()}}),e,null,[[1,7]])})));return function(t,n){return e.apply(this,arguments)}}()),Object(h.b)("jungleSwap/signUp",function(){var e=Object(m.a)(j.a.mark((function e(t,n){var a,c;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=n.dispatch,e.prev=1,e.next=4,x.a.post("".concat(Ue,"/signup"),t);case 4:c=e.sent,a(Ae(c.data)),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(1),a(Le(e.t0.response.data.error));case 11:case"end":return e.stop()}}),e,null,[[1,8]])})));return function(t,n){return e.apply(this,arguments)}}()),Object(h.b)("jungleSwap/signIn",function(){var e=Object(m.a)(j.a.mark((function e(t,n){var a,c;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=n.dispatch,e.prev=1,e.next=4,x.a.post("".concat(Ue,"/signin"),t,{withCredentials:!0});case 4:c=e.sent,a(Ae(c.data)),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(1),a(Le(e.t0.response.data.error));case 11:case"end":return e.stop()}}),e,null,[[1,8]])})));return function(t,n){return e.apply(this,arguments)}}()),Object(h.b)("jungleSwap/logOut",function(){var e=Object(m.a)(j.a.mark((function e(t){var n;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.dispatch,e.prev=1,e.next=4,x.a.post("".concat(Ue,"/logout"),{},{withCredentials:!0});case 4:n(Ae(null)),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(1),console.log("Logout failed",e.t0);case 10:case"end":return e.stop()}}),e,null,[[1,7]])})));return function(t){return e.apply(this,arguments)}}()),Object(h.c)({name:"jungleSwap",initialState:{isFetchingUser:!0,loggedInUser:null,isUserChange:!1,plants:[],plant:{},requests:[],request:{},amountOfRequests:0,isNewRequest:!1,intervalId:null,minutesCounter:0,headerContainerHeight:0,aboutContainerHeight:0,clientSecret:"",error:null},reducers:{setPlant:function(e,t){e.plant=t.payload},setPlants:function(e,t){e.plants=t.payload},addPlant:function(e,t){e.plants.push(t.payload)},setPlantChanges:function(e,t){var n=t.payload,a=n._id,c=n.name,r=n.description,s=n.size,i=n.image,l=n.imagePublicId,o=n.location,u=n.price;e.plants=e.plants.map((function(e){return e._id===a&&(e.name=c,e.description=r,e.size=s,e.image=i,e.imagePublicId=l,e.location=o,e.price=u),e}))},removePlant:function(e,t){e.plants=e.plants.filter((function(e){return e._id!==t.payload}))},setError:function(e,t){e.error=t.payload},setLoggedInUser:function(e,t){e.loggedInUser=t.payload},setIsFetchingUser:function(e,t){e.isFetchingUser=t.payload},setPromise:function(e,t){e.promise=t.payload},setClientSecret:function(e,t){e.clientSecret=t.payload},setRequests:function(e,t){e.requests=t.payload},setRequest:function(e,t){e.request=t.payload},addRequest:function(e,t){e.requests.push(t.payload)},setRequestChanges:function(e,t){var n=t.payload,a=n._id,c=n.buyer,r=n.seller,s=n.plant,i=n.message,l=n.reply;e.requests=e.requests.map((function(e){return e._id===a&&(e.buyer=c,e.seller=r,e.plant=s,e.message=i,e.reply=l),e}))},removeRequest:function(e,t){e.requests=e.requests.filter((function(e){return e._id!==t.payload}))},setAmountOfRequests:function(e,t){e.amountOfRequests=t.payload},setIsNewRequest:function(e,t){e.isNewRequest=t.payload},setIntervalId:function(e,t){e.intervalId=t.payload},setIsUserChange:function(e,t){e.isUserChange=t.payload},setMinutesCounter:function(e,t){e.minutesCounter=t.payback},setElementsHeight:function(e,t){var n=t.payback,a=n.headerContainerHeight,c=n.aboutContainerHeight;e.headerContainerHeight=a,e.aboutContainerHeight=c}}})),Te=Ee.actions,_e=Te.setPlant,He=Te.setPlants,Fe=Te.addPlant,ze=Te.setPlantChanges,De=Te.removePlant,Le=Te.setError,Ae=Te.setLoggedInUser,Je=Te.setIsFetchingUser,Me=(Te.setPromise,Te.setClientSecret),We=Te.setRequests,Ge=Te.setRequest,Be=Te.addRequest,Ye=Te.setRequestChanges,Qe=Te.removeRequest,Ke=(Te.setAmountOfRequests,Te.setIntervalId,Te.setIsUserChange,Te.setMinutesCounter,Te.setIsNewRequest,Te.setElementsHeight,Ee.reducer),Ze=Object(h.a)({reducer:{jungleSwap:Ke}});n(95);s.a.render(Object(le.jsx)(c.a.StrictMode,{children:Object(le.jsx)(o.a,{store:Ze,children:Object(le.jsx)(i.a,{children:Object(le.jsx)(Re,{})})})}),document.querySelector("#root"))}},[[96,1,2]]]);
//# sourceMappingURL=main.8433ef51.chunk.js.map