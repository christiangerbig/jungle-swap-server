{"version":3,"sources":["Reducer/jungleSwapSlice.js","config.js","Components/NavBar.js","Components/Footer.js","Images/JungleSwap_Home.png","Images/JungleSwap_Icon.png","Screens/Home.js","Screens/SignUp.js","Screens/SignIn.js","Components/LogOut.js","Screens/CreatePlantForm.js","Screens/PlantDetails.js","Screens/UpdatePlantForm.js","Components/CheckoutForm.js","Screens/CheckoutPage.js","Screens/RequestsPage.js","Screens/CreateRequestForm.js","Screens/RequestDetails.js","Screens/UpdateRequestForm.js","Screens/NotFound.js","Components/Chat.js","App.js","store.js","index.js"],"names":["rootPath","process","fetchAllPlants","createAsyncThunk","options","a","dispatch","axios","get","response","setPlants","data","console","log","fetchQueryPlants","query","createPlant","uploadForm","plant","history","name","description","size","location","price","post","responseImage","imageUrl","imagePublicId","newPlant","withCredentials","responsePlant","addPlant","push","scrollToPlants","setError","error","responseInmage","readPlant","plantId","setPlant","imageChange","destroyImageData","image","FormData","append","clonePlant","JSON","parse","stringify","updatePlant","updatedPlant","patch","setPlantChanges","deletePlant","delete","removePlant","createPayment","setClientSecret","clientSecret","payPlant","fetchAllRequests","isUserChange","setRequests","setStartAmountOfRequests","createRequest","newRequest","addRequest","_id","readRequest","requestId","setRequest","updateRequest","updatedRequest","setRequestChanges","deleteRequest","removeRequest","decreaseAmountOfRequests","readUser","setLoggedInUser","setIsFetchingUser","signUp","newUser","setIsUserChange","signIn","user","logOut","intervalId","clearInterval","setIntervalId","setMinutesCounter","setIsNewRequest","scroll","scrollToTop","jungleSwapSlice","createSlice","initialState","isFetchingUser","loggedInUser","plants","requests","request","amountOfRequests","isNewRequest","minutesCounter","headerContainerHeight","aboutContainerHeight","reducers","state","action","payload","map","singlePlant","filter","buyer","seller","message","reply","singleRequest","currentRequest","length","setAmountOfRequests","increaseMinutesCounter","setHeaderContainerHeight","setAboutContainerHeight","scrollToAbout","scrollTo","actions","setPaymentPromise","NavBar","useSelector","jungleSwap","useDispatch","useEffect","setInterval","currentAmountOfRequests","Navbar","className","variant","expand","fixed","Brand","to","onClick","Toggle","aria-controls","Collapse","id","Nav","title","username","Footer","href","Home","useState","setQuery","Math","round","document","querySelector","getBoundingClientRect","height","class","role","src","alt","icon","type","placeholder","value","onChange","event","target","SignUp","useHistory","onSubmit","preventDefault","email","password","toLowerCase","handleSignUp","htmlFor","formnovalidate","SignIn","handleSignIn","LogOut","CreatePlantForm","plantImage","files","handleCreatePlant","min","PlantDetails","useParams","creator","forEach","handleDeletePlant","UpdatePlantForm","handlePlantEntryChange","itemNumber","handleImageChange","handleUpdatePlant","CheckoutForm","isSucceeded","setIsSucceeded","isProcessing","setIsProcessing","isDisabled","setIsDisabled","paymentError","setPaymentError","stripe","useStripe","elements","useElements","handleChange","empty","handleSubmitPayment","confirmCardPayment","payment_method","card","getElement","CardElement","style","base","color","fontFamily","fontSmoothing","fontSize","invalid","iconColor","disabled","promise","loadStripe","CheckoutPage","RequestsPage","handleResetAll","CreateRequestForm","handleCreateRequest","cols","rows","RequestDetails","UpdateRequestForm","cloneRequest","handleCreateReply","handleUpdateRequest","NotFound","KommunicateChat","d","m","s","createElement","async","getElementsByTagName","appendChild","window","kommunicate","_globals","withRouter","exact","path","component","store","configureStore","reducer","ReactDOM","render","StrictMode"],"mappings":"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","file":"static/js/main.dab2b968.chunk.js","sourcesContent":["import { createAsyncThunk, createSlice } from \"@reduxjs/toolkit\";\r\nimport config from \"../config\";\r\nimport axios from \"axios\";\r\nimport { animateScroll as scroll } from \"react-scroll\";\r\n\r\nconst initialState = {\r\n  isFetchingUser: true,\r\n  loggedInUser: null,\r\n  isUserChange: false,\r\n  plants: [],\r\n  plant: {},\r\n  requests: [],\r\n  request: {},\r\n  amountOfRequests: 0,\r\n  isNewRequest: false,\r\n  intervalId: null,\r\n  minutesCounter: 0,\r\n  headerContainerHeight: 0,\r\n  aboutContainerHeight: 0,\r\n  clientSecret: \"\",\r\n  error: null\r\n}\r\n\r\nconst rootPath = `${config.API_URL}/api`;\r\n\r\n// --------- Plants ---------\r\n// Fetch all plants\r\nexport const fetchAllPlants = createAsyncThunk(\r\n  \"jungleSwap/fetchAllPlants\",\r\n  async (options, { dispatch }) => {\r\n    try {\r\n      const response = await axios.get(`${rootPath}/plants/fetch`);\r\n      dispatch(setPlants(response.data));\r\n    }\r\n    catch (err) {\r\n      console.log(\"Fetching plants failed\", err);\r\n    }\r\n  }\r\n);\r\n\r\n// Fetch query plants\r\nexport const fetchQueryPlants = createAsyncThunk(\r\n  \"jungleSwap/fetchQueryPlants\",\r\n  async (query, { dispatch }) => {\r\n    try {\r\n      const response = await axios.get(`${rootPath}/plants/search?q=${query}`);\r\n      dispatch(setPlants(response.data));\r\n    }\r\n    catch (err) {\r\n      console.log(\"Fetching query plants failed\", err);\r\n    }\r\n  }\r\n);\r\n\r\n// Create plant\r\nexport const createPlant = createAsyncThunk(\r\n  \"jungleSwap/createPlant\",\r\n  async ({ uploadForm, plant, history }, { dispatch }) => {\r\n    const { name, description, size, location, price } = plant;\r\n    try {\r\n      const responseImage = await axios.post(\r\n        `${rootPath}/upload`,\r\n        uploadForm\r\n      );\r\n      const { imageUrl, imagePublicId } = responseImage.data;\r\n      const newPlant = {\r\n        name,\r\n        description,\r\n        size,\r\n        imageUrl,\r\n        imagePublicId,\r\n        location,\r\n        price\r\n      };\r\n      try {\r\n        const responsePlant = await axios.post(\r\n          `${rootPath}/plants/create`,\r\n          newPlant,\r\n          { withCredentials: true }\r\n        );\r\n        dispatch(addPlant(responsePlant.data));\r\n        history.push(\"/\");\r\n        dispatch(scrollToPlants());\r\n      }\r\n      catch (err) {\r\n        dispatch(setError(err.responsePlant.data.error));\r\n      }\r\n    }\r\n    catch (err) {\r\n      dispatch(setError(err.responseInmage.data.error));\r\n    }\r\n  }\r\n);\r\n\r\n// Read plant\r\nexport const readPlant = createAsyncThunk(\r\n  \"jungleSwap/readPlant\",\r\n  async (plantId, { dispatch }) => {\r\n    try {\r\n      const response = await axios.get(\r\n        `${rootPath}/plants/read/${plantId}`,\r\n        { withCredentials: true }\r\n      );\r\n      dispatch(setPlant(response.data));\r\n    }\r\n    catch {\r\n      console.log(\"Read plant failed\");\r\n    }\r\n  }\r\n);\r\n\r\n// Plant image change\r\nexport const imageChange = createAsyncThunk(\r\n  \"jungleSwap/imageChange\",\r\n  async ({ destroyImageData, image, plant }, { dispatch }) => {\r\n    try {\r\n      await axios.post(\r\n        `${rootPath}/destroy`,\r\n        destroyImageData\r\n      );\r\n      try {\r\n        const uploadForm = new FormData();\r\n        uploadForm.append(\"image\", image);\r\n        const response = await axios.post(\r\n          `${rootPath}/upload`,\r\n          uploadForm\r\n        );\r\n        const { imagePublicId, imageUrl } = response.data;\r\n        const clonePlant = JSON.parse(JSON.stringify(plant));\r\n        clonePlant.imagePublicId = imagePublicId;\r\n        clonePlant.imageUrl = imageUrl;\r\n        dispatch(setPlant(clonePlant));\r\n      }\r\n      catch (err) {\r\n        console.log(\"Image upload failed\", err);\r\n      }\r\n    }\r\n    catch (err) {\r\n      console.log(\"Delete old image failed\", err);\r\n    }\r\n  }\r\n);\r\n\r\n// Update plant\r\nexport const updatePlant = createAsyncThunk(\r\n  \"jungleSwap/updatePlant\",\r\n  async ({ plantId, updatedPlant, history }, { dispatch }) => {\r\n    try {\r\n      const response = await axios.patch(\r\n        `${rootPath}/plants/update/${plantId}`,\r\n        updatedPlant\r\n      );\r\n      dispatch(setPlantChanges(response.data));\r\n      history.push(\"/\");\r\n      dispatch(scrollToPlants());\r\n    }\r\n    catch (err) {\r\n      console.log(\"Update plant failed\", err);\r\n    }\r\n  }\r\n);\r\n\r\n// Delete Plant\r\nexport const deletePlant = createAsyncThunk(\r\n  \"jungleSwap/deletePlant\",\r\n  async ({ imagePublicId, plantId, history }, { dispatch }) => {\r\n    try {\r\n      const destroyImageData = {\r\n        imagePublicId\r\n      }\r\n      await axios.post(\r\n        `${rootPath}/destroy`,\r\n        destroyImageData\r\n      );\r\n      try {\r\n        await axios.delete(`${rootPath}/plants/delete/${plantId}`);\r\n        dispatch(removePlant(plantId));\r\n        history.push(\"/\");\r\n        dispatch(scrollToPlants());\r\n      }\r\n      catch (err) {\r\n        console.log(\"Delete plant failed\", err);\r\n      }\r\n    }\r\n    catch (err) {\r\n      console.log(\"Delete image failed\", err);\r\n    }\r\n  }\r\n);\r\n\r\n// Create plant payment\r\nexport const createPayment = createAsyncThunk(\r\n  \"jungleSwap/createPayment\",\r\n  async (plant, { dispatch }) => {\r\n    try {\r\n      const response = await axios.post(\r\n        `${rootPath}/create-payment-intent`,\r\n        { price: plant.price }\r\n      );\r\n      dispatch(setClientSecret(response.data.clientSecret));\r\n    }\r\n    catch (err) {\r\n      console.log(\"Create payment failed\", err);\r\n    }\r\n  }\r\n);\r\n\r\n// Pay plant\r\nexport const payPlant = createAsyncThunk(\r\n  \"jungleSwap/payPlant\",\r\n  async ({ history }, { dispatch }) => {\r\n    try {\r\n      await axios.post(\r\n        `${rootPath}/create-payment-intent`,\r\n        {},\r\n        { withCredentials: true }\r\n      );\r\n      history.push(\"/\");\r\n      dispatch(scrollToPlants());\r\n    }\r\n    catch (err) {\r\n      console.log(\"Checkout failed\", err);\r\n    }\r\n  }\r\n);\r\n\r\n// --------- Requests ----------\r\n// Fetch all requests\r\nexport const fetchAllRequests = createAsyncThunk(\r\n  \"jungleSwap/fetchAllRequests\",\r\n  async (isUserChange, { dispatch }) => {\r\n    try {\r\n      const response = await axios.get(`${rootPath}/requests/fetch`);\r\n      dispatch(setRequests(response.data));\r\n      isUserChange && (dispatch(setStartAmountOfRequests()));\r\n    }\r\n    catch (err) {\r\n      console.log(\"Fetching requests failed\", err);\r\n    }\r\n  }\r\n);\r\n\r\n// Create request\r\nexport const createRequest = createAsyncThunk(\r\n  \"jungleSwap/createRequest\",\r\n  async ({ newRequest, history }, { dispatch }) => {\r\n    try {\r\n      const response = await axios.post(\r\n        `${rootPath}/requests/create`,\r\n        newRequest,\r\n        { withCredentials: true }\r\n      );\r\n      dispatch(addRequest(response.data));\r\n      history.push(`/plants/read/${response.data.plant._id}`);\r\n    }\r\n    catch (err) {\r\n      dispatch(setError(err.response.data.error));\r\n    }\r\n  }\r\n);\r\n\r\n// Read request\r\nexport const readRequest = createAsyncThunk(\r\n  \"jungleSwap/readRequest\",\r\n  async (requestId, { dispatch }) => {\r\n    try {\r\n      const response = await axios.get(\r\n        `${rootPath}/requests/read/${requestId}`,\r\n        { withCredentials: true }\r\n      );\r\n      dispatch(setRequest(response.data));\r\n    }\r\n    catch {\r\n      console.log(\"Read request failed\");\r\n    }\r\n  }\r\n);\r\n\r\n// Update request\r\nexport const updateRequest = createAsyncThunk(\r\n  \"jungleSwap/updateRequest\",\r\n  async ({ requestId, updatedRequest, history }, { dispatch }) => {\r\n    try {\r\n      const response = await axios.patch(\r\n        `${rootPath}/requests/update/${requestId}`,\r\n        updatedRequest\r\n      );\r\n      dispatch(setRequestChanges(response.data));\r\n      history.push(`/requests/read/${requestId}`);\r\n    }\r\n    catch (err) {\r\n      console.log(\"Update request failed\", err);\r\n    }\r\n  }\r\n);\r\n\r\n// Delete request\r\nexport const deleteRequest = createAsyncThunk(\r\n  \"jungleSwap/deleteRequest\",\r\n  async ({requestId, history}, { dispatch }) => {\r\n    try {\r\n      await axios.delete(`${rootPath}/requests/delete/${requestId}`);\r\n      dispatch(removeRequest(requestId));\r\n      dispatch(decreaseAmountOfRequests());\r\n      history && (history.push(\"/requests/fetch\"));\r\n    }\r\n    catch (err) {\r\n      console.log(\"Delete request failed\", err);\r\n    }\r\n  }\r\n);\r\n\r\n// ---------- User authentification ----------\r\n// Read user\r\nexport const readUser = createAsyncThunk(\r\n  \"jungleSwap/readUserData\",\r\n  async (options, { dispatch }) => {\r\n    try {\r\n      const response = await axios.get(\r\n        `${rootPath}/user`,\r\n        { withCredentials: true }\r\n      );\r\n      dispatch(setLoggedInUser(response.data));\r\n      dispatch(setIsFetchingUser(false));\r\n    }\r\n    catch (err) {\r\n      console.log(\"Initializing fetching failed\", err);\r\n      dispatch(setIsFetchingUser(false));\r\n    }\r\n  }\r\n);\r\n\r\n// Sign up\r\nexport const signUp = createAsyncThunk(\r\n  \"jungleSwap/signUp\",\r\n  async ({ newUser, history }, { dispatch }) => {\r\n    try {\r\n      const response = await axios.post(\r\n        `${rootPath}/signup`,\r\n        newUser\r\n      );\r\n      dispatch(setLoggedInUser(response.data));\r\n      dispatch(setIsUserChange(true));\r\n      history.push(\"/\");\r\n    }\r\n    catch (err) {\r\n      dispatch(setError(err.response.data.error));\r\n    }\r\n  }\r\n);\r\n\r\n// Sign in\r\nexport const signIn = createAsyncThunk(\r\n  \"jungleSwap/signIn\",\r\n  async ({ user, history }, { dispatch }) => {\r\n    try {\r\n      const response = await axios.post(\r\n        `${rootPath}/signin`,\r\n        user,\r\n        { withCredentials: true }\r\n      );\r\n      dispatch(setLoggedInUser(response.data));\r\n      dispatch(setIsUserChange(true));\r\n      history.push(\"/\");\r\n    }\r\n    catch (err) {\r\n      dispatch(setError(err.response.data.error));\r\n    }\r\n  }\r\n);\r\n\r\n// LogOut\r\nexport const logOut = createAsyncThunk(\r\n  \"jungleSwap/logOut\",\r\n  async ({ intervalId, history }, { dispatch }) => {\r\n    try {\r\n      await axios.post(\r\n        `${rootPath}/logout`,\r\n        {},\r\n        { withCredentials: true }\r\n      );\r\n      dispatch(setLoggedInUser(null));\r\n      clearInterval(intervalId);\r\n      dispatch(setIntervalId(null));\r\n      dispatch(setMinutesCounter(0));\r\n      dispatch(setIsNewRequest(false));\r\n      history.push(\"/\");\r\n      scroll.scrollToTop();\r\n    }\r\n    catch (err) {\r\n      console.log(\"Logout failed\", err);\r\n    }\r\n  }\r\n);\r\n\r\n\r\n// ---------- Slices -----------\r\nexport const jungleSwapSlice = createSlice({\r\n  name: \"jungleSwap\",\r\n  initialState,\r\n  reducers: {\r\n\r\n    // --------- Plants ----------\r\n    setPlants: (state, action) => {\r\n      state.plants = action.payload;\r\n    },\r\n    setPlant: (state, action) => {\r\n      state.plant = action.payload;\r\n    },\r\n    addPlant: (state, action) => {\r\n      state.plants.push(action.payload);\r\n    },\r\n    setPlantChanges: (state, action) => {\r\n      const { _id, name, description, size, imageUrl, imagePublicId, location, price } = action.payload;\r\n      state.plants = state.plants.map(\r\n        singlePlant => {\r\n          if (singlePlant._id === _id) {\r\n            singlePlant.name = name;\r\n            singlePlant.description = description;\r\n            singlePlant.size = size;\r\n            singlePlant.imageUrl = imageUrl;\r\n            singlePlant.imagePublicId = imagePublicId;\r\n            singlePlant.location = location;\r\n            singlePlant.price = price;\r\n          }\r\n          return singlePlant;\r\n        }\r\n      );\r\n    },\r\n    removePlant: (state, action) => {\r\n      state.plants = state.plants.filter(plant => plant._id !== action.payload);\r\n    },\r\n    setClientSecret: (state, action) => {\r\n      state.clientSecret = action.payload;\r\n    },\r\n\r\n    // ---------- Requests ----------\r\n    setRequests: (state, action) => {\r\n      state.requests = action.payload;\r\n    },\r\n    setRequest: (state, action) => {\r\n      state.request = action.payload;\r\n    },\r\n    addRequest: (state, action) => {\r\n      state.requests.push(action.payload);\r\n    },\r\n    setRequestChanges: (state, action) => {\r\n      const { _id, buyer, seller, plant, message, reply } = action.payload;\r\n      state.requests = state.requests.map(\r\n        singleRequest => {\r\n          if (singleRequest._id === _id) {\r\n            singleRequest.buyer = buyer;\r\n            singleRequest.seller = seller;\r\n            singleRequest.plant = plant;\r\n            singleRequest.message = message;\r\n            singleRequest.reply = reply;\r\n          }\r\n          return singleRequest;\r\n        }\r\n      )\r\n    },\r\n    removeRequest: (state, action) => {\r\n      state.requests = state.requests.filter(request => request._id !== action.payload);\r\n    },\r\n    setStartAmountOfRequests: (state, action) => {\r\n      state.amountOfRequests = state.requests.filter(currentRequest => currentRequest.seller._id === state.loggedInUser._id).length;\r\n    },\r\n    setAmountOfRequests: (state, action) => {\r\n      state.amountOfRequests = action.payload;\r\n    },\r\n    setIsNewRequest: (state, action) => {\r\n      state.isNewRequest = action.payload;\r\n    },\r\n    setIntervalId: (state, action) => {\r\n      state.intervalId = action.payload;\r\n    },\r\n    setMinutesCounter: (state, action) => {\r\n      state.minutesCounter = action.payload;\r\n    },\r\n    increaseMinutesCounter: (state, action) => {\r\n      state.minutesCounter += 1;\r\n    },\r\n    decreaseAmountOfRequests: (state, action) => {\r\n      state.amountOfRequests -= 1;\r\n    },\r\n\r\n\r\n    // ---------- User authentification ----------\r\n    setLoggedInUser: (state, action) => {\r\n      state.loggedInUser = action.payload;\r\n    },\r\n    setIsFetchingUser: (state, action) => {\r\n      state.isFetchingUser = action.payload;\r\n    },\r\n    setIsUserChange: (state, action) => {\r\n      state.isUserChange = action.payload;\r\n    },\r\n    setError: (state, action) => {\r\n      state.error = action.payload;\r\n    },\r\n\r\n    // ---------- HTML elements ----------\r\n    setHeaderContainerHeight: (state, action) => {\r\n      state.headerContainerHeight = action.payload;\r\n    },\r\n    setAboutContainerHeight: (state, action) => {\r\n      state.aboutContainerHeight = action.payload;\r\n    },\r\n    scrollToAbout: (state, action) => {\r\n      scroll.scrollTo(state.headerContainerHeight);\r\n    },\r\n    scrollToPlants: (state, action) => {\r\n      scroll.scrollTo((state.headerContainerHeight + state.aboutContainerHeight));\r\n    },\r\n\r\n  }\r\n});\r\n\r\nexport const {\r\n\r\n  // ----------- Plants ----------\r\n  setPlants,\r\n  setPlant,\r\n  addPlant,\r\n  setPlantChanges,\r\n  removePlant,\r\n  setPaymentPromise,\r\n  setClientSecret,\r\n\r\n  // ---------- Requests ----------\r\n  setRequests,\r\n  setRequest,\r\n  addRequest,\r\n  setRequestChanges,\r\n  removeRequest,\r\n  setStartAmountOfRequests,\r\n  setAmountOfRequests,\r\n  setIsNewRequest,\r\n  setIntervalId,\r\n  setMinutesCounter,\r\n  increaseMinutesCounter,\r\n  decreaseAmountOfRequests,\r\n\r\n  // ---------- User authentification ----------\r\n  setLoggedInUser,\r\n  setIsFetchingUser,\r\n  setIsUserChange,\r\n  setError,\r\n\r\n  // ---------- HTML elements ----------\r\n  setHeaderContainerHeight,\r\n  setAboutContainerHeight,\r\n  scrollToAbout,\r\n  scrollToPlants,\r\n\r\n} = jungleSwapSlice.actions;\r\n\r\nexport default jungleSwapSlice.reducer;","export default {API_URL: process.env.REACT_APP_SERVER_URL};","import React, { useEffect } from \"react\";\r\nimport { Link } from \"react-router-dom\";\r\nimport { useSelector, useDispatch } from \"react-redux\";\r\nimport { animateScroll as scroll } from \"react-scroll\";\r\nimport { Navbar, Nav } from \"react-bootstrap\";\r\nimport { fetchAllRequests, setIsUserChange, setIntervalId, increaseMinutesCounter, setMinutesCounter, setAmountOfRequests, setIsNewRequest, scrollToPlants } from \"../Reducer/jungleSwapSlice\";\r\n\r\nconst NavBar = () => {\r\n  const loggedInUser = useSelector(state => state.jungleSwap.loggedInUser);\r\n  const isUserChange = useSelector(state => state.jungleSwap.isUserChange);\r\n  const requests = useSelector(state => state.jungleSwap.requests);\r\n  const isNewRequest = useSelector(state => state.jungleSwap.isNewRequest);\r\n  const intervalId = useSelector(state => state.jungleSwap.intervalId);\r\n  const minutesCounter = useSelector(state => state.jungleSwap.minutesCounter);\r\n  const amountOfRequests = useSelector(state => state.jungleSwap.amountOfRequests);\r\n  const dispatch = useDispatch();\r\n\r\n  // Stop interval at cleanup\r\n  useEffect(\r\n    () => {\r\n      return () => {\r\n        if (intervalId) {\r\n          clearInterval(intervalId);\r\n          dispatch(setIntervalId(null));\r\n          dispatch(setMinutesCounter(0));\r\n        }\r\n      }\r\n    },\r\n    []\r\n  );\r\n\r\n  // Start request check if user changes\r\n  useEffect(\r\n    () => {\r\n      if (isUserChange) {\r\n        dispatch(fetchAllRequests(isUserChange));\r\n        dispatch(setIsUserChange(false));\r\n        dispatch(setIntervalId(setInterval(\r\n          () => dispatch(increaseMinutesCounter()),\r\n          10000 // every minute\r\n        )));\r\n      }\r\n    },\r\n    [isUserChange]\r\n  );\r\n\r\n  // Check new requests for logged in user every minute\r\n  useEffect(\r\n    () => {\r\n      if (loggedInUser) {\r\n        dispatch(fetchAllRequests(isUserChange));\r\n        const currentAmountOfRequests = requests.filter(currentRequest => currentRequest.seller._id === loggedInUser._id).length;\r\n        if (amountOfRequests < currentAmountOfRequests) {\r\n          dispatch(setAmountOfRequests(currentAmountOfRequests));\r\n          dispatch(setIsNewRequest(true));\r\n        }\r\n      }\r\n    },\r\n    [minutesCounter]\r\n  );\r\n\r\n  return (\r\n    <div>\r\n      <Navbar className=\"pl-5\" variant=\"dark\" expand=\"lg\" fixed=\"top\">\r\n        <Navbar.Brand> <Link to=\"/\" onClick={scroll.scrollToTop}> JungleSwap </Link> </Navbar.Brand>\r\n        <Navbar.Toggle aria-controls=\"basic-navbar-nav\" />\r\n        <Navbar.Collapse id=\"basic-navbar-nav\">\r\n          <Nav className=\"mr-auto\">\r\n            <div>\r\n              <Link to=\"/\" className=\"p-2\" onClick={() => dispatch(scrollToPlants())}> All Plants </Link>\r\n            </div>\r\n            {\r\n              loggedInUser && (\r\n                <div>\r\n                  <Link className=\"p-2\" to=\"/plants/create\"> Create Plant </Link>\r\n                  <Link className={isNewRequest ? \"p-2 alertColor\" : \"p-2\"} to=\"/requests/fetch\" title={isNewRequest ? \"new message\" : null}> Messages </Link>\r\n                </div>\r\n              )\r\n            }\r\n            {\r\n              loggedInUser ? (\r\n                <div>\r\n                  <Link className=\"p-2\" to=\"/logout\" title={loggedInUser.username}> Log out </Link>\r\n                </div>\r\n              ) : (\r\n                <div>\r\n                  <Link className=\"p-2\" to=\"/signin\"> Sign in </Link>\r\n                  <Link className=\"p-2\" to=\"/signup\"> Sign up </Link>\r\n                </div>\r\n              )\r\n            }\r\n          </Nav>\r\n        </Navbar.Collapse>\r\n      </Navbar>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default NavBar;","import React from \"react\";\r\nimport { Link } from \"react-router-dom\";\r\n\r\nconst Footer = () => {\r\n  return (\r\n    <div className=\"footer-row\">\r\n      <footer>\r\n         2021\r\n        <Link href=\"https://www.linkedin.com/in/christian-gerbig/\"> Christian Gerbig </Link>\r\n        &\r\n        <Link href=\"https://www.linkedin.com/in/lisa-montebaur/\"> Lisa Montebaur </Link>\r\n      </footer>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default Footer;","export default __webpack_public_path__ + \"static/media/JungleSwap_Home.c4ed9b4c.png\";","export default __webpack_public_path__ + \"static/media/JungleSwap_Icon.a6c7c44a.png\";","import React, { useEffect, useState } from \"react\";\r\nimport { Link } from \"react-router-dom\";\r\nimport { useSelector, useDispatch } from \"react-redux\";\r\nimport { fetchAllPlants, fetchQueryPlants, readUser, setHeaderContainerHeight, setAboutContainerHeight, scrollToAbout } from \"../Reducer/jungleSwapSlice\";\r\nimport image from \"../Images/JungleSwap_Home.png\";\r\nimport icon from \"../Images/JungleSwap_Icon.png\";\r\n\r\nconst Home = () => {\r\n  const isFetchingUser = useSelector(state => state.jungleSwap.isFetchingUser);\r\n  const loggedInUser = useSelector(state => state.jungleSwap.loggedInUser);\r\n  const plants = useSelector(state => state.jungleSwap.plants);\r\n  const [query, setQuery] = useState(\"\");\r\n  const dispatch = useDispatch();\r\n\r\n  // Load plants and user data as soon as page loads\r\n  useEffect(\r\n    () => {\r\n      dispatch(fetchAllPlants());\r\n      !loggedInUser && dispatch(readUser());\r\n      const headerContainerHeight = Math.round(document.querySelector(\"#titleId\").getBoundingClientRect().height);\r\n      dispatch(setHeaderContainerHeight(headerContainerHeight));\r\n      const aboutContainerHeight = Math.round(document.querySelector(\"#aboutId\").getBoundingClientRect().height);\r\n      dispatch(setAboutContainerHeight(aboutContainerHeight));\r\n    },\r\n    []\r\n  );\r\n\r\n  // Handle plant search result if user types in query\r\n  useEffect(\r\n    () => {\r\n      query ? dispatch(fetchQueryPlants(query)) : dispatch(fetchAllPlants())\r\n    },\r\n    [query]\r\n  );\r\n\r\n  // Search plant\r\n  const handleSearchPlant = event => setQuery(event.target.value)\r\n\r\n  return (\r\n    <div>\r\n\r\n      {!plants && (\r\n        <div class=\"spinner-grow text-success m-5\" role=\"status\">\r\n          <span class=\"visually-hidden\"> <br /> <br /> Loading plants... </span>\r\n        </div>\r\n      )}\r\n\r\n      {isFetchingUser && (\r\n        <div class=\"spinner-grow text-success m-5\" role=\"status\">\r\n          <span class=\"visually-hidden\"> <br /> <br /> Loading user data... </span>\r\n        </div>\r\n      )}\r\n\r\n      <header className=\"text-center pt-5 pb-5 headerImg\" id=\"titleId\">\r\n        <div className=\"row my-5\">\r\n          <div className=\"col-6 offset-3 my-5 borderAround\">\r\n            <h2 className=\"title mb-2\"> JungleSwap </h2>\r\n            <h5 className=\"mt-3 mb-5\"> Share your green heart </h5>\r\n            <div className=\"mb-5\">\r\n              <Link className=\"biggerFontSize\" onClick={() => dispatch(scrollToAbout())}> Try it! </Link>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </header>\r\n\r\n      <section id=\"aboutId\">\r\n        <div className=\"about centered container\">\r\n          <div className=\"row\">\r\n            <div className=\"col-sm-6 col-md-5 col-lg-6\">\r\n              <img className=\"image\" src={image} alt=\"plants\" />\r\n            </div>\r\n            <br />\r\n            <div className=\"about col-sm-6 col-md-5 col-lg-6 px-5 noOverflow\">\r\n              <h4> Welcome to JungleSwap! </h4>\r\n              <h5> Add green to your Home </h5>\r\n              <p> It\"s easy-peasy. <br />\r\n                Share your plant offshoots. <br />\r\n                Make money! <br />\r\n                Or swap them for another plant. <br />\r\n                Don\"t have any baby plants? <br />\r\n                You can simply shop and give a plant a new home.\r\n              </p>\r\n              <img className=\"icon\" src={icon} alt=\"icon\" />\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </section>\r\n\r\n      <section>\r\n        <div className=\"container mt-5\">\r\n          <div className=\"mt-5 mb-3\">\r\n            <h2> Plants </h2>\r\n            <hr />\r\n            <h4> Search a plant </h4>\r\n          </div>\r\n          <div className=\"mb-4\">\r\n            <input className=\"smallWidth form-control\" type=\"text\" placeholder=\"Search...\" value={query} onChange={handleSearchPlant} />\r\n          </div>\r\n          <div className=\"row row-cols-1 row-cols-md-3 g-4\">\r\n            {\r\n              plants && (\r\n                plants.map(\r\n                  plant => {\r\n                    const { _id, name, imageUrl, price } = plant;\r\n                    return (\r\n                      <div className=\"col mb-5\" key={_id}>\r\n                        <div className=\"card card-medium-width text-center h-100\">\r\n                          <img className=\"card-img-top mediumPicSize\" src={imageUrl} alt={name} />\r\n                          <div className=\"card-body mb-5\">\r\n                            <h5> {name} </h5>\r\n                            <p> {price}  </p>\r\n                            <Link className=\"btn btn-outline-dark\" to={`/plants/read/${_id}`}> Details </Link>\r\n                          </div>\r\n                        </div>\r\n                      </div>\r\n                    );\r\n                  }\r\n                )\r\n              )\r\n            }\r\n          </div>\r\n        </div>\r\n      </section>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default Home;","import React, { useEffect } from \"react\";\r\nimport { Link, useHistory } from \"react-router-dom\";\r\nimport { useSelector, useDispatch } from \"react-redux\";\r\nimport { animateScroll as scroll } from \"react-scroll\";\r\nimport { setError, setIsNewRequest, signUp } from \"../Reducer/jungleSwapSlice\";\r\n\r\nconst SignUp = () => {\r\n  const error = useSelector(state => state.jungleSwap.error);\r\n  const dispatch = useDispatch();\r\n  const history = useHistory();\r\n\r\n  // Clear variables and scroll to top as soon as page loads\r\n  useEffect(\r\n    () => {\r\n      dispatch(setError(null));\r\n      dispatch(setIsNewRequest(false));\r\n      scroll.scrollToTop();\r\n    },\r\n    []\r\n  );\r\n\r\n  // Sign up\r\n  const handleSignUp = (event, history) => {\r\n    event.preventDefault();\r\n    const { username, email, password } = event.target;\r\n    const newUser = {\r\n      username: username.value,\r\n      email: email.value.toLowerCase(),\r\n      password: password.value\r\n    };\r\n    dispatch(signUp({ newUser, history }));\r\n  }\r\n\r\n  return (\r\n    <div className=\"container row mt-5\">\r\n      <div className=\"mt-5 col-11 col-md-5 offset-1 offset-md-5\">\r\n        <h2 className=\"mb-5\"> Sign Up </h2>\r\n        <form onSubmit={event => handleSignUp(event, history)}>\r\n          <div className=\"form-group\">\r\n            <label htmlFor=\"InputUsername\"> Username </label>\r\n            <input type=\"text\" className=\"form-control\" id=\"InputUsername\" name=\"username\" />\r\n          </div>\r\n          <div className=\"form-group\">\r\n            <label htmlFor=\"InputEmail\"> Email address </label>\r\n            <input type=\"email\" className=\"form-control\" id=\"InputEmail\" name=\"email\" />\r\n          </div>\r\n          <div className=\"form-group\">\r\n            <label htmlFor=\"InputPassword\"> Password </label>\r\n            <input name=\"password\" type=\"password\" className=\"form-control\" id=\"InputPassword\" />\r\n          </div>\r\n          {error && (<p className=\"warningColor\"> {error} </p>)}\r\n          <button type=\"submit\" className=\"btn btn-primary mt-4 btn-outline-dark\" formnovalidate=\"formnovalidate\"> Sign up </button>\r\n          <p className=\"padding\"> Already have an account? </p>\r\n          <Link to={\"/signin\"}> Sign in </Link>\r\n        </form>\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default SignUp;","import React, { useEffect } from \"react\";\r\nimport { useHistory } from \"react-router-dom\";\r\nimport { useSelector, useDispatch } from \"react-redux\";\r\nimport { animateScroll as scroll } from \"react-scroll\";\r\nimport { setError, setIsNewRequest, signIn } from \"../Reducer/jungleSwapSlice\";\r\n\r\nconst SignIn = () => {\r\n  const error = useSelector(state => state.jungleSwap.error);\r\n  const dispatch = useDispatch();\r\n  const history = useHistory();\r\n\r\n  // Clear variables and scroll to top as soon as page loads\r\n  useEffect(\r\n    () => {\r\n      dispatch(setError(null));\r\n      dispatch(setIsNewRequest(false));\r\n      scroll.scrollToTop();\r\n    },\r\n    []\r\n  );\r\n\r\n  // Sign in\r\n  const handleSignIn = (event, history) => {\r\n    event.preventDefault();\r\n    const { email, password } = event.target;\r\n    const user = {\r\n      email: email.value,\r\n      password: password.value\r\n    };\r\n    dispatch(signIn({ user, history }));\r\n  }\r\n\r\n  return (\r\n    <div className=\"container row mt-5 custom fullscreen\">\r\n      <div className=\"mt-5 col-11 col-md-5 offset-1 offset-md-5\">\r\n        <h2 className=\"mb-5\"> Sign In </h2>\r\n        <form onSubmit={event => handleSignIn(event, history)}>\r\n          <div className=\"form-group\">\r\n            <label htmlFor=\"InputEmail\"> Email address </label>\r\n            <input type=\"email\" className=\"form-control\" id=\"InputEmail\" name=\"email\" />\r\n          </div>\r\n          <div className=\"form-group\">\r\n            <label htmlFor=\"InputPassword\"> Password </label>\r\n            <input name=\"password\" type=\"password\" className=\"form-control\" id=\"InputPassword\" />\r\n          </div>\r\n          {error && (<p className=\"warningColor\"> {error} </p>)}\r\n          <button type=\"submit\" className=\"btn btn-primary mt-4 btn-outline-dark\" formnovalidate=\"formnovalidate\"> Sign in </button>\r\n        </form>\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default SignIn;","import React, { useEffect } from \"react\";\r\nimport { useHistory } from \"react-router-dom\";\r\nimport { useSelector, useDispatch } from \"react-redux\";\r\nimport { logOut } from \"../Reducer/jungleSwapSlice\";\r\n\r\nconst LogOut = () => {\r\n  const intervalId = useSelector(state => state.jungleSwap.intervalId);\r\n  const dispatch = useDispatch();\r\n  const history = useHistory();\r\n\r\n  // Log out, stop interval, reset variables and scroll to top as soon as page loads\r\n  useEffect(\r\n    () => dispatch(logOut({ intervalId, history })),\r\n    []\r\n  );\r\n\r\n  return (<div />);\r\n}\r\n\r\nexport default LogOut;","import React, { useEffect } from \"react\";\r\nimport { Link, Redirect, useHistory } from \"react-router-dom\";\r\nimport { useSelector, useDispatch } from \"react-redux\";\r\nimport { animateScroll as scroll } from \"react-scroll\";\r\nimport { createPlant, setError } from \"../Reducer/jungleSwapSlice\";\r\n\r\nconst CreatePlantForm = () => {\r\n  const loggedInUser = useSelector(state => state.jungleSwap.loggedInUser);\r\n  const error = useSelector(state => state.jungleSwap.error);\r\n  const dispatch = useDispatch();\r\n  const history = useHistory();\r\n\r\n  // Scroll to top as soon as page loads and scroll to plants section during cleanup\r\n  useEffect(\r\n    () => {\r\n      dispatch(setError(null));\r\n      scroll.scrollToTop();\r\n    },\r\n    []\r\n  );\r\n\r\n  // Create plant\r\n  const handleCreatePlant = (event, history) => {\r\n    event.preventDefault();\r\n    const { name, description, size, plantImage, location, price } = event.target;\r\n    const image = plantImage.files[0];\r\n    const uploadForm = new FormData();\r\n    uploadForm.append(\"image\", image);\r\n    const plant = {\r\n      name: name.value,\r\n      description: description.value,\r\n      size: size.value,\r\n      location: location.value,\r\n      price: price.value\r\n    }\r\n    dispatch(createPlant({ uploadForm, plant, history }));\r\n  }\r\n\r\n  if (!loggedInUser) return (<Redirect to={\"/signup\"} />);\r\n\r\n  return (\r\n    <div className=\"container row mt-5 fullscreen\">\r\n      <div className=\"mt-5 col-11 col-md-5 offset-1 offset-md-6\">\r\n        <h2 className=\"mb-5\"> Create a plant </h2>\r\n        <form onSubmit={event => handleCreatePlant(event, history)}>\r\n          <input className=\"mb-4\" name=\"name\" type=\"text\" placeholder=\"Enter name\" />\r\n          <input className=\"mb-4\" name=\"description\" type=\"text\" placeholder=\"Enter description\" />\r\n          <input className=\"mb-4 smallWidth\" name=\"size\" type=\"number\" min=\"1\" placeholder=\"Size\" /> cm <br />\r\n          <select className=\"mb-4 p-1\" name=\"location\" type=\"text\">\r\n            <option> Select location </option>\r\n            <option value=\"sun\"> sun </option>\r\n            <option value=\"shade\"> shade </option>\r\n            <option value=\"sun and shade\"> sun and shade </option>\r\n          </select>\r\n          <br />\r\n          <input className=\"mb-4 smallWidth\" name=\"price\" type=\"number\" min=\"1\" placeholder=\"Price\" />  <br />\r\n          <input className=\"mb-4\" name=\"plantImage\" type=\"file\" />\r\n          {error && (<p className=\"warningColor\"> {error} </p>)}\r\n          <div className=\"col-12\">\r\n            <button className=\"btn btn-sm btn-outline-dark\" type=\"submit\" > Create </button>\r\n            <Link to={\"/\"}> <button className=\"btn btn-sm mx-5\"> Go back </button> </Link>\r\n          </div>\r\n        </form>\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default CreatePlantForm;","import React, { useEffect } from \"react\";\r\nimport { Link, Redirect, useParams, useHistory } from \"react-router-dom\";\r\nimport { useSelector, useDispatch } from \"react-redux\";\r\nimport { animateScroll as scroll } from \"react-scroll\";\r\nimport { readPlant, deletePlant, deleteRequest, scrollToPlants } from \"../Reducer/jungleSwapSlice\";\r\n\r\nconst PlantDetails = () => {\r\n  const loggedInUser = useSelector(state => state.jungleSwap.loggedInUser);\r\n  const requests = useSelector(state => state.jungleSwap.requests);\r\n  const plant = useSelector(state => state.jungleSwap.plant);\r\n  const { plantId } = useParams();\r\n  const dispatch = useDispatch();\r\n  const history = useHistory();\r\n\r\n  // Read plant data and scroll to top as soon as page loads  \r\n  useEffect(\r\n    () => {\r\n      dispatch(readPlant(plantId));\r\n      scroll.scrollToTop();\r\n    },\r\n    []\r\n  );\r\n\r\n  // Delete plant\r\n  const handleDeletePlant = (imagePublicId, plantId, history, requests) => {\r\n    requests.forEach(\r\n      request => {\r\n        if (request.plant._id === plantId) {\r\n          dispatch(deleteRequest({requestId: request._id, history: null}));\r\n        }\r\n      }\r\n    );\r\n    dispatch(deletePlant({ imagePublicId, plantId, history }));\r\n  }\r\n\r\n  if (!loggedInUser) return (<Redirect to={\"/signup\"} />);\r\n\r\n  const { _id, name, description, size, imageUrl, imagePublicId, location, price, creator } = plant;\r\n  if (!creator) return (\r\n    <div class=\"spinner-grow text-success m-5\" role=\"status\">\r\n      <span class=\"visually-hidden\"> <br /> <br /> Loading plant details... </span>\r\n    </div>\r\n  );\r\n\r\n\r\n  return (\r\n    <div className=\"container mt-5 row row-md-10 offset-md-4\">\r\n      <div className=\"mt-4 mb-3 pt-4 container\">\r\n        <h2> Plant details </h2>\r\n      </div>\r\n      <div className=\"col\">\r\n        <div className=\"card cardMediumWidth\">\r\n          {imageUrl && (<img className=\"card-img-top mediumPicSize\" src={imageUrl} alt={name} />)}\r\n          <div className=\"ml-2 mt-2\"> <span> Name: </span> {name} </div>\r\n          <div className=\"ml-2 mt-2\"> <span> Description: </span> {description} </div>\r\n          <div className=\"ml-2 mt-2\"> <span> Size: </span> {size} cm </div>\r\n          <div className=\"ml-2 mt-2\"> <span> Likes: </span> {location} </div>\r\n          <div className=\"ml-2 mt-2\"> <span> Price: </span> {price}  </div>\r\n          <div className=\"ml-2 mt-2 col justify-content-center\">\r\n            <div className=\"row-2 justify-content-center\">\r\n              <div className=\"card-body\">\r\n                {\r\n                  loggedInUser._id === creator._id ? (\r\n                    <div>\r\n                      <Link to={\"/plants/update\"}> <button className=\"btn btn-sm ml-2 btn-outline-dark\"> Update </button> </Link>\r\n                      <button className=\"btn btn-sm ml-2 btn-outline-dark\" onClick={() => handleDeletePlant(imagePublicId, _id, history, requests)}> Delete </button>\r\n                    </div>\r\n                  ) : (\r\n                    <div>\r\n                      <Link to=\"/plants/checkout\"> <button className=\"btn btn-sm ml-2 btn-outline-dark\"> Buy </button> </Link>\r\n                      <Link to=\"/requests/create\"> <button className=\"btn btn-sm ml-2 btn-outline-dark\"> Swap </button> </Link>\r\n                    </div>\r\n                  )\r\n                }\r\n                <Link to={\"/\"} onClick={() => dispatch(scrollToPlants())}> <button className=\"btn btn-sm ml-2\"> Go back </button> </Link>\r\n              </div>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default PlantDetails;","import React, { useEffect } from \"react\";\r\nimport { Link, useHistory } from \"react-router-dom\";\r\nimport { useSelector, useDispatch } from \"react-redux\";\r\nimport { animateScroll as scroll } from \"react-scroll\";\r\nimport { imageChange, updatePlant, setPlant, scrollToPlants } from \"../Reducer/jungleSwapSlice\";\r\n\r\nconst UpdatePlantForm = () => {\r\n  const plant = useSelector(state => state.jungleSwap.plant);\r\n  const dispatch = useDispatch();\r\n  const history = useHistory();\r\n\r\n  // Scroll to top as soon as page loads\r\n  useEffect(\r\n    () => scroll.scrollToTop(),\r\n    []\r\n  );\r\n\r\n  // Check which plant values changed\r\n  const handlePlantEntryChange = ({ target }, plant, itemNumber) => {\r\n    const clonePlant = JSON.parse(JSON.stringify(plant));\r\n    // eslint-disable-next-line default-case\r\n    switch (itemNumber) {\r\n      case 0:\r\n        clonePlant.name = target.value;\r\n        break;\r\n      case 1:\r\n        clonePlant.description = target.value;\r\n        break;\r\n      case 2:\r\n        clonePlant.size = target.value;\r\n        break;\r\n      case 3:\r\n        clonePlant.location = target.value;\r\n        break;\r\n      case 4:\r\n        clonePlant.price = target.value;\r\n    }\r\n    dispatch(setPlant(clonePlant));\r\n  }\r\n\r\n  // Plant image changed\r\n  const handleImageChange = ({ target }, plant) => {\r\n    const image = target.files[0];\r\n    const { imagePublicId } = plant;\r\n    const destroyImageData = {\r\n      imagePublicId\r\n    }\r\n    dispatch(imageChange({ destroyImageData, image, plant }));\r\n  }\r\n\r\n  const handleUpdatePlant = ({ _id, name, description, size, imageUrl, imagePublicId, location, price }, history) => {\r\n    const updatedPlant = {\r\n      name,\r\n      description,\r\n      size,\r\n      imageUrl,\r\n      imagePublicId,\r\n      location,\r\n      price\r\n    };\r\n    dispatch(updatePlant({ plantId: _id, updatedPlant, history }));\r\n  }\r\n\r\n  const { _id, name, description, size, imageUrl, price } = plant;\r\n  return (\r\n    <div className=\"container row mt-5 \">\r\n      <div className=\"mt-2 col-11 col-md-5 offset-1 offset-md-5\">\r\n        <h2 className=\"mt-5 mb-4\"> Update your plant </h2>\r\n        <div className=\"card cardSmallWidth mb-5\">\r\n          <img className=\"mb-2 smallPicSize\" src={imageUrl} alt={name} />\r\n          <div className=\"card-body\">\r\n            <input className=\"mb-2\" onChange={event => handleImageChange(event, plant)} type=\"file\" />\r\n            <input className=\"mb-2\" type=\"text\" onChange={event => handlePlantEntryChange(event, plant, 0)} value={name} />\r\n            <input className=\"mb-2\" type=\"text\" onChange={event => handlePlantEntryChange(event, plant, 1)} value={description} />\r\n            <input className=\"mb-2 smallWidth\" type=\"number\" onChange={event => handlePlantEntryChange(event, plant, 2)} value={size} /> cm <br />\r\n            <select className=\"mb-2\" onChange={event => handlePlantEntryChange(event, plant, 3)} name=\"location\" type=\"text\" placeholder=\"Select\">\r\n              <option value=\"sun\"> sun </option>\r\n              <option value=\"shade\"> shade </option>\r\n              <option value=\"sun and shade\"> sun and shade </option>\r\n            </select> <br />\r\n            <input className=\"mb-4 smallWidth\" name=\"price\" type=\"number\" min=\"1\" onChange={event => handlePlantEntryChange(event, plant, 4)} value={price} /> \r\n            <div className=\"row justify-content-around\">\r\n              <button className=\"btn btn-sm btn-outline-dark\" onClick={() => handleUpdatePlant(plant, history)}> Save changes </button>\r\n              <Link to={`/plants/read/${_id}`}> <button className=\"btn btn-sm mx-2\"> Go back </button> </Link>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default UpdatePlantForm;","import React, { useState, useEffect } from \"react\";\r\nimport { Link, useHistory } from \"react-router-dom\";\r\nimport { useSelector, useDispatch } from \"react-redux\";\r\nimport { CardElement, useStripe, useElements } from \"@stripe/react-stripe-js\";\r\nimport { payPlant, createPayment, scrollToPlants } from \"../Reducer/jungleSwapSlice\";\r\n\r\nconst CheckoutForm = () => {\r\n  const [isSucceeded, setIsSucceeded] = useState(false);\r\n  const [isProcessing, setIsProcessing] = useState(false);\r\n  const [isDisabled, setIsDisabled] = useState(true);\r\n  const [paymentError, setPaymentError] = useState(null);\r\n  const stripe = useStripe();\r\n  const elements = useElements();\r\n  const clientSecret = useSelector(state => state.jungleSwap.clientSecret);\r\n  const plant = useSelector(state => state.jungleSwap.plant);\r\n  const dispatch = useDispatch();\r\n  const history = useHistory();\r\n\r\n  // Create payment as soon as page loads\r\n  useEffect(\r\n    () => {\r\n      dispatch(createPayment(plant))\r\n      return () => {\r\n        history.push(\"/\");\r\n        dispatch(scrollToPlants());\r\n      }\r\n    },\r\n    []\r\n  );\r\n\r\n  // Card styling\r\n  const cardStyle = {\r\n    style: {\r\n      base: {\r\n        color: \"#32325d\",\r\n        fontFamily: \"Arial, sans-serif\",\r\n        fontSmoothing: \"antialiased\",\r\n        fontSize: \"16px\",\r\n        \"::placeholder\": { color: \"#32325d\" }\r\n      },\r\n      invalid: {\r\n        color: \"#fa755a\",\r\n        iconColor: \"#fa755a\"\r\n      }\r\n    }\r\n  };\r\n\r\n  // Listen for changes in Card element and display any errors as customer types card details\r\n  const handleChange = async event => {\r\n    setIsDisabled(event.empty);\r\n    setPaymentError(event.error ? event.error.message : \"\");\r\n  };\r\n\r\n  // Submit payment\r\n  const handleSubmitPayment = async event => {\r\n    event.preventDefault();\r\n    setIsProcessing(true);\r\n    const payload = await stripe.confirmCardPayment(\r\n      clientSecret,\r\n      { payment_method: { card: elements.getElement(CardElement) } }\r\n    );\r\n    if (payload.error) {\r\n      setPaymentError(`Payment failed ${payload.error.message}`);\r\n      setIsProcessing(false);\r\n    }\r\n    else {\r\n      setPaymentError(null);\r\n      setIsProcessing(false);\r\n      setIsSucceeded(true);\r\n    }\r\n  }\r\n\r\n  const { _id, name, price } = plant;\r\n  return (\r\n    <div className=\"container col-9\">\r\n      <form className=\"checkoutForm mt-5\" id=\"payment-form\" onSubmit={handleSubmitPayment}>\r\n        <h2 className=\"text-center mb-2 p-2\"> {name} </h2>\r\n        <h3 className=\"text-center mb-4 p-2\"> {price}  </h3>\r\n        <CardElement\r\n          className=\"p-2\"\r\n          id=\"card-element\"\r\n          options={cardStyle}\r\n          onChange={handleChange}\r\n        />\r\n        <div className=\"row justify-content-center\">\r\n          <button onClick={() => dispatch(payPlant(history))} className=\"btn btn-sm mt-5 mb-4\" disabled={isProcessing || isDisabled || isSucceeded} id=\"submit\">\r\n            <span id=\"button-text\">\r\n              {isProcessing ? <div className=\"spinner\" id=\"spinner\" /> : \"Pay now\"}\r\n            </span>\r\n          </button>\r\n        </div>\r\n        {/* Show any error that happens when processing the payment */\r\n          paymentError && (<div className=\"card-error\" role=\"alert\"> {paymentError} </div>)\r\n        /* Show success message upon completion */}\r\n        <p className={isSucceeded ? \"result-message text-center\" : \"result-message hidden text-center\"}>\r\n          Payment succeeded.\r\n        </p>\r\n      </form>\r\n      <div className=\"row justify-content-center\">\r\n        {\r\n          isSucceeded ? (\r\n            <Link to={\"/\"} onClick={() => dispatch(scrollToPlants())}> <button className=\"btn btn-sm\"> Go back </button> </Link>\r\n          )\r\n            : (\r\n              <Link to={`/plants/read/${_id}`}> <button className=\"btn btn-sm\"> Go back </button> </Link>\r\n            )\r\n        }\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default CheckoutForm;","import React, { useEffect } from \"react\";\r\nimport { animateScroll as scroll } from \"react-scroll\";\r\nimport { loadStripe } from \"@stripe/stripe-js\";\r\nimport { Elements } from \"@stripe/react-stripe-js\";\r\nimport CheckoutForm from \"../Components/CheckoutForm\";\r\n\r\nconst promise = loadStripe(\"pk_test_51IQBsPA6EAM4YnfDyrjHWnLHzZ5KkI9tsERzYhBGVoctZBrFUb4Sda035HvcQKpp7thFiqW6QmO8ytPbOAMTg33z00cHvcbojv\");\r\n\r\nconst CheckoutPage = () => {\r\n\r\n  // Scroll to top as soon as page loads\r\n  useEffect(\r\n    () => scroll.scrollToTop(),\r\n    []\r\n  );\r\n\r\n  return (\r\n    <div className=\"container row mt-5\">\r\n      <div className=\"mt-5 col-11 col-md-6 offset-1 offset-md-5 App\">\r\n        <Elements stripe={promise}>\r\n          <CheckoutForm />\r\n        </Elements>\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default CheckoutPage;","import React, { useEffect } from \"react\";\r\nimport { Link, Redirect } from \"react-router-dom\";\r\nimport { useSelector, useDispatch } from \"react-redux\";\r\nimport { animateScroll as scroll } from \"react-scroll\";\r\nimport { fetchAllRequests, setIsNewRequest } from \"../Reducer/jungleSwapSlice\";\r\n\r\nconst RequestsPage = () => {\r\n  const loggedInUser = useSelector(state => state.jungleSwap.loggedInUser);\r\n  const isUserChange = useSelector(state => state.jungleSwap.isUserChange);\r\n  const requests = useSelector(state => state.jungleSwap.requests);\r\n  const amountOfRequests = useSelector(state => state.jungleSwap.amountOfRequests);\r\n  const dispatch = useDispatch();\r\n\r\n  // Fetch all requests and reset values as soon as page loads and reset values during cleanup\r\n  useEffect(\r\n    () => {\r\n      const handleResetAll = () => {\r\n        dispatch(setIsNewRequest(false));\r\n        scroll.scrollToTop();\r\n      }\r\n\r\n      dispatch(fetchAllRequests(isUserChange));\r\n      handleResetAll();\r\n      return () => handleResetAll()\r\n    },\r\n    []\r\n  );\r\n\r\n  if (!loggedInUser) return (<Redirect to={\"/signup\"} />);\r\n\r\n  if (!requests) return (\r\n    <div class=\"spinner-grow text-success m-5\" role=\"status\">\r\n      <span class=\"visually-hidden\"> <br /> <br /> Loading requests... </span>\r\n    </div>\r\n  );\r\n\r\n  return (\r\n    <div className=\"container row mt-5\">\r\n      <div className=\"mt-5 col-11 col-md-5 offset-1 offset-md-5\">\r\n        <h2 > Your messages </h2>\r\n        <h3 className=\"mb-4\"> [{amountOfRequests}] </h3>\r\n        <Link to={\"/\"}> <button className=\"btn btn-sm mt-4\"> Go back </button> </Link>\r\n        {\r\n          requests.map(\r\n            request => {\r\n              const { _id, buyer, seller, plant } = request;\r\n              return (\r\n                seller._id === loggedInUser._id && (\r\n                  <div className=\"card p-3 mt-4 \" key={_id}>\r\n                    <h4> Request for: {plant.name} </h4>\r\n                    <h5> by: {buyer.username} </h5>\r\n                    <div>\r\n                      <Link className=\"btn btn-outline-dark\" to={`/requests/read/${_id}`}> Details </Link>\r\n                    </div>\r\n                  </div>\r\n                )\r\n              );\r\n            }\r\n          )\r\n        }\r\n        {amountOfRequests !== 0 && (<Link to={\"/\"}> <button className=\"btn btn-sm mt-4\"> Go back </button> </Link>)}\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default RequestsPage;","import React, { useEffect } from \"react\";\r\nimport { Link, useHistory } from \"react-router-dom\";\r\nimport { useSelector, useDispatch } from \"react-redux\";\r\nimport { animateScroll as scroll } from \"react-scroll\";\r\nimport { createRequest, setError } from \"../Reducer/jungleSwapSlice\";\r\n\r\nconst CreateRequestForm = () => {\r\n  const plant = useSelector(state => state.jungleSwap.plant);\r\n  const error = useSelector(state => state.jungleSwap.error);\r\n  const dispatch = useDispatch();\r\n  const history = useHistory();\r\n\r\n  // Set variable and scroll to top as soon as page loads\r\n  useEffect(\r\n    () => {\r\n      dispatch(setError(null));\r\n      scroll.scrollToTop();\r\n    },\r\n    []\r\n  );\r\n\r\n  // Create request\r\n  const handleCreateRequest = (event, { _id, creator }, history) => {\r\n    event.preventDefault();\r\n    const { message } = event.target;\r\n    const newRequest = {\r\n      seller: creator._id,\r\n      plant: _id,\r\n      message: message.value\r\n    };\r\n    dispatch(createRequest({ newRequest, history }));\r\n  }\r\n\r\n  const { _id, name } = plant;\r\n  return (\r\n    <div className=\"container row mt-5\">\r\n      <div className=\"mt-5 col-11 col-md-5 offset-1 offset-md-5\">\r\n        <h2 className=\"mb-4\"> Your message </h2>\r\n        <h3 className=\"mb-4\"> {name} </h3>\r\n        <form onSubmit={(event) => handleCreateRequest(event, plant, history)}>\r\n          <div>\r\n            <textarea className=\"mb-4\" name=\"message\" cols=\"35\" rows=\"7\" />\r\n          </div>\r\n          {error && (<p className=\"warningColor\"> {error} </p>)}\r\n          <button className=\"btn btn-sm btn-outline-dark\" type=\"submit\"> Send </button>\r\n          <Link to={`/plants/read/${_id}`}> <button className=\"btn btn-sm mx-2\"> Go back </button> </Link>\r\n        </form>\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default CreateRequestForm;","import React, { useEffect } from \"react\";\r\nimport { Link, useParams, useHistory } from \"react-router-dom\";\r\nimport { useSelector, useDispatch } from \"react-redux\";\r\nimport { animateScroll as scroll } from \"react-scroll\";\r\nimport { readRequest, deleteRequest } from \"../Reducer/jungleSwapSlice\";\r\n\r\nconst RequestDetails = () => {\r\n  const request = useSelector(state => state.jungleSwap.request);\r\n  const { requestId } = useParams();\r\n  const dispatch = useDispatch();\r\n  const history = useHistory();\r\n\r\n  // Read request and scroll to top as soon as page loads\r\n  useEffect(\r\n    () => {\r\n      dispatch(readRequest(requestId));\r\n      scroll.scrollToTop();\r\n    },\r\n    []\r\n  );\r\n\r\n  const { _id, buyer, plant, message, reply } = request;\r\n  if (!buyer || !plant) return (\r\n    <div class=\"spinner-grow text-success m-5\" role=\"status\">\r\n      <span class=\"visually-hidden\"> <br /> <br /> Loading request... </span>\r\n    </div>\r\n  );\r\n\r\n  return (\r\n    <div className=\"container row mt-5 \">\r\n      <div className=\"mt-5 col-11 col-md-5 offset-1 offset-md-5\">\r\n        <h2 className=\"mb-5\"> Your request </h2>\r\n        <h4> for: {plant.name} </h4>\r\n        <h5> by: {buyer.username} </h5>\r\n        <p> {message} </p>\r\n        {\r\n          reply && (\r\n            <div>\r\n              <h5> Your reply: </h5>\r\n              <p> {reply} </p>\r\n            </div>\r\n          )\r\n        }\r\n        <div>\r\n          {!reply && (<Link to={`/requests/update/${_id}`}> <button className=\"btn btn-sm ml-2 btn-outline-dark\"> Reply </button> </Link>)}\r\n          <button className=\"btn btn-sm ml-2 btn-outline-dark\" onClick={() => dispatch(deleteRequest({requestId, history}))}> Delete </button>\r\n        </div>\r\n        <Link to={\"/requests/fetch\"} onClick={scroll.scrollToTop}> <button className=\"btn btn-sm mt-4\"> Go back </button> </Link>\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default RequestDetails;","import React, { useEffect } from \"react\";\r\nimport { Link, useHistory } from \"react-router-dom\";\r\nimport { useSelector, useDispatch } from \"react-redux\";\r\nimport { animateScroll as scroll } from \"react-scroll\";\r\nimport { setRequest, updateRequest } from \"../Reducer/jungleSwapSlice\";\r\n\r\nconst UpdateRequestForm = () => {\r\n  const request = useSelector(state => state.jungleSwap.request);\r\n  const dispatch = useDispatch();\r\n  const history = useHistory();\r\n\r\n  // Scroll to top as soon as page loads\r\n  useEffect(\r\n    () => scroll.scrollToTop(),\r\n    []\r\n  );\r\n\r\n  // Create reply\r\n  const handleCreateReply = ({ target }, request) => {\r\n    const cloneRequest = JSON.parse(JSON.stringify(request));\r\n    cloneRequest.reply = target.value;\r\n    dispatch(setRequest(cloneRequest));\r\n  }\r\n\r\n  // Update request\r\n  const handleUpdateRequest = ({ _id, buyer, seller, plant, message, reply }, history) => {\r\n    const updatedRequest = {\r\n      buyer,\r\n      seller,\r\n      plant,\r\n      message,\r\n      reply\r\n    };\r\n    dispatch(updateRequest({ requestId: _id, updatedRequest, history }));\r\n  }\r\n\r\n  const { _id, message } = request;\r\n  return (\r\n    <div className=\"container row mt-5 \">\r\n      <div className=\"mt-2 col-11 col-md-5 offset-1 offset-md-5\">\r\n        <h2 className=\"mt-5 mb-4\"> Reply your request </h2>\r\n        <div className=\"card cardSmallWidth mb-5\">\r\n          <div className=\"card-body\">\r\n            <p> {message} </p>\r\n            <textarea className=\"mb-4\" name=\"reply\" cols=\"31\" rows=\"6\" placeholder=\"Your reply\" onChange={event => handleCreateReply(event, request)} />\r\n            <div className=\"row justify-content-around\">\r\n              <button className=\"btn btn-sm btn-outline-dark\" onClick={() => handleUpdateRequest(request, history)}> Submit </button>\r\n              <Link to={`/requests/read/${_id}`}> <button className=\"btn btn-sm mx-2\"> Go back </button> </Link>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default UpdateRequestForm;","import React from \"react\";\r\nimport { Link } from \"react-router-dom\";\r\n\r\nconst NotFound = () => {\r\n  return (\r\n    <div className=\"notFound\">\r\n      <div>\r\n        <h2>\r\n          Oh-oh! <br /> <br />\r\n          We think you got lost in the jungle!\r\n        </h2>\r\n        <h3> 404 Not Found </h3>\r\n        <Link to={\"/\"}> <button className=\"btn btn-sm ml-2\"> Take me home </button> </Link>\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default NotFound;","import React, { useEffect } from \"react\";\r\n\r\nconst KommunicateChat = () => {\r\n  // Create launcher icon as soon as page loads\r\n  useEffect(\r\n    () => {\r\n      (\r\n        (d, m) => {\r\n          const kommunicateSettings = {\r\n            \"appId\": \"10b22c52854a305b79bbdecc356bea5\",\r\n            \"popupWidget\": true,\r\n            \"automaticChatOpenOnNavigation\": true\r\n          };\r\n          const s = document.createElement(\"script\");\r\n          s.type = \"text/javascript\";\r\n          s.async = true;\r\n          s.src = \"https://widget.kommunicate.io/v2/kommunicate.app\";\r\n          const h = document.getElementsByTagName(\"head\")[0];\r\n          h.appendChild(s);\r\n          window.kommunicate = m;\r\n          m._globals = kommunicateSettings;\r\n        }\r\n      )\r\n        (\r\n          document,\r\n          window.kommunicate || {}\r\n        );\r\n    },\r\n    []\r\n  );\r\n\r\n  return (<div />);\r\n}\r\n\r\nexport default KommunicateChat;","import React from \"react\";\r\nimport { Route, Switch, withRouter } from \"react-router-dom\";\r\n\r\nimport \"bootstrap/dist/css/bootstrap.min.css\";\r\nimport \"./App.min.css\";\r\n\r\nimport NavBar from \"./Components/NavBar\";\r\nimport Footer from \"./Components/Footer\";\r\nimport Home from \"./Screens/Home\";\r\nimport SignUp from \"./Screens/SignUp\";\r\nimport SignIn from \"./Screens/SignIn\";\r\nimport LogOut from \"./Components/LogOut\";\r\nimport CreatePlantForm from \"./Screens/CreatePlantForm\";\r\nimport PlantDetails from \"./Screens/PlantDetails\";\r\nimport UpdatePlantForm from \"./Screens/UpdatePlantForm\";\r\nimport CheckoutPage from \"./Screens/CheckoutPage\";\r\nimport RequestsPage from \"./Screens/RequestsPage\";\r\nimport CreateRequestForm from \"./Screens/CreateRequestForm\";\r\nimport RequestDetails from \"./Screens/RequestDetails\";\r\nimport UpdateRequestForm from \"./Screens/UpdateRequestForm\";\r\nimport NotFound from \"./Screens/NotFound\";\r\nimport KommunicateChat from \"./Components/Chat\";\r\n\r\nconst App = () => {\r\n  return (\r\n    <div class=\"main\">\r\n      <NavBar />\r\n      <Switch>\r\n        <Route exact path=\"/\">\r\n          <Home />\r\n        </Route>\r\n        <Route path=\"/plants/create\">\r\n          <CreatePlantForm />\r\n        </Route>\r\n        <Route path=\"/plants/read/:plantId\">\r\n          <PlantDetails />\r\n        </Route>\r\n        <Route path=\"/plants/update\">\r\n          <UpdatePlantForm />\r\n        </Route>\r\n        <Route path=\"/plants/checkout\">\r\n          <CheckoutPage />\r\n        </Route>\r\n\r\n        <Route path=\"/requests/fetch\">\r\n          <RequestsPage />\r\n        </Route>\r\n        <Route path=\"/requests/create\">\r\n          <CreateRequestForm />\r\n        </Route>\r\n        <Route path=\"/requests/read/:requestId\">\r\n          <RequestDetails />\r\n        </Route>\r\n        <Route path=\"/requests/update\">\r\n          <UpdateRequestForm />\r\n        </Route>\r\n\r\n        <Route path=\"/signup\">\r\n          <SignUp />\r\n        </Route>\r\n        <Route path=\"/signin\">\r\n          <SignIn />\r\n        </Route>\r\n        <Route path=\"/logout\">\r\n          <LogOut />\r\n        </Route>\r\n\r\n        <Route component={NotFound} />\r\n      </Switch>\r\n      <KommunicateChat />\r\n      <Footer />\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default withRouter(App);","import { configureStore } from \"@reduxjs/toolkit\";\r\nimport jungleSwapSlice from \"./Reducer/jungleSwapSlice\";\r\n\r\nexport const store = configureStore({ reducer: {jungleSwap: jungleSwapSlice} });","import React from \"react\";\r\nimport ReactDOM from \"react-dom\";\r\nimport { BrowserRouter } from \"react-router-dom\";\r\nimport App from \"./App\";\r\nimport { Provider } from \"react-redux\";\r\nimport { store } from \"./store\";\r\n\r\nimport \"./index.css\";\r\n\r\nReactDOM.render(\r\n  <React.StrictMode>\r\n    <Provider store={store}>\r\n      <BrowserRouter>\r\n        <App />\r\n      </BrowserRouter>\r\n    </Provider>\r\n  </React.StrictMode>,\r\n  document.querySelector(\"#root\")\r\n);"],"sourceRoot":""}