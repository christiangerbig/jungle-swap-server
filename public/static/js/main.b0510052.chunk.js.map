{"version":3,"sources":["hooks.ts","reducer/jungleSwapSlice.ts","config.ts","lib/utilities.ts","components/NavLoggedInUserItems.tsx","components/NavAuthentificationItems.tsx","components/NavBar.tsx","components/Footer.tsx","images/JungleSwap_Home.png","images/JungleSwap_Icon.png","components/About.tsx","components/PlantThumbnail.tsx","components/LoadingSpinner.tsx","components/SearchPlant.tsx","components/AllPlants.tsx","components/Title.tsx","screens/Home.tsx","screens/SignUp.tsx","screens/SignIn.tsx","components/LogOut.tsx","screens/CreatePlantForm.tsx","screens/PlantDetails.tsx","screens/UpdatePlantForm.tsx","components/CheckoutForm.tsx","screens/CheckoutPage.tsx","components/RequestTile.tsx","screens/RequestsPage.tsx","components/ReplyTile.tsx","screens/RepliesPage.tsx","screens/CreateRequestForm.tsx","screens/RequestDetails.tsx","screens/ReplyDetails.tsx","screens/UpdateRequestForm.tsx","screens/Unauthorized.tsx","screens/NotFound.tsx","components/Chat.tsx","App.tsx","store.ts","index.tsx"],"names":["useAppDispatch","useDispatch","useAppSelector","useSelector","apiPath","process","rejectWithValue","data","Error","signUp","createAsyncThunk","newUser","a","axios","post","response","error","signIn","user","withCredentials","logOut","checkUserLoggedIn","get","createPlant","newPlant","fetchAllPlants","fetchQueryPlants","query","fetchPlant","plantId","updatePlant","updatedPlant","patch","deletePlant","delete","uploadPlantImage","uploadForm","deletePlantImage","destroyImageData","createPayment","plant","price","createMessage","newMessage","fetchAllMessages","fetchMessage","messageId","updateMessage","updatedMessage","deleteMessage","jungleSwapSlice","createSlice","name","initialState","isUserChange","loggedInUser","isCreatingPlant","isFetchingPlants","isFetchingPlant","isUpdatingPlant","isDeletingPlant","plants","isUploadingPlantImage","isDeletingPlantImage","clientSecret","isCreatingMessage","isFetchingMessages","isFetchingMessage","isUpdatingMessage","isDeletingMessage","messages","message","isNewRequest","isNewReply","amountOfRequests","amountOfReplies","intervalId","delayCounter","titleSectionHeight","aboutSectionHeight","errorMessage","reducers","setIsUserChange","state","action","payload","setLoggedInUser","setIsCreatingPlant","setIsFetchingPlants","setIsFetchingPlant","setIsUpdatingPlant","setIsDeletingPlant","addPlant","push","setPlant","setPlants","setPlantChanges","_id","description","size","imageUrl","imagePublicId","location","map","singlePlant","removePlant","filter","setIsUploadingPlantImage","setIsDeletingPlantImage","setDestroyImageData","setClientSecret","setIsCreatingMessage","setIsFetchingMessages","setIsFetchingMessage","setIsUpdatingMessage","setIsDeletingMessage","addMessage","setMessages","setMessage","setMessageChanges","buyer","seller","request","reply","messageState","singleMessage","removeMessage","setIsNewRequest","setIsNewReply","setStartAmountOfRequests","setStartAmountOfReplies","setAmountOfRequests","setAmountOfReplies","decreaseAmountOfRequests","decreaseAmountOfReplies","setIntervalId","setDelayCounter","increaseDelayCounter","setTitleSectionHeight","setAboutSectionHeight","scrollToAbout","scroll","scrollTo","scrollToPlants","setErrorMessage","extraReducers","builder","addCase","fulfilled","rejected","actions","protectRoute","dispatch","unwrap","then","catch","rejectedValue","console","log","fetchPlants","stopIntervalCounter","clearInterval","fetchSingleMessage","fetchMessages","handleDeletePlantImage","NavLoggedInUserItems","jungleSwap","to","className","title","icon","faBell","username","NavAuthentificationItems","NavBar","useEffect","setMessageVariables","setInterval","startInterval","setMessageVariablesAndStartInterval","currentAmountOfRequests","checkAmountOfRequests","length","getAmountOfRequests","checkNewRequests","currentAmountOfReplies","checkAmountOfReplies","getAmountOfReplies","checkNewReplies","setMessagesVariableAndCheckNewRequestsReplies","Navbar","variant","expand","fixed","Brand","onClick","scrollToTop","Toggle","aria-controls","Collapse","id","Nav","faSearch","Footer","About","src","plantsImage","alt","plantPotIcon","PlantThumbnail","LoadingSpinner","role","SearchPlant","useState","setQuery","fetchPlantQuery","type","placeholder","value","onChange","event","target","AllPlants","index","Title","Home","elementRef","useRef","Math","round","current","getBoundingClientRect","height","getTitleSectionHeight","getAboutSectionHeight","ref","titleSection","aboutSection","SignUp","history","useHistory","handleSignUp","preventDefault","email","password","toLowerCase","setUserVariablesAndReturnToHomePage","onSubmit","htmlFor","hidden","formNoValidate","SignIn","handleSignIn","LogOut","resetRequestReplyVariablesAndReturnToHomePage","updateUserData","clonedUser","JSON","parse","stringify","updateUserRequestsReplies","logOutUser","CreatePlantForm","handleCreatePlant","scrollToBottom","addPlantAndReturnToHomePage","image","plantImage","files","FormData","append","handleUploadPlantImage","min","disabled","PlantDetails","useParams","setPlantAndScrollToTop","fetchPlantData","handleDeletePlant","removePlantAndReturnToPlantsSection","creator","forEach","handleDeleteRemainingMessages","UpdatePlantForm","selectElementRef","setPlantLocationAndScrollToTop","handlePlantEntryChange","clonedPlant","handlePlantImageChange","setImageDataForPlant","handleUpdatePlant","setPlantChangesAndReturnToPlantsSection","CheckoutForm","isSucceeded","setIsSucceeded","isProcessing","setIsProcessing","isDisabled","setIsDisabled","paymentError","setPaymentError","stripe","useStripe","elements","useElements","payment","initializePayment","handleCardElementInputChanges","empty","handleSubmitPayment","confirmCardPayment","payment_method","card","getElement","CardElement","options","style","base","color","fontFamily","fontSmoothing","fontSize","invalid","iconColor","stripePromise","loadStripe","CheckoutPage","RequestThumbnail","RequestsPage","resetRequestVariableAndScrollToTop","RequestTile","ReplyThumbnail","RepliesPage","resetReplyVariableAndScrollToTop","ReplyTile","CreateRequestForm","handleCreateMessageForRequest","addMessageAndReturnToPlantDetailsPage","cols","rows","RequestDetails","handleChangeMessageState","setMessageChangesAndReturnToRequestsPage","updateBuyerMessage","clonedMessage","setBuyerMessageInactive","ReplyDetails","handleDeleteMessage","removeMessageReplyAndReturnToRepliesPage","UpdateRequestForm","handleUpdateMessage","setMessageChangesAndReturnToRequestPage","handleCreateReply","Unauthorized","NotFound","KommunicateChat","document","method","scriptElement","createElement","async","getElementsByTagName","appendChild","window","kommunicate","_globals","appId","popupWidget","automaticChatOpenOnNavigation","createLauncherIcon","withRouter","exact","path","component","store","configureStore","reducer","ReactDOM","render","StrictMode","querySelector"],"mappings":"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","file":"static/js/main.b0510052.chunk.js","sourcesContent":["import { TypedUseSelectorHook, useDispatch, useSelector } from \"react-redux\";\r\nimport type { RootState, AppDispatch } from \"./store\";\r\n\r\nexport const useAppDispatch = () => useDispatch<AppDispatch>();\r\nexport const useAppSelector: TypedUseSelectorHook<RootState> = useSelector;","import { createAsyncThunk, createSlice, PayloadAction } from \"@reduxjs/toolkit\";\r\nimport config from \"../config\";\r\nimport axios from \"axios\";\r\nimport { animateScroll as scroll } from \"react-scroll\";\r\nimport {\r\n  User,\r\n  Plant,\r\n  PlantId,\r\n  Message,\r\n  MessageId,\r\n  DestroyImageData,\r\n  IntervalId,\r\n} from \"../typeDefinitions\";\r\n\r\ntype ErrorMessage = string | null;\r\n\r\ninterface InitialState {\r\n  // ----- User authentication -----\r\n  isUserChange: boolean;\r\n  loggedInUser: User | null;\r\n\r\n  // ----- Plants -----\r\n  isCreatingPlant: boolean;\r\n  isFetchingPlants: boolean;\r\n  isFetchingPlant: boolean;\r\n  isUpdatingPlant: boolean;\r\n  isDeletingPlant: boolean;\r\n  plants: Plant[];\r\n  plant: Plant | {};\r\n\r\n  // ----- Images -----\r\n  isUploadingPlantImage: boolean;\r\n  isDeletingPlantImage: boolean;\r\n  destroyImageData: DestroyImageData;\r\n\r\n  // ----- Payment -----\r\n  clientSecret: string;\r\n\r\n  // ----- Messages -----\r\n  isCreatingMessage: boolean;\r\n  isFetchingMessages: boolean;\r\n  isFetchingMessage: boolean;\r\n  isUpdatingMessage: boolean;\r\n  isDeletingMessage: boolean;\r\n  messages: Message[];\r\n  message: Message | {};\r\n\r\n  // ----- Requests/Replies check -----\r\n  isNewRequest: boolean;\r\n  isNewReply: boolean;\r\n  amountOfRequests: number;\r\n  amountOfReplies: number;\r\n\r\n  // ----- Interval counter -----\r\n  intervalId: IntervalId;\r\n  delayCounter: number;\r\n\r\n  // ----- Pages handling -----\r\n  titleSectionHeight: number;\r\n  aboutSectionHeight: number;\r\n\r\n  // ----- Error handling -----\r\n  errorMessage: ErrorMessage;\r\n}\r\n\r\ninterface UpdatePlantParameters {\r\n  plantId: PlantId;\r\n  updatedPlant: Plant;\r\n}\r\n\r\ninterface UpdateMessageParameters {\r\n  messageId: MessageId;\r\n  updatedMessage: Message;\r\n}\r\n\r\nconst apiPath = `${config.API_URL}/api`;\r\n\r\nconst initialState: InitialState = {\r\n  // ----- User authentication -----\r\n  isUserChange: false,\r\n  loggedInUser: null,\r\n\r\n  // ----- Plants -----\r\n  isCreatingPlant: false,\r\n  isFetchingPlants: false,\r\n  isFetchingPlant: false,\r\n  isUpdatingPlant: false,\r\n  isDeletingPlant: false,\r\n  plants: [],\r\n  plant: {},\r\n\r\n  // ----- Images -----\r\n  isUploadingPlantImage: false,\r\n  isDeletingPlantImage: false,\r\n  destroyImageData: {},\r\n\r\n  // ----- Payment -----\r\n  clientSecret: \"\",\r\n\r\n  // ----- Messages -----\r\n  isCreatingMessage: false,\r\n  isFetchingMessages: false,\r\n  isFetchingMessage: false,\r\n  isUpdatingMessage: false,\r\n  isDeletingMessage: false,\r\n  messages: [],\r\n  message: {},\r\n\r\n  // ----- Requests/Replies check -----\r\n  isNewRequest: false,\r\n  isNewReply: false,\r\n  amountOfRequests: 0,\r\n  amountOfReplies: 0,\r\n\r\n  // ----- Interval counter -----\r\n  intervalId: null,\r\n  delayCounter: 0,\r\n\r\n  // ----- Pages handling -----\r\n  titleSectionHeight: 0,\r\n  aboutSectionHeight: 0,\r\n\r\n  // ----- Error handling -----\r\n  errorMessage: null,\r\n};\r\n\r\nconst rejectWithValue = (data: any): void | PromiseLike<void> => {\r\n  throw new Error(data);\r\n};\r\n\r\n// ----- User authentification -----\r\nexport const signUp = createAsyncThunk(\r\n  \"jungleSwap/signUp\",\r\n  async (newUser: User): Promise<User | any> => {\r\n    try {\r\n      const response = await axios.post(`${apiPath}/auth/sign-up`, newUser);\r\n      return response.data;\r\n    } catch (err: any) {\r\n      return rejectWithValue(err.response.data.error);\r\n    }\r\n  }\r\n);\r\n\r\nexport const signIn = createAsyncThunk(\r\n  \"jungleSwap/signIn\",\r\n  async (user: User): Promise<User | any> => {\r\n    try {\r\n      const response = await axios.post(`${apiPath}/auth/sign-in`, user, {\r\n        withCredentials: true,\r\n      });\r\n      return response.data;\r\n    } catch (err: any) {\r\n      return rejectWithValue(err.response.data.error);\r\n    }\r\n  }\r\n);\r\n\r\nexport const logOut = createAsyncThunk(\r\n  \"jungleSwap/logOut\",\r\n  async (user: User): Promise<void | any> => {\r\n    try {\r\n      await axios.post(`${apiPath}/auth/log-out`, user, {\r\n        withCredentials: true,\r\n      });\r\n    } catch (err: any) {\r\n      return rejectWithValue(err.response.data.error);\r\n    }\r\n  }\r\n);\r\n\r\nexport const checkUserLoggedIn = createAsyncThunk(\r\n  \"jungleSwap/checkUserLoggedIn\",\r\n  async (): Promise<User | any> => {\r\n    try {\r\n      const response = await axios.get(`${apiPath}/auth/check-user`, {\r\n        withCredentials: true,\r\n      });\r\n      return response.data;\r\n    } catch (err: any) {\r\n      return rejectWithValue(err.response.data.error);\r\n    }\r\n  }\r\n);\r\n\r\n// ----- Plants -----\r\nexport const createPlant = createAsyncThunk(\r\n  \"jungleSwap/createPlant\",\r\n  async (newPlant: Plant): Promise<Plant | any> => {\r\n    try {\r\n      const response = await axios.post(`${apiPath}/plants/create`, newPlant, {\r\n        withCredentials: true,\r\n      });\r\n      return response.data;\r\n    } catch (err: any) {\r\n      return rejectWithValue(err.response.data.error);\r\n    }\r\n  }\r\n);\r\n\r\nexport const fetchAllPlants = createAsyncThunk(\r\n  \"jungleSwap/fetchAllPlants\",\r\n  async (): Promise<Plant[] | any> => {\r\n    try {\r\n      const response = await axios.get(`${apiPath}/plants/fetch-all`);\r\n      return response.data;\r\n    } catch (err: any) {\r\n      return rejectWithValue(err.response.data.error);\r\n    }\r\n  }\r\n);\r\n\r\nexport const fetchQueryPlants = createAsyncThunk(\r\n  \"jungleSwap/fetchQueryPlants\",\r\n  async (query: string): Promise<Plant[] | any> => {\r\n    try {\r\n      const response = await axios.get(`${apiPath}/plants/search?q=${query}`);\r\n      return response.data;\r\n    } catch (err: any) {\r\n      return rejectWithValue(err.response.data.error);\r\n    }\r\n  }\r\n);\r\n\r\nexport const fetchPlant = createAsyncThunk(\r\n  \"jungleSwap/fetchPlant\",\r\n  async (plantId: PlantId): Promise<Plant | any> => {\r\n    try {\r\n      const response = await axios.get(`${apiPath}/plants/fetch/${plantId}`, {\r\n        withCredentials: true,\r\n      });\r\n      return response.data;\r\n    } catch (err: any) {\r\n      return rejectWithValue(err.response.data.error);\r\n    }\r\n  }\r\n);\r\n\r\nexport const updatePlant = createAsyncThunk(\r\n  \"jungleSwap/updatePlant\",\r\n  async ({\r\n    plantId,\r\n    updatedPlant,\r\n  }: UpdatePlantParameters): Promise<Plant | any> => {\r\n    try {\r\n      const response = await axios.patch(\r\n        `${apiPath}/plants/update/${plantId}`,\r\n        updatedPlant\r\n      );\r\n      return response.data;\r\n    } catch (err: any) {\r\n      return rejectWithValue(err.response.data.error);\r\n    }\r\n  }\r\n);\r\n\r\nexport const deletePlant = createAsyncThunk(\r\n  \"jungleSwap/deletePlant\",\r\n  async (plantId: PlantId): Promise<void | any> => {\r\n    try {\r\n      await axios.delete(`${apiPath}/plants/delete/${plantId}`);\r\n    } catch (err: any) {\r\n      return rejectWithValue(err.response.data.error);\r\n    }\r\n  }\r\n);\r\n\r\n// ----- Images -----\r\nexport const uploadPlantImage = createAsyncThunk(\r\n  \"jungleSwap/uploadPlantImage\",\r\n  async (uploadForm: FormData): Promise<any> => {\r\n    try {\r\n      const response = await axios.post(\r\n        `${apiPath}/cloudinary/upload`,\r\n        uploadForm\r\n      );\r\n      return response.data;\r\n    } catch (err: any) {\r\n      return rejectWithValue(err.response.data.error);\r\n    }\r\n  }\r\n);\r\n\r\nexport const deletePlantImage = createAsyncThunk(\r\n  \"jungleSwap/deletePlantImage\",\r\n  async (destroyImageData: DestroyImageData): Promise<void | any> => {\r\n    try {\r\n      await axios.post(`${apiPath}/cloudinary/destroy`, destroyImageData);\r\n    } catch (err: any) {\r\n      return rejectWithValue(err.response.data.error);\r\n    }\r\n  }\r\n);\r\n\r\n// ----- Payment -----\r\nexport const createPayment = createAsyncThunk(\r\n  \"jungleSwap/createPayment\",\r\n  async (plant: Plant): Promise<any> => {\r\n    try {\r\n      const response = await axios.post(\r\n        `${apiPath}/stripe/create-payment-intent`,\r\n        {\r\n          price: plant.price,\r\n        }\r\n      );\r\n      return response.data;\r\n    } catch (err: any) {\r\n      return rejectWithValue(err.response.data.error);\r\n    }\r\n  }\r\n);\r\n\r\n// ----- Messages -----\r\nexport const createMessage = createAsyncThunk(\r\n  \"jungleSwap/createMessage\",\r\n  async (newMessage: Message): Promise<Message | any> => {\r\n    try {\r\n      const response = await axios.post(\r\n        `${apiPath}/messages/create`,\r\n        newMessage,\r\n        { withCredentials: true }\r\n      );\r\n      return response.data;\r\n    } catch (err: any) {\r\n      return rejectWithValue(err.response.data.error);\r\n    }\r\n  }\r\n);\r\n\r\nexport const fetchAllMessages = createAsyncThunk(\r\n  \"jungleSwap/fetchAllMessages\",\r\n  async (): Promise<Message[] | any> => {\r\n    try {\r\n      const response = await axios.get(`${apiPath}/messages/fetch-all`);\r\n      return response.data;\r\n    } catch (err: any) {\r\n      return rejectWithValue(err.response.data.error);\r\n    }\r\n  }\r\n);\r\n\r\nexport const fetchMessage = createAsyncThunk(\r\n  \"jungleSwap/fetchMessage\",\r\n  async (messageId: MessageId): Promise<Message | any> => {\r\n    try {\r\n      const response = await axios.get(\r\n        `${apiPath}/messages/fetch/${messageId}`,\r\n        { withCredentials: true }\r\n      );\r\n      return response.data;\r\n    } catch (err: any) {\r\n      return rejectWithValue(err.response.data.error);\r\n    }\r\n  }\r\n);\r\n\r\nexport const updateMessage = createAsyncThunk(\r\n  \"jungleSwap/updateMessage\",\r\n  async ({\r\n    messageId,\r\n    updatedMessage,\r\n  }: UpdateMessageParameters): Promise<Message | any> => {\r\n    try {\r\n      const response = await axios.patch(\r\n        `${apiPath}/messages/update/${messageId}`,\r\n        updatedMessage\r\n      );\r\n      return response.data;\r\n    } catch (err: any) {\r\n      return rejectWithValue(err.response.data.error);\r\n    }\r\n  }\r\n);\r\n\r\nexport const deleteMessage = createAsyncThunk(\r\n  \"jungleSwap/deleteMessage\",\r\n  async (messageId: MessageId): Promise<void | any> => {\r\n    try {\r\n      await axios.delete(`${apiPath}/messages/delete/${messageId}`);\r\n    } catch (err: any) {\r\n      return rejectWithValue(err.response.data.error);\r\n    }\r\n  }\r\n);\r\n\r\nexport const jungleSwapSlice = createSlice({\r\n  name: \"jungleSwap\",\r\n  initialState,\r\n\r\n  reducers: {\r\n    // ----- User authentication ------\r\n    setIsUserChange: (state, action: PayloadAction<boolean>) => {\r\n      state.isUserChange = action.payload;\r\n    },\r\n    setLoggedInUser: (state, action: PayloadAction<User | null>) => {\r\n      state.loggedInUser = action.payload;\r\n    },\r\n\r\n    // ----- Plants ------\r\n    setIsCreatingPlant: (state, action: PayloadAction<boolean>) => {\r\n      state.isCreatingPlant = action.payload;\r\n    },\r\n    setIsFetchingPlants: (state, action: PayloadAction<boolean>) => {\r\n      state.isFetchingPlants = action.payload;\r\n    },\r\n    setIsFetchingPlant: (state, action: PayloadAction<boolean>) => {\r\n      state.isFetchingPlant = action.payload;\r\n    },\r\n    setIsUpdatingPlant: (state, action: PayloadAction<boolean>) => {\r\n      state.isUpdatingPlant = action.payload;\r\n    },\r\n    setIsDeletingPlant: (state, action: PayloadAction<boolean>) => {\r\n      state.isDeletingPlant = action.payload;\r\n    },\r\n    addPlant: (state, action: PayloadAction<Plant>) => {\r\n      state.plants.push(action.payload);\r\n    },\r\n    setPlant: (state, action: PayloadAction<Plant>) => {\r\n      state.plant = action.payload;\r\n    },\r\n    setPlants: (state, action: PayloadAction<Plant[]>) => {\r\n      state.plants = action.payload;\r\n    },\r\n    setPlantChanges: (state, action: PayloadAction<Plant>) => {\r\n      const {\r\n        _id,\r\n        name,\r\n        description,\r\n        size,\r\n        imageUrl,\r\n        imagePublicId,\r\n        location,\r\n        price,\r\n      } = action.payload;\r\n      state.plants = state.plants.map((singlePlant: Plant): Plant => {\r\n        if (singlePlant._id === _id) {\r\n          singlePlant.name = name;\r\n          singlePlant.description = description;\r\n          singlePlant.size = size;\r\n          singlePlant.imageUrl = imageUrl;\r\n          singlePlant.imagePublicId = imagePublicId;\r\n          singlePlant.location = location;\r\n          singlePlant.price = price;\r\n        }\r\n        return singlePlant;\r\n      });\r\n    },\r\n    removePlant: (state, action: PayloadAction<PlantId>) => {\r\n      state.plants = state.plants.filter(\r\n        (plant: Plant): boolean => plant._id !== action.payload\r\n      );\r\n    },\r\n\r\n    // ----- Images -----\r\n    setIsUploadingPlantImage: (state, action: PayloadAction<boolean>) => {\r\n      state.isUploadingPlantImage = action.payload;\r\n    },\r\n    setIsDeletingPlantImage: (state, action: PayloadAction<boolean>) => {\r\n      state.isDeletingPlantImage = action.payload;\r\n    },\r\n    setDestroyImageData: (state, action: PayloadAction<DestroyImageData>) => {\r\n      state.destroyImageData = action.payload;\r\n    },\r\n\r\n    // ----- Payment -----\r\n    setClientSecret: (state, action: PayloadAction<string>) => {\r\n      state.clientSecret = action.payload;\r\n    },\r\n\r\n    // ----- Messages -----\r\n    setIsCreatingMessage: (state, action: PayloadAction<boolean>) => {\r\n      state.isCreatingMessage = action.payload;\r\n    },\r\n    setIsFetchingMessages: (state, action: PayloadAction<boolean>) => {\r\n      state.isFetchingMessages = action.payload;\r\n    },\r\n    setIsFetchingMessage: (state, action: PayloadAction<boolean>) => {\r\n      state.isFetchingMessage = action.payload;\r\n    },\r\n    setIsUpdatingMessage: (state, action: PayloadAction<boolean>) => {\r\n      state.isUpdatingMessage = action.payload;\r\n    },\r\n    setIsDeletingMessage: (state, action: PayloadAction<boolean>) => {\r\n      state.isDeletingMessage = action.payload;\r\n    },\r\n    addMessage: (state, action: PayloadAction<Message>) => {\r\n      state.messages.push(action.payload);\r\n    },\r\n    setMessages: (state, action: PayloadAction<Message[]>) => {\r\n      state.messages = action.payload;\r\n    },\r\n    setMessage: (state, action: PayloadAction<Message>) => {\r\n      state.message = action.payload;\r\n    },\r\n    setMessageChanges: (state, action: PayloadAction<Message>) => {\r\n      const { _id, buyer, seller, plant, request, reply, messageState } =\r\n        action.payload;\r\n      state.messages = state.messages.map((singleMessage) => {\r\n        if (singleMessage._id === _id) {\r\n          singleMessage.buyer = buyer;\r\n          singleMessage.seller = seller;\r\n          singleMessage.plant = plant;\r\n          singleMessage.request = request;\r\n          singleMessage.reply = reply;\r\n          singleMessage.messageState = messageState;\r\n        }\r\n        return singleMessage;\r\n      });\r\n    },\r\n    removeMessage: (state, action: PayloadAction<MessageId>) => {\r\n      state.messages = state.messages.filter((message: Message): boolean => {\r\n        return message._id !== action.payload;\r\n      });\r\n    },\r\n\r\n    // ----- Requests/Replies check ------\r\n    setIsNewRequest: (state, action: PayloadAction<boolean>) => {\r\n      state.isNewRequest = action.payload;\r\n    },\r\n    setIsNewReply: (state, action: PayloadAction<boolean>) => {\r\n      state.isNewReply = action.payload;\r\n    },\r\n    setStartAmountOfRequests: (state) => {\r\n      state.amountOfRequests = (state.loggedInUser as any).amountOfRequests;\r\n    },\r\n    setStartAmountOfReplies: (state) => {\r\n      state.amountOfReplies = (state.loggedInUser as any).amountOfReplies;\r\n    },\r\n    setAmountOfRequests: (state, action: PayloadAction<number>) => {\r\n      state.amountOfRequests = action.payload;\r\n    },\r\n    setAmountOfReplies: (state, action: PayloadAction<number>) => {\r\n      state.amountOfReplies = action.payload;\r\n    },\r\n    decreaseAmountOfRequests: (state) => {\r\n      state.amountOfRequests -= 1;\r\n    },\r\n    decreaseAmountOfReplies: (state) => {\r\n      state.amountOfReplies -= 1;\r\n    },\r\n\r\n    // ----- Interval counter -----\r\n    setIntervalId: (state, action: PayloadAction<IntervalId>) => {\r\n      state.intervalId = action.payload;\r\n    },\r\n    setDelayCounter: (state, action: PayloadAction<number>) => {\r\n      state.delayCounter = action.payload;\r\n    },\r\n    increaseDelayCounter: (state) => {\r\n      state.delayCounter += 1;\r\n    },\r\n\r\n    // ----- Pages handling -----\r\n    setTitleSectionHeight: (state, action: PayloadAction<number>) => {\r\n      state.titleSectionHeight = action.payload;\r\n    },\r\n    setAboutSectionHeight: (state, action: PayloadAction<number>) => {\r\n      state.aboutSectionHeight = action.payload;\r\n    },\r\n    scrollToAbout: (state) => {\r\n      scroll.scrollTo(state.titleSectionHeight);\r\n    },\r\n    scrollToPlants: (state) => {\r\n      scroll.scrollTo(state.titleSectionHeight + state.aboutSectionHeight);\r\n    },\r\n\r\n    // ----- Error handling -----\r\n    setErrorMessage: (state, action: PayloadAction<ErrorMessage>) => {\r\n      state.errorMessage = action.payload;\r\n    },\r\n  },\r\n\r\n  extraReducers: (builder) => {\r\n    // ----- Plants ------\r\n    builder.addCase(createPlant.fulfilled, (state) => {\r\n      state.isCreatingPlant = false;\r\n    });\r\n    builder.addCase(createPlant.rejected, (state) => {\r\n      state.isCreatingPlant = false;\r\n    });\r\n    builder.addCase(fetchAllPlants.fulfilled, (state) => {\r\n      state.isFetchingPlants = false;\r\n    });\r\n    builder.addCase(fetchAllPlants.rejected, (state) => {\r\n      state.isFetchingPlants = false;\r\n    });\r\n    builder.addCase(fetchQueryPlants.fulfilled, (state) => {\r\n      state.isFetchingPlants = false;\r\n    });\r\n    builder.addCase(fetchQueryPlants.rejected, (state) => {\r\n      state.isFetchingPlants = false;\r\n    });\r\n    builder.addCase(fetchPlant.fulfilled, (state) => {\r\n      state.isFetchingPlant = false;\r\n    });\r\n    builder.addCase(fetchPlant.rejected, (state) => {\r\n      state.isFetchingPlant = false;\r\n    });\r\n    builder.addCase(updatePlant.fulfilled, (state) => {\r\n      state.isUpdatingPlant = false;\r\n    });\r\n    builder.addCase(updatePlant.rejected, (state) => {\r\n      state.isUpdatingPlant = false;\r\n    });\r\n    builder.addCase(deletePlant.fulfilled, (state) => {\r\n      state.isDeletingPlant = false;\r\n    });\r\n    builder.addCase(deletePlant.rejected, (state) => {\r\n      state.isDeletingPlant = false;\r\n    });\r\n\r\n    // ----- Images -----\r\n    builder.addCase(uploadPlantImage.fulfilled, (state) => {\r\n      state.isUploadingPlantImage = false;\r\n    });\r\n    builder.addCase(uploadPlantImage.rejected, (state) => {\r\n      state.isUploadingPlantImage = false;\r\n    });\r\n    builder.addCase(deletePlantImage.fulfilled, (state) => {\r\n      state.isDeletingPlantImage = false;\r\n    });\r\n    builder.addCase(deletePlantImage.rejected, (state) => {\r\n      state.isDeletingPlantImage = false;\r\n    });\r\n\r\n    // ----- Messages -----\r\n    builder.addCase(createMessage.fulfilled, (state) => {\r\n      state.isCreatingMessage = false;\r\n    });\r\n    builder.addCase(createMessage.rejected, (state) => {\r\n      state.isCreatingMessage = false;\r\n    });\r\n    builder.addCase(fetchAllMessages.fulfilled, (state) => {\r\n      state.isFetchingMessages = false;\r\n    });\r\n    builder.addCase(fetchAllMessages.rejected, (state) => {\r\n      state.isFetchingMessages = false;\r\n    });\r\n    builder.addCase(fetchMessage.fulfilled, (state) => {\r\n      state.isFetchingMessage = false;\r\n    });\r\n    builder.addCase(fetchMessage.rejected, (state) => {\r\n      state.isFetchingMessage = false;\r\n    });\r\n    builder.addCase(updateMessage.fulfilled, (state) => {\r\n      state.isUpdatingMessage = false;\r\n    });\r\n    builder.addCase(updateMessage.rejected, (state) => {\r\n      state.isUpdatingMessage = false;\r\n    });\r\n    builder.addCase(deleteMessage.fulfilled, (state) => {\r\n      state.isDeletingMessage = false;\r\n    });\r\n    builder.addCase(deleteMessage.rejected, (state) => {\r\n      state.isDeletingMessage = false;\r\n    });\r\n  },\r\n});\r\n\r\n// ----- Slice actions -----\r\nexport const {\r\n  // ----- User authentification -----\r\n  setIsUserChange,\r\n  setLoggedInUser,\r\n\r\n  // ----- Plants -----\r\n  setIsCreatingPlant,\r\n  setIsFetchingPlants,\r\n  setIsFetchingPlant,\r\n  setIsUpdatingPlant,\r\n  setIsDeletingPlant,\r\n  addPlant,\r\n  setPlants,\r\n  setPlant,\r\n  setPlantChanges,\r\n  removePlant,\r\n\r\n  // ----- Images -----\r\n  setIsUploadingPlantImage,\r\n  setIsDeletingPlantImage,\r\n  setDestroyImageData,\r\n\r\n  // ----- Payment -----\r\n  setClientSecret,\r\n\r\n  // ----- Messages -----\r\n  setIsCreatingMessage,\r\n  setIsFetchingMessages,\r\n  setIsFetchingMessage,\r\n  setIsUpdatingMessage,\r\n  setIsDeletingMessage,\r\n  addMessage,\r\n  setMessages,\r\n  setMessage,\r\n  setMessageChanges,\r\n  removeMessage,\r\n\r\n  // ----- Requests/Replies check -----\r\n  setIsNewRequest,\r\n  setIsNewReply,\r\n  setStartAmountOfRequests,\r\n  setStartAmountOfReplies,\r\n  setAmountOfRequests,\r\n  setAmountOfReplies,\r\n  decreaseAmountOfRequests,\r\n  decreaseAmountOfReplies,\r\n\r\n  // ----- Interval counter -----\r\n  setIntervalId,\r\n  setDelayCounter,\r\n  increaseDelayCounter,\r\n\r\n  // ----- Pages handling -----\r\n  setTitleSectionHeight,\r\n  setAboutSectionHeight,\r\n  scrollToAbout,\r\n  scrollToPlants,\r\n\r\n  // ----- Error handling -----\r\n  setErrorMessage,\r\n} = jungleSwapSlice.actions;\r\n\r\nexport default jungleSwapSlice.reducer;\r\n","export default { API_URL: process.env.REACT_APP_SERVER_URL };\r\n","import { animateScroll as scroll } from \"react-scroll\";\r\nimport {\r\n  checkUserLoggedIn,\r\n  deletePlantImage,\r\n  fetchAllMessages,\r\n  fetchAllPlants,\r\n  fetchMessage,\r\n  setDelayCounter,\r\n  setIntervalId,\r\n  setIsDeletingPlantImage,\r\n  setIsFetchingMessage,\r\n  setIsFetchingMessages,\r\n  setIsFetchingPlants,\r\n  setLoggedInUser,\r\n  setMessage,\r\n  setMessages,\r\n  setPlants,\r\n} from \"../reducer/jungleSwapSlice\";\r\nimport {\r\n  DestroyImageData,\r\n  Message,\r\n  MessageId,\r\n  Plant,\r\n  User,\r\n} from \"../typeDefinitions\";\r\n\r\nexport const protectRoute = (dispatch: any): void => {\r\n  dispatch(checkUserLoggedIn())\r\n    .unwrap()\r\n    .then((user: User) => {\r\n      dispatch(setLoggedInUser(user));\r\n    })\r\n    .catch((rejectedValue: any) => {\r\n      console.log(rejectedValue.message);\r\n    });\r\n};\r\n\r\nexport const fetchPlants = (dispatch: any): void => {\r\n  dispatch(setIsFetchingPlants(true));\r\n  dispatch(fetchAllPlants())\r\n    .unwrap()\r\n    .then((plants: Plant[]) => {\r\n      dispatch(setPlants(plants));\r\n    })\r\n    .catch((rejectedValue: any) => {\r\n      console.log(rejectedValue.message);\r\n    });\r\n};\r\n\r\nexport const stopIntervalCounter = (\r\n  intervalId: NodeJS.Timeout,\r\n  dispatch: any\r\n): void => {\r\n  clearInterval(intervalId);\r\n  dispatch(setIntervalId(null));\r\n  dispatch(setDelayCounter(0));\r\n};\r\n\r\nexport const fetchSingleMessage = (\r\n  messageId: MessageId,\r\n  dispatch: any\r\n): void => {\r\n  dispatch(setIsFetchingMessage(true));\r\n  dispatch(fetchMessage(messageId))\r\n    .unwrap()\r\n    .then((message: Message) => {\r\n      dispatch(setMessage(message));\r\n    })\r\n    .catch((rejectedValue: any) => {\r\n      console.log(rejectedValue.message);\r\n    });\r\n};\r\n\r\nexport const fetchMessages = (dispatch: any): void => {\r\n  dispatch(setIsFetchingMessages(true));\r\n  dispatch(fetchAllMessages())\r\n    .unwrap()\r\n    .then((messages: Message[]) => {\r\n      dispatch(setMessages(messages));\r\n    })\r\n    .catch((rejectedValue: any) => {\r\n      console.log(rejectedValue.message);\r\n    });\r\n};\r\n\r\nexport const handleDeletePlantImage = (\r\n  destroyImageData: DestroyImageData,\r\n  dispatch: any\r\n): void => {\r\n  dispatch(setIsDeletingPlantImage(true));\r\n  dispatch(deletePlantImage(destroyImageData))\r\n    .unwrap()\r\n    .then(() => {\r\n      return;\r\n    })\r\n    .catch((rejectedValue: any) => {\r\n      console.log(rejectedValue.message);\r\n    });\r\n};\r\n","import { Link } from \"react-router-dom\";\r\nimport { useAppSelector } from \"../hooks\";\r\nimport { RootState } from \"../store\";\r\nimport { FontAwesomeIcon } from \"@fortawesome/react-fontawesome\";\r\nimport { faBell } from \"@fortawesome/free-solid-svg-icons\";\r\n\r\nconst NavLoggedInUserItems = (): JSX.Element => {\r\n  const loggedInUser = useAppSelector(\r\n    (state: RootState) => state.jungleSwap.loggedInUser\r\n  );\r\n  const isNewRequest = useAppSelector(\r\n    (state: RootState) => state.jungleSwap.isNewRequest\r\n  );\r\n  const isNewReply = useAppSelector(\r\n    (state: RootState) => state.jungleSwap.isNewReply\r\n  );\r\n\r\n  return (\r\n    <>\r\n      <Link to=\"/plants/create\" className=\"p-2\">\r\n        Create Plant\r\n      </Link>\r\n      <Link\r\n        to=\"/requests/fetch-all\"\r\n        title={isNewRequest ? \"new request\" : \"\"}\r\n        className=\"p-2\"\r\n      >\r\n        {isNewRequest && <FontAwesomeIcon icon={faBell} />}\r\n        Requests\r\n      </Link>\r\n      <Link\r\n        to=\"/replies/fetch-all\"\r\n        title={isNewReply ? \"new reply\" : \"\"}\r\n        className=\"p-2\"\r\n      >\r\n        {isNewReply && <FontAwesomeIcon icon={faBell} />}\r\n        Replies\r\n      </Link>\r\n      <Link\r\n        to=\"/auth/log-out\"\r\n        title={loggedInUser ? loggedInUser.username : \"\"}\r\n        className=\"p-2\"\r\n      >\r\n        Log out\r\n      </Link>\r\n    </>\r\n  );\r\n};\r\n\r\nexport default NavLoggedInUserItems;\r\n","import { Link } from \"react-router-dom\";\r\n\r\nconst NavAuthentificationItems = (): JSX.Element => {\r\n  return (\r\n    <>\r\n      <Link to=\"/auth/sign-in\" className=\"p-2\">\r\n        Sign in\r\n      </Link>\r\n      <Link to=\"/auth/sign-up\" className=\"p-2\">\r\n        Sign up\r\n      </Link>\r\n    </>\r\n  );\r\n};\r\n\r\nexport default NavAuthentificationItems;\r\n","import { useEffect } from \"react\";\r\nimport { Link } from \"react-router-dom\";\r\nimport { useAppDispatch, useAppSelector } from \"../hooks\";\r\nimport { animateScroll as scroll } from \"react-scroll\";\r\nimport { Navbar, Nav } from \"react-bootstrap\";\r\nimport {\r\n  setIsUserChange,\r\n  setIntervalId,\r\n  increaseDelayCounter,\r\n  setIsNewRequest,\r\n  setIsNewReply,\r\n  setStartAmountOfRequests,\r\n  setStartAmountOfReplies,\r\n  setAmountOfRequests,\r\n  setAmountOfReplies,\r\n  scrollToPlants,\r\n  setMessages,\r\n  setIsFetchingMessages,\r\n  fetchAllMessages,\r\n} from \"../reducer/jungleSwapSlice\";\r\nimport { User, Message } from \"../typeDefinitions\";\r\nimport { RootState } from \"../store\";\r\nimport { stopIntervalCounter } from \"../lib/utilities\";\r\nimport { FontAwesomeIcon } from \"@fortawesome/react-fontawesome\";\r\nimport { faBell, faSearch } from \"@fortawesome/free-solid-svg-icons\";\r\nimport NavLoggedInUserItems from \"./NavLoggedInUserItems\";\r\nimport NavAuthentificationItems from \"./NavAuthentificationItems\";\r\n\r\nconst NavBar = (): JSX.Element => {\r\n  const isUserChange = useAppSelector(\r\n    (state: RootState) => state.jungleSwap.isUserChange\r\n  );\r\n  const loggedInUser = useAppSelector(\r\n    (state: RootState) => state.jungleSwap.loggedInUser\r\n  );\r\n  const intervalId = useAppSelector(\r\n    (state: RootState) => state.jungleSwap.intervalId\r\n  );\r\n  const delayCounter = useAppSelector(\r\n    (state: RootState) => state.jungleSwap.delayCounter\r\n  );\r\n  const isNewRequest = useAppSelector(\r\n    (state: RootState) => state.jungleSwap.isNewRequest\r\n  );\r\n  const isNewReply = useAppSelector(\r\n    (state: RootState) => state.jungleSwap.isNewReply\r\n  );\r\n  const amountOfRequests = useAppSelector(\r\n    (state: RootState) => state.jungleSwap.amountOfRequests\r\n  );\r\n  const amountOfReplies = useAppSelector(\r\n    (state: RootState) => state.jungleSwap.amountOfReplies\r\n  );\r\n  const dispatch = useAppDispatch();\r\n\r\n  useEffect(() => {\r\n    return () => {\r\n      intervalId && stopIntervalCounter(intervalId, dispatch);\r\n    };\r\n  }, []);\r\n\r\n  useEffect(() => {\r\n    const fetchMessagesAndStartRequestsRepliesCheck = (): void => {\r\n      const setMessageVariablesAndStartInterval = (\r\n        messages: Message[]\r\n      ): void => {\r\n        const setMessageVariables = (messages: Message[]): void => {\r\n          dispatch(setMessages(messages));\r\n          dispatch(setStartAmountOfRequests());\r\n          dispatch(setStartAmountOfReplies());\r\n          dispatch(setIsUserChange(false));\r\n        };\r\n\r\n        const startInterval = (): void => {\r\n          const intervalId = setInterval(\r\n            () => {\r\n              dispatch(increaseDelayCounter());\r\n            },\r\n            1000 // every second\r\n          );\r\n          dispatch(setIntervalId(intervalId));\r\n          dispatch(increaseDelayCounter());\r\n        };\r\n\r\n        setMessageVariables(messages);\r\n        startInterval();\r\n      };\r\n\r\n      dispatch(setIsFetchingMessages(true));\r\n      dispatch(fetchAllMessages())\r\n        .unwrap()\r\n        .then((messages: Message[]) => {\r\n          setMessageVariablesAndStartInterval(messages);\r\n        })\r\n        .catch((rejectedValue: any) => {\r\n          console.log(rejectedValue.message);\r\n        });\r\n    };\r\n\r\n    isUserChange && fetchMessagesAndStartRequestsRepliesCheck();\r\n  }, [isUserChange]);\r\n\r\n  useEffect(() => {\r\n    const fetchMessagesAndCheckNewRequestsReplies = (): void => {\r\n      const setMessagesVariableAndCheckNewRequestsReplies = (\r\n        messages: Message[]\r\n      ): void => {\r\n        const checkNewRequests = (messages: Message[]): void => {\r\n          const getAmountOfRequests = (messages: Message[]): number => {\r\n            const currentAmountOfRequests = messages.filter(\r\n              (message: Message): boolean => {\r\n                const { seller, messageState } = message;\r\n                return (\r\n                  (seller as User)._id === (loggedInUser as User)._id &&\r\n                  messageState === true\r\n                );\r\n              }\r\n            ).length;\r\n            return currentAmountOfRequests;\r\n          };\r\n\r\n          const checkAmountOfRequests = (\r\n            currentAmountOfRequests: number,\r\n            amountOfRequests: number\r\n          ): void => {\r\n            if (amountOfRequests < currentAmountOfRequests) {\r\n              dispatch(setIsNewRequest(true));\r\n            }\r\n            if (amountOfRequests !== currentAmountOfRequests) {\r\n              dispatch(setAmountOfRequests(currentAmountOfRequests));\r\n            }\r\n          };\r\n\r\n          const currentAmountOfRequests = getAmountOfRequests(messages);\r\n          checkAmountOfRequests(currentAmountOfRequests, amountOfRequests);\r\n        };\r\n\r\n        const checkNewReplies = (messages: Message[]): void => {\r\n          const getAmountOfReplies = (messages: Message[]): number => {\r\n            const currentAmountOfReplies = messages.filter(\r\n              (message: Message): boolean => {\r\n                const { buyer, reply } = message;\r\n                return (\r\n                  (buyer as User)._id === (loggedInUser as User)._id &&\r\n                  reply !== \"\"\r\n                );\r\n              }\r\n            ).length;\r\n            return currentAmountOfReplies;\r\n          };\r\n\r\n          const checkAmountOfReplies = (\r\n            currentAmountOfReplies: number,\r\n            amountOfReplies: number\r\n          ): void => {\r\n            if (amountOfReplies < currentAmountOfReplies) {\r\n              dispatch(setIsNewReply(true));\r\n            }\r\n            if (amountOfReplies !== currentAmountOfReplies) {\r\n              dispatch(setAmountOfReplies(currentAmountOfReplies));\r\n            }\r\n          };\r\n\r\n          const currentAmountOfReplies = getAmountOfReplies(messages);\r\n          checkAmountOfReplies(currentAmountOfReplies, amountOfReplies);\r\n        };\r\n\r\n        dispatch(setMessages(messages));\r\n        checkNewRequests(messages);\r\n        checkNewReplies(messages);\r\n      };\r\n\r\n      dispatch(fetchAllMessages())\r\n        .unwrap()\r\n        .then((messages: Message[]) => {\r\n          setMessagesVariableAndCheckNewRequestsReplies(messages);\r\n        })\r\n        .catch((rejectedValue: any) => {\r\n          console.log(rejectedValue.message);\r\n        });\r\n    };\r\n\r\n    if (isUserChange) {\r\n      dispatch(setStartAmountOfRequests());\r\n      dispatch(setStartAmountOfReplies());\r\n    }\r\n    loggedInUser && fetchMessagesAndCheckNewRequestsReplies();\r\n  }, [delayCounter]);\r\n\r\n  return (\r\n    <div>\r\n      <Navbar variant=\"dark\" expand=\"lg\" fixed=\"top\" className=\"pl-5\">\r\n        <Navbar.Brand>\r\n          <Link to=\"/\" onClick={scroll.scrollToTop}>\r\n            JungleSwap\r\n          </Link>\r\n        </Navbar.Brand>\r\n        <Navbar.Toggle aria-controls=\"basic-navbar-nav\">\r\n          {(isNewRequest || isNewReply) && <FontAwesomeIcon icon={faBell} />}\r\n        </Navbar.Toggle>\r\n        <Navbar.Collapse id=\"basic-navbar-nav\">\r\n          <Nav className=\"mr-auto\">\r\n            <Link\r\n              to=\"/\"\r\n              className=\"p-2\"\r\n              onClick={() => {\r\n                dispatch(scrollToPlants());\r\n              }}\r\n            >\r\n              All Plants\r\n            </Link>\r\n            {loggedInUser ? (\r\n              <NavLoggedInUserItems />\r\n            ) : (\r\n              <NavAuthentificationItems />\r\n            )}\r\n            <Link\r\n              to=\"/\"\r\n              className=\"p-2\"\r\n              onClick={() => {\r\n                dispatch(scrollToPlants());\r\n              }}\r\n            >\r\n              <FontAwesomeIcon icon={faSearch} />\r\n            </Link>\r\n          </Nav>\r\n        </Navbar.Collapse>\r\n      </Navbar>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default NavBar;\r\n","import { Link } from \"react-router-dom\";\r\n\r\nconst Footer = (): JSX.Element => {\r\n  return (\r\n    <div className=\"footer-row\">\r\n      <footer>\r\n        © 2021\r\n        <Link to={\"https://www.linkedin.com/in/christian-gerbig/\"}>\r\n          Christian Gerbig\r\n        </Link>\r\n        &amp;\r\n        <Link to={\"https://www.linkedin.com/in/lisa-montebaur/\"}>\r\n          Lisa Montebaur\r\n        </Link>\r\n      </footer>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Footer;\r\n","export default __webpack_public_path__ + \"static/media/JungleSwap_Home.c4ed9b4c.png\";","export default __webpack_public_path__ + \"static/media/JungleSwap_Icon.a6c7c44a.png\";","import plantsImage from \"../images/JungleSwap_Home.png\";\r\nimport plantPotIcon from \"../images/JungleSwap_Icon.png\";\r\n\r\nconst About = (): JSX.Element => {\r\n  return (\r\n    <div className=\"about centered container\">\r\n      <div className=\"row\">\r\n        <div className=\"col-sm-6 col-md-5 col-lg-6\">\r\n          <img src={plantsImage} alt=\"plants\" className=\"image\" />\r\n        </div>\r\n        <br />\r\n        <div className=\"about col-sm-6 col-md-5 col-lg-6 px-5 noOverflow\">\r\n          <article>\r\n            <header>\r\n              <h4> Welcome to JungleSwap! </h4>\r\n              <h5> Add green to your Home </h5>\r\n            </header>\r\n            <p>\r\n              It\"s easy-peasy. <br />\r\n              Share your plant offshoots. <br />\r\n              Make money! <br />\r\n              Or swap them for another plant. <br />\r\n              Don\"t have any baby plants? <br />\r\n              You can simply shop and give a plant a new home.\r\n            </p>\r\n            <img src={plantPotIcon} alt=\"plant pot\" className=\"icon\" />\r\n          </article>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default About;\r\n","import { Link } from \"react-router-dom\";\r\nimport { Plant } from \"../typeDefinitions\";\r\n\r\ntype PlantThumbnailProps = {\r\n  plant: Plant;\r\n};\r\n\r\nconst PlantThumbnail = ({ plant }: PlantThumbnailProps): JSX.Element => {\r\n  const { _id, name, imageUrl, price } = plant;\r\n\r\n  return (\r\n    <div className=\"col mb-5\">\r\n      <div className=\"card card-medium-width text-center h-100\">\r\n        <img src={imageUrl} alt={name} className=\"card-img-top mediumPicSize\" />\r\n        <div className=\"card-body mb-5\">\r\n          <h5> {name} </h5>\r\n          <p> {price} € </p>\r\n          <Link\r\n            className=\"btn form-control smallWidth\"\r\n            to={`/plants/fetch/${_id}`}\r\n          >\r\n            Details\r\n          </Link>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default PlantThumbnail;\r\n","const LoadingSpinner = (): JSX.Element => {\r\n  return (\r\n    <div className=\"d-flex align-items-center justify-content-center\">\r\n      <div role=\"status\" className=\"spinner-border m-3 loadingSpinner\" />\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default LoadingSpinner;\r\n","import { useEffect, useState } from \"react\";\r\nimport { useAppDispatch } from \"../hooks\";\r\nimport { fetchPlants } from \"../lib/utilities\";\r\nimport {\r\n  fetchQueryPlants,\r\n  setIsFetchingPlants,\r\n  setPlants,\r\n} from \"../reducer/jungleSwapSlice\";\r\nimport { Plant } from \"../typeDefinitions\";\r\n\r\nconst SearchPlant = (): JSX.Element => {\r\n  const [query, setQuery] = useState(\"\");\r\n  const dispatch = useAppDispatch();\r\n\r\n  useEffect(() => {\r\n    const fetchPlantQuery = (query: string): void => {\r\n      if (query) {\r\n        dispatch(setIsFetchingPlants(true));\r\n        dispatch(fetchQueryPlants(query))\r\n          .unwrap()\r\n          .then((plants: Plant[]) => {\r\n            dispatch(setPlants(plants));\r\n          })\r\n          .catch((rejectedValue: any) => {\r\n            console.log(rejectedValue.message);\r\n          });\r\n      } else {\r\n        fetchPlants(dispatch);\r\n      }\r\n    };\r\n\r\n    fetchPlantQuery(query);\r\n  }, [query]);\r\n\r\n  return (\r\n    <div className=\"mb-4\">\r\n      <hr />\r\n      <h4> Search a plant </h4>\r\n      <input\r\n        type=\"text\"\r\n        placeholder=\"Search...\"\r\n        value={query}\r\n        className=\"smallWidth form-control\"\r\n        onChange={(event) => {\r\n          setQuery(event.target.value);\r\n        }}\r\n      />\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default SearchPlant;\r\n","import { useAppSelector } from \"../hooks\";\r\nimport { Plant } from \"../typeDefinitions\";\r\nimport { RootState } from \"../store\";\r\nimport PlantThumbnail from \"../components/PlantThumbnail\";\r\nimport LoadingSpinner from \"./LoadingSpinner\";\r\nimport SearchPlant from \"./SearchPlant\";\r\n\r\nconst AllPlants = (): JSX.Element => {\r\n  const isFetchingPlants = useAppSelector(\r\n    (state: RootState) => state.jungleSwap.isFetchingPlants\r\n  );\r\n  const plants = useAppSelector((state: RootState) => state.jungleSwap.plants);\r\n\r\n  return (\r\n    <div className=\"container mt-5\">\r\n      <div className=\"mt-5 mb-3\">\r\n        <h2> Plants </h2>\r\n      </div>\r\n      <SearchPlant />\r\n      {isFetchingPlants ? (\r\n        <LoadingSpinner />\r\n      ) : (\r\n        <div className=\"row row-cols-1 row-cols-md-3 g-4\">\r\n          {plants.map((plant: Plant, index: number): JSX.Element => {\r\n            return <PlantThumbnail plant={plant} key={index} />;\r\n          })}\r\n        </div>\r\n      )}\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default AllPlants;\r\n","import { Link } from \"react-router-dom\";\r\nimport { useAppDispatch } from \"../hooks\";\r\nimport { scrollToAbout } from \"../reducer/jungleSwapSlice\";\r\n\r\nconst Title = (): JSX.Element => {\r\n  const dispatch = useAppDispatch();\r\n\r\n  return (\r\n    <div className=\"row my-5\">\r\n      <div className=\"col-6 offset-3 my-5 borderAround\">\r\n        <h2 className=\"title mb-2\"> JungleSwap </h2>\r\n        <h5 className=\"mt-3 mb-5\"> Share your green heart </h5>\r\n        <div className=\"mb-5\">\r\n          <Link\r\n            to={\"/\"}\r\n            className=\"biggerFontSize\"\r\n            onClick={() => {\r\n              dispatch(scrollToAbout());\r\n            }}\r\n          >\r\n            Try it!\r\n          </Link>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Title;\r\n","import { useEffect, useRef } from \"react\";\r\nimport { useAppDispatch } from \"../hooks\";\r\nimport {\r\n  setTitleSectionHeight,\r\n  setAboutSectionHeight,\r\n} from \"../reducer/jungleSwapSlice\";\r\nimport About from \"../components/About\";\r\nimport AllPlants from \"../components/AllPlants\";\r\nimport Title from \"../components/Title\";\r\nimport { fetchPlants } from \"../lib/utilities\";\r\n\r\nconst Home = (): JSX.Element => {\r\n  const dispatch = useAppDispatch();\r\n  const elementRef = useRef([]);\r\n\r\n  useEffect(() => {\r\n    const getTitleSectionHeight = (): void => {\r\n      const titleSectionHeight = Math.round(\r\n        (elementRef.current[0] as any).getBoundingClientRect().height\r\n      );\r\n      dispatch(setTitleSectionHeight(titleSectionHeight));\r\n    };\r\n\r\n    const getAboutSectionHeight = (): void => {\r\n      const aboutSectionHeight = Math.round(\r\n        (elementRef.current[1] as any).getBoundingClientRect().height\r\n      );\r\n      dispatch(setAboutSectionHeight(aboutSectionHeight));\r\n    };\r\n\r\n    fetchPlants(dispatch);\r\n    getTitleSectionHeight();\r\n    getAboutSectionHeight();\r\n  }, []);\r\n\r\n  return (\r\n    <div>\r\n      <section\r\n        ref={(titleSection) => {\r\n          (elementRef.current[0] as any) = titleSection;\r\n        }}\r\n        className=\"text-center pt-5 pb-5 headerImg\"\r\n      >\r\n        <Title />\r\n      </section>\r\n\r\n      <section\r\n        ref={(aboutSection) => {\r\n          (elementRef.current[1] as any) = aboutSection;\r\n        }}\r\n      >\r\n        <About />\r\n      </section>\r\n\r\n      <section>\r\n        <AllPlants />\r\n      </section>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Home;\r\n","import { useEffect } from \"react\";\r\nimport { Link, useHistory } from \"react-router-dom\";\r\nimport { animateScroll as scroll } from \"react-scroll\";\r\nimport { useAppDispatch, useAppSelector } from \"../hooks\";\r\nimport {\r\n  setIsUserChange,\r\n  setLoggedInUser,\r\n  signUp,\r\n  setErrorMessage,\r\n} from \"../reducer/jungleSwapSlice\";\r\nimport { RootState } from \"../store\";\r\nimport { User } from \"../typeDefinitions\";\r\n\r\nconst SignUp = (): JSX.Element => {\r\n  const errorMessage = useAppSelector(\r\n    (state: RootState) => state.jungleSwap.errorMessage\r\n  );\r\n  const dispatch = useAppDispatch();\r\n  const history = useHistory();\r\n\r\n  useEffect(() => {\r\n    dispatch(setErrorMessage(null));\r\n    scroll.scrollToTop();\r\n  }, []);\r\n\r\n  const handleSignUp = (event: any): void => {\r\n    const setUserVariablesAndReturnToHomePage = (user: User): void => {\r\n      dispatch(setLoggedInUser(user));\r\n      dispatch(setIsUserChange(true));\r\n      history.push(\"/\");\r\n    };\r\n\r\n    event.preventDefault();\r\n    const { username, email, password } = event.target;\r\n    const newUser = {\r\n      username: username.value,\r\n      email: email.value.toLowerCase(),\r\n      password: password.value,\r\n    };\r\n    dispatch(signUp(newUser))\r\n      .unwrap()\r\n      .then((user) => {\r\n        setUserVariablesAndReturnToHomePage(user);\r\n      })\r\n      .catch((rejectedValue: any) => {\r\n        dispatch(setErrorMessage(rejectedValue.message));\r\n      });\r\n  };\r\n\r\n  return (\r\n    <div className=\"container row mt-5\">\r\n      <div className=\"mt-5 col-11 col-md-5 offset-1 offset-md-5\">\r\n        <h2 className=\"mb-5\"> Sign Up </h2>\r\n        <form\r\n          onSubmit={(event) => {\r\n            handleSignUp(event);\r\n          }}\r\n        >\r\n          <div className=\"form-group\">\r\n            <label htmlFor=\"InputUsername\"> Username </label>\r\n            <input\r\n              type=\"text\"\r\n              id=\"InputUsername\"\r\n              name=\"username\"\r\n              placeholder=\"Enter\"\r\n              className=\"form-control\"\r\n            />\r\n          </div>\r\n          <div className=\"form-group\">\r\n            <label htmlFor=\"InputEmail\"> Email address </label>\r\n            <input\r\n              type=\"email\"\r\n              id=\"InputEmail\"\r\n              name=\"email\"\r\n              placeholder=\"Enter\"\r\n              className=\"form-control\"\r\n            />\r\n          </div>\r\n          <div className=\"form-group\">\r\n            <label htmlFor=\"InputPassword\"> Password </label>\r\n            <input\r\n              type=\"password\"\r\n              id=\"InputPassword\"\r\n              name=\"password\"\r\n              placeholder=\"Enter\"\r\n              className=\"form-control\"\r\n            />\r\n          </div>\r\n          <p hidden={errorMessage ? false : true} className=\"warningColor\">\r\n            {\" \"}\r\n            {errorMessage}{\" \"}\r\n          </p>\r\n          <button\r\n            type=\"submit\"\r\n            formNoValidate\r\n            className=\"btn btn-sm mt-4 smallWidth form-control\"\r\n          >\r\n            Sign up\r\n          </button>\r\n          <p className=\"padding\"> Already have an account? </p>\r\n          <div className=\"text-right\">\r\n            <Link to={\"/auth/sign-in\"}>\r\n              <button className=\"btn btn-sm ml-4 smallWidth form-control mt-0 mb-2\">\r\n                Sign In\r\n              </button>\r\n            </Link>\r\n          </div>\r\n        </form>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default SignUp;\r\n","import { useEffect } from \"react\";\r\nimport { useHistory } from \"react-router-dom\";\r\nimport { animateScroll as scroll } from \"react-scroll\";\r\nimport { useAppDispatch, useAppSelector } from \"../hooks\";\r\nimport {\r\n  setIsUserChange,\r\n  setLoggedInUser,\r\n  signIn,\r\n  setAmountOfRequests,\r\n  setAmountOfReplies,\r\n  setErrorMessage,\r\n} from \"../reducer/jungleSwapSlice\";\r\nimport { User } from \"../typeDefinitions\";\r\nimport { RootState } from \"../store\";\r\n\r\nconst SignIn = (): JSX.Element => {\r\n  const errorMessage = useAppSelector(\r\n    (state: RootState) => state.jungleSwap.errorMessage\r\n  );\r\n  const dispatch = useAppDispatch();\r\n  const history = useHistory();\r\n\r\n  useEffect(() => {\r\n    dispatch(setErrorMessage(null));\r\n    scroll.scrollToTop();\r\n  }, []);\r\n\r\n  const handleSignIn = (event: any): void => {\r\n    const setUserVariablesAndReturnToHomePage = (user: User): void => {\r\n      dispatch(setLoggedInUser(user));\r\n      dispatch(setIsUserChange(true));\r\n      const { amountOfRequests, amountOfReplies } = user;\r\n      dispatch(setAmountOfRequests(amountOfRequests as number));\r\n      dispatch(setAmountOfReplies(amountOfReplies as number));\r\n      history.push(\"/\");\r\n    };\r\n\r\n    event.preventDefault();\r\n    const { email, password } = event.target;\r\n    const user: User = {\r\n      email: email.value,\r\n      password: password.value,\r\n    };\r\n    dispatch(signIn(user))\r\n      .unwrap()\r\n      .then((user) => {\r\n        setUserVariablesAndReturnToHomePage(user);\r\n      })\r\n      .catch((rejectedValue: any) => {\r\n        dispatch(setErrorMessage(rejectedValue.message));\r\n      });\r\n  };\r\n\r\n  return (\r\n    <div className=\"container row mt-5 custom fullscreen\">\r\n      <div className=\"mt-5 col-11 col-md-5 offset-1 offset-md-5\">\r\n        <h2 className=\"mb-5\"> Sign In </h2>\r\n        <form\r\n          onSubmit={(event) => {\r\n            handleSignIn(event);\r\n          }}\r\n        >\r\n          <div className=\"form-group\">\r\n            <label htmlFor=\"InputEmail\"> Email address </label>\r\n            <input\r\n              type=\"email\"\r\n              id=\"InputEmail\"\r\n              name=\"email\"\r\n              placeholder=\"Enter\"\r\n              className=\"form-control\"\r\n            />\r\n          </div>\r\n          <div className=\"form-group\">\r\n            <label htmlFor=\"InputPassword\"> Password </label>\r\n            <input\r\n              type=\"password\"\r\n              id=\"InputPassword\"\r\n              name=\"password\"\r\n              placeholder=\"Enter\"\r\n              className=\"form-control\"\r\n            />\r\n          </div>\r\n          <p hidden={errorMessage ? false : true} className=\"warningColor\">\r\n            {\" \"}\r\n            {errorMessage}{\" \"}\r\n          </p>\r\n          <button\r\n            type=\"submit\"\r\n            formNoValidate\r\n            className=\"btn btn-sm mt-4 smallWidth form-control\"\r\n          >\r\n            Sign in\r\n          </button>\r\n        </form>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default SignIn;\r\n","import { useEffect } from \"react\";\r\nimport { useHistory } from \"react-router-dom\";\r\nimport { animateScroll as scroll } from \"react-scroll\";\r\nimport { useAppDispatch, useAppSelector } from \"../hooks\";\r\nimport {\r\n  setLoggedInUser,\r\n  logOut,\r\n  setIsNewRequest,\r\n  setAmountOfRequests,\r\n  setAmountOfReplies,\r\n} from \"../reducer/jungleSwapSlice\";\r\nimport { User } from \"../typeDefinitions\";\r\nimport { RootState } from \"../store\";\r\nimport { stopIntervalCounter } from \"../lib/utilities\";\r\n\r\nconst LogOut = (): JSX.Element => {\r\n  const loggedInUser = useAppSelector(\r\n    (state: RootState) => state.jungleSwap.loggedInUser\r\n  );\r\n  const intervalId = useAppSelector(\r\n    (state: RootState) => state.jungleSwap.intervalId\r\n  );\r\n  const amountOfRequests = useAppSelector(\r\n    (state: RootState) => state.jungleSwap.amountOfRequests\r\n  );\r\n  const amountOfReplies = useAppSelector(\r\n    (state: RootState) => state.jungleSwap.amountOfReplies\r\n  );\r\n  const dispatch = useAppDispatch();\r\n  const history = useHistory();\r\n\r\n  useEffect(() => {\r\n    const logOutUser = (\r\n      loggedInUser: User,\r\n      intervalId: NodeJS.Timeout\r\n    ): void => {\r\n      const updateUserRequestsReplies = (loggedInUser: User): User => {\r\n        const clonedUser: User = JSON.parse(JSON.stringify(loggedInUser));\r\n        clonedUser.amountOfRequests = amountOfRequests;\r\n        clonedUser.amountOfReplies = amountOfReplies;\r\n        dispatch(setLoggedInUser(clonedUser));\r\n        return clonedUser;\r\n      };\r\n\r\n      const updateUserData = (loggedInUser: User): void => {\r\n        const resetRequestReplyVariablesAndReturnToHomePage = (\r\n          intervalId: NodeJS.Timeout\r\n        ): void => {\r\n          const resetRequestReplyVariables = (): void => {\r\n            dispatch(setIsNewRequest(false));\r\n            dispatch(setAmountOfRequests(0));\r\n            dispatch(setAmountOfReplies(0));\r\n          };\r\n\r\n          const returnToHomePage = (): void => {\r\n            history.push(\"/\");\r\n            scroll.scrollToTop();\r\n          };\r\n\r\n          dispatch(setLoggedInUser(null));\r\n          stopIntervalCounter(intervalId, dispatch);\r\n          resetRequestReplyVariables();\r\n          returnToHomePage();\r\n        };\r\n\r\n        dispatch(logOut(loggedInUser))\r\n          .unwrap()\r\n          .then(() => {\r\n            resetRequestReplyVariablesAndReturnToHomePage(intervalId);\r\n          });\r\n      };\r\n\r\n      const updatedUser = updateUserRequestsReplies(loggedInUser);\r\n      updateUserData(updatedUser);\r\n    };\r\n\r\n    logOutUser(loggedInUser as User, intervalId as NodeJS.Timeout);\r\n  }, []);\r\n\r\n  return <div />;\r\n};\r\n\r\nexport default LogOut;\r\n","import { useEffect } from \"react\";\r\nimport { Link, Redirect, useHistory } from \"react-router-dom\";\r\nimport { animateScroll as scroll } from \"react-scroll\";\r\nimport { useAppDispatch, useAppSelector } from \"../hooks\";\r\nimport {\r\n  addPlant,\r\n  createPlant,\r\n  setErrorMessage,\r\n  uploadPlantImage,\r\n  setIsUploadingPlantImage,\r\n  setIsCreatingPlant,\r\n} from \"../reducer/jungleSwapSlice\";\r\nimport { Plant, UploadImageData } from \"../typeDefinitions\";\r\nimport { RootState } from \"../store\";\r\nimport { protectRoute } from \"../lib/utilities\";\r\n\r\nconst CreatePlantForm = (): JSX.Element => {\r\n  const loggedInUser = useAppSelector(\r\n    (state: RootState) => state.jungleSwap.loggedInUser\r\n  );\r\n  const isUploadingPlantImage = useAppSelector(\r\n    (state: RootState) => state.jungleSwap.isUploadingPlantImage\r\n  );\r\n  const isCreatingPlant = useAppSelector(\r\n    (state: RootState) => state.jungleSwap.isCreatingPlant\r\n  );\r\n  const errorMessage = useAppSelector(\r\n    (state: RootState) => state.jungleSwap.errorMessage\r\n  );\r\n  const dispatch = useAppDispatch();\r\n  const history = useHistory();\r\n\r\n  useEffect(() => {\r\n    protectRoute(dispatch);\r\n    if (loggedInUser) {\r\n      dispatch(setErrorMessage(null));\r\n      scroll.scrollToTop();\r\n    }\r\n  }, []);\r\n\r\n  const handleCreatePlant = (\r\n    { name, description, size, location, price }: any,\r\n    { imageUrl, imagePublicId }: UploadImageData\r\n  ): void => {\r\n    const addPlantAndReturnToHomePage = (plant: Plant): void => {\r\n      dispatch(addPlant(plant));\r\n      history.push(\"/\");\r\n      scroll.scrollToBottom();\r\n    };\r\n\r\n    const newPlant: Plant = {\r\n      name: name.value,\r\n      description: description.value,\r\n      size: size.value,\r\n      imageUrl,\r\n      imagePublicId,\r\n      location: location.value,\r\n      price: price.value,\r\n    };\r\n    dispatch(setIsCreatingPlant(true));\r\n    dispatch(createPlant(newPlant))\r\n      .unwrap()\r\n      .then((plant: Plant) => {\r\n        addPlantAndReturnToHomePage(plant);\r\n      })\r\n      .catch((rejectedValue: any) => {\r\n        dispatch(setErrorMessage(rejectedValue.message));\r\n      });\r\n  };\r\n\r\n  const handleUploadPlantImage = (event: any): void => {\r\n    event.preventDefault();\r\n    const { plantImage } = event.target;\r\n    const image = plantImage.files[0];\r\n    const uploadForm = new FormData();\r\n    uploadForm.append(\"image\", image);\r\n    dispatch(setIsUploadingPlantImage(true));\r\n    dispatch(uploadPlantImage(uploadForm))\r\n      .unwrap()\r\n      .then(({ imageUrl, imagePublicId }: UploadImageData) => {\r\n        handleCreatePlant(event.target, { imageUrl, imagePublicId });\r\n      })\r\n      .catch((rejectedValue: any) => {\r\n        dispatch(setErrorMessage(rejectedValue.message));\r\n      });\r\n  };\r\n\r\n  if (!loggedInUser) {\r\n    return <Redirect to={\"/auth/unauthorized\"} />;\r\n  }\r\n\r\n  return (\r\n    <div className=\"container row mt-5 fullscreen\">\r\n      <div className=\"mt-5 col-12 col-md-6 offset-md-6\">\r\n        <h2 className=\"mb-5 text-left\"> Create a plant </h2>\r\n        <form\r\n          onSubmit={(event) => {\r\n            handleUploadPlantImage(event);\r\n          }}\r\n        >\r\n          <label htmlFor=\"enterName\"> Name </label>\r\n          <input\r\n            type=\"text\"\r\n            id=\"enterName\"\r\n            name=\"name\"\r\n            placeholder=\"Enter\"\r\n            className=\"mb-4 form-control\"\r\n          />\r\n          <label htmlFor=\"enterDescription\"> Description </label>\r\n          <input\r\n            type=\"text\"\r\n            id=\"enterDescription\"\r\n            name=\"description\"\r\n            placeholder=\"Enter\"\r\n            className=\"mb-4 form-control\"\r\n          />\r\n          <label htmlFor=\"enterSize\"> Size (cm) </label>\r\n          <input\r\n            type=\"number\"\r\n            id=\"enterSize\"\r\n            name=\"size\"\r\n            placeholder=\"Enter\"\r\n            min=\"1\"\r\n            className=\"mb-4 form-control\"\r\n          />\r\n          <label htmlFor=\"enterLocation\"> Location </label>\r\n          <select\r\n            id=\"enterLocation\"\r\n            name=\"location\"\r\n            className=\"mb-4 form-control p-2\"\r\n          >\r\n            <option> Select location </option>\r\n            <option value=\"sun\"> sun </option>\r\n            <option value=\"shade\"> shade </option>\r\n            <option value=\"sun and shade\"> sun and shade </option>\r\n          </select>\r\n          <label htmlFor=\"enterPrice\"> Price (EUR) </label>\r\n          <input\r\n            type=\"number\"\r\n            id=\"enterPrice\"\r\n            name=\"price\"\r\n            placeholder=\"Enter\"\r\n            min=\"1\"\r\n            className=\"mb-4 form-control\"\r\n          />\r\n          <label htmlFor=\"enterImage\"> Image </label>\r\n          <input\r\n            type=\"file\"\r\n            id=\"enterImage\"\r\n            name=\"plantImage\"\r\n            className=\"mb-4 form-control\"\r\n          />\r\n          <p hidden={errorMessage ? false : true} className=\"warningColor\">\r\n            {\" \"}\r\n            {errorMessage}{\" \"}\r\n          </p>\r\n          <div className=\"col-12 text-right pr-0\">\r\n            <button\r\n              type=\"submit\"\r\n              disabled={isUploadingPlantImage || isCreatingPlant ? true : false}\r\n              className=\"btn btn-sm form-control smallWidth ml-4 mb-2\"\r\n            >\r\n              Create\r\n            </button>\r\n            <Link to={\"/\"}>\r\n              <button className=\"btn btn-sm form-control smallWidth ml-4 mb-2\">\r\n                Go back\r\n              </button>\r\n            </Link>\r\n          </div>\r\n        </form>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default CreatePlantForm;\r\n","import { useEffect } from \"react\";\r\nimport { Link, Redirect, useParams, useHistory } from \"react-router-dom\";\r\nimport { animateScroll as scroll } from \"react-scroll\";\r\nimport LoadingSpinner from \"../components/LoadingSpinner\";\r\nimport { useAppDispatch, useAppSelector } from \"../hooks\";\r\nimport {\r\n  setIsFetchingPlant,\r\n  fetchPlant,\r\n  setPlant,\r\n  setIsDeletingPlant,\r\n  deletePlant,\r\n  removePlant,\r\n  setIsDeletingMessage,\r\n  deleteMessage,\r\n  removeMessage,\r\n  scrollToPlants,\r\n} from \"../reducer/jungleSwapSlice\";\r\nimport { User, Plant, PlantId, Message } from \"../typeDefinitions\";\r\nimport { RootState } from \"../store\";\r\nimport { handleDeletePlantImage, protectRoute } from \"../lib/utilities\";\r\n\r\nconst PlantDetails = (): JSX.Element => {\r\n  const loggedInUser = useAppSelector(\r\n    (state: RootState) => state.jungleSwap.loggedInUser\r\n  );\r\n  const plant = useAppSelector((state: RootState) => state.jungleSwap.plant);\r\n  const isFetchingPlant = useAppSelector(\r\n    (state: RootState) => state.jungleSwap.isFetchingPlant\r\n  );\r\n  const isDeletingPlant = useAppSelector(\r\n    (state: RootState) => state.jungleSwap.isDeletingPlant\r\n  );\r\n  const isDeletingPlantImage = useAppSelector(\r\n    (state: RootState) => state.jungleSwap.isDeletingPlantImage\r\n  );\r\n  const messages = useAppSelector(\r\n    (state: RootState) => state.jungleSwap.messages\r\n  );\r\n  const isDeletingMessage = useAppSelector(\r\n    (state: RootState) => state.jungleSwap.isDeletingMessage\r\n  );\r\n  const { plantId } = useParams<{ plantId: PlantId }>();\r\n  const dispatch = useAppDispatch();\r\n  const history = useHistory();\r\n\r\n  useEffect(() => {\r\n    const fetchPlantData = (plantId: PlantId): void => {\r\n      const setPlantAndScrollToTop = (plant: Plant): void => {\r\n        dispatch(setPlant(plant));\r\n        scroll.scrollToTop();\r\n      };\r\n\r\n      dispatch(setIsFetchingPlant(true));\r\n      dispatch(fetchPlant(plantId))\r\n        .unwrap()\r\n        .then((plant: Plant) => {\r\n          setPlantAndScrollToTop(plant);\r\n        })\r\n        .catch((rejectedValue: any) => {\r\n          console.log(rejectedValue.message);\r\n        });\r\n    };\r\n\r\n    protectRoute(dispatch);\r\n    loggedInUser && fetchPlantData(plantId);\r\n  }, []);\r\n\r\n  const handleDeleteRemainingMessages = (\r\n    messages: Message[],\r\n    plantId: PlantId\r\n  ): void => {\r\n    messages.forEach((message: Message): void => {\r\n      const { _id, plant } = message;\r\n      if ((plant as Plant)._id === plantId) {\r\n        dispatch(setIsDeletingMessage(true));\r\n        dispatch(deleteMessage(_id as PlantId))\r\n          .unwrap()\r\n          .then(() => {\r\n            dispatch(removeMessage(_id as PlantId));\r\n          })\r\n          .catch((rejectedValue: any) => {\r\n            console.log(rejectedValue.message);\r\n          });\r\n      }\r\n    });\r\n  };\r\n\r\n  const handleDeletePlant = (plantId: PlantId): void => {\r\n    const removePlantAndReturnToPlantsSection = (plantId: PlantId): void => {\r\n      dispatch(removePlant(plantId));\r\n      history.push(\"/\");\r\n      dispatch(scrollToPlants());\r\n    };\r\n\r\n    dispatch(setIsDeletingPlant(true));\r\n    dispatch(deletePlant(plantId))\r\n      .unwrap()\r\n      .then(() => {\r\n        removePlantAndReturnToPlantsSection(plantId);\r\n      })\r\n      .catch((rejectedValue: any) => {\r\n        console.log(rejectedValue.message);\r\n      });\r\n  };\r\n\r\n  if (!loggedInUser) {\r\n    return <Redirect to={\"/auth/sign-up\"} />;\r\n  }\r\n  const {\r\n    _id,\r\n    name,\r\n    description,\r\n    size,\r\n    imageUrl,\r\n    imagePublicId,\r\n    location,\r\n    price,\r\n    creator,\r\n  } = plant as Plant;\r\n\r\n  return (\r\n    <div className=\"container mt-5 row row-md-10 offset-md-4\">\r\n      <div className=\"mt-4 mb-3 pt-4 container\">\r\n        <h2> Plant details </h2>\r\n      </div>\r\n      {isFetchingPlant || !creator ? (\r\n        <LoadingSpinner />\r\n      ) : (\r\n        <div className=\"col\">\r\n          <div className=\"card cardMediumWidth\">\r\n            <img\r\n              src={imageUrl}\r\n              alt={name}\r\n              hidden={imageUrl ? false : true}\r\n              className=\"card-img-top mediumPicSize\"\r\n            />\r\n            <div className=\"ml-2 mt-2\">\r\n              <span> Name: </span> {name}\r\n            </div>\r\n            <div className=\"ml-2 mt-2\">\r\n              <span> Description: </span> {description}\r\n            </div>\r\n            <div className=\"ml-2 mt-2\">\r\n              <span> Size: </span> {size} cm\r\n            </div>\r\n            <div className=\"ml-2 mt-2\">\r\n              <span> Likes: </span> {location}\r\n            </div>\r\n            <div className=\"ml-2 mt-2\">\r\n              <span> Price: </span> {price} €\r\n            </div>\r\n            <div className=\"ml-2 mt-2 col justify-content-center\">\r\n              <div className=\"row-2 justify-content-center\">\r\n                <div className=\"card-body text-right pt-0\">\r\n                  {loggedInUser._id === (creator as User)._id ? (\r\n                    <div className=\"p-0\">\r\n                      <Link to={\"/plants/update\"}>\r\n                        <button className=\"btn btn-sm ml-2 form-control smallWidth mb-2\">\r\n                          Update\r\n                        </button>\r\n                      </Link>\r\n                      <button\r\n                        disabled={\r\n                          isDeletingMessage ||\r\n                          isDeletingPlantImage ||\r\n                          isDeletingPlant\r\n                            ? true\r\n                            : false\r\n                        }\r\n                        className=\"btn btn-sm ml-2 form-control smallWidth mb-2\"\r\n                        onClick={() => {\r\n                          handleDeleteRemainingMessages(\r\n                            messages,\r\n                            _id as PlantId\r\n                          );\r\n                          handleDeletePlantImage({ imagePublicId }, dispatch);\r\n                          handleDeletePlant(_id as PlantId);\r\n                        }}\r\n                      >\r\n                        Delete\r\n                      </button>\r\n                    </div>\r\n                  ) : (\r\n                    <div>\r\n                      <Link to=\"/plants/checkout\">\r\n                        <button className=\"btn btn-sm ml-2 form-control smallWidth mb-2\">\r\n                          Buy\r\n                        </button>\r\n                      </Link>\r\n                      <Link to=\"/messages/create\">\r\n                        <button className=\"btn btn-sm ml-2 form-control smallWidth mb-2\">\r\n                          Swap\r\n                        </button>\r\n                      </Link>\r\n                    </div>\r\n                  )}\r\n                  <Link\r\n                    to={\"/\"}\r\n                    onClick={() => {\r\n                      dispatch(scrollToPlants());\r\n                    }}\r\n                  >\r\n                    <button className=\"btn btn-sm ml-2 form-control smallWidth mb-3\">\r\n                      Go back\r\n                    </button>\r\n                  </Link>\r\n                </div>\r\n              </div>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      )}\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default PlantDetails;\r\n","import { useEffect, useRef } from \"react\";\r\nimport { Redirect } from \"react-router-dom\";\r\nimport { useHistory } from \"react-router-dom\";\r\nimport { animateScroll as scroll } from \"react-scroll\";\r\nimport { useAppDispatch, useAppSelector } from \"../hooks\";\r\nimport {\r\n  setPlant,\r\n  setIsUpdatingPlant,\r\n  updatePlant,\r\n  setPlantChanges,\r\n  setIsUploadingPlantImage,\r\n  uploadPlantImage,\r\n  setDestroyImageData,\r\n  scrollToPlants,\r\n} from \"../reducer/jungleSwapSlice\";\r\nimport { Plant, PlantId, UploadImageData } from \"../typeDefinitions\";\r\nimport { RootState } from \"../store\";\r\nimport { handleDeletePlantImage, protectRoute } from \"../lib/utilities\";\r\nimport LoadingSpinner from \"../components/LoadingSpinner\";\r\n\r\nconst UpdatePlantForm = (): JSX.Element => {\r\n  const loggedInUser = useAppSelector(\r\n    (state: RootState) => state.jungleSwap.loggedInUser\r\n  );\r\n  const isUploadingPlantImage = useAppSelector(\r\n    (state: RootState) => state.jungleSwap.isUploadingPlantImage\r\n  );\r\n  const isDeletingPlantImage = useAppSelector(\r\n    (state: RootState) => state.jungleSwap.isDeletingPlantImage\r\n  );\r\n  const destroyImageData = useAppSelector(\r\n    (state: RootState) => state.jungleSwap.destroyImageData\r\n  );\r\n  const plant = useAppSelector((state: RootState) => state.jungleSwap.plant);\r\n  const isUpdatingPlant = useAppSelector(\r\n    (state: RootState) => state.jungleSwap.isUpdatingPlant\r\n  );\r\n  const dispatch = useAppDispatch();\r\n  const history = useHistory();\r\n  const selectElementRef = useRef(null);\r\n\r\n  useEffect(() => {\r\n    const setPlantLocationAndScrollToTop = ({ location }: Plant): void => {\r\n      (selectElementRef as any).current.value = location;\r\n      scroll.scrollToTop();\r\n    };\r\n\r\n    protectRoute(dispatch);\r\n    loggedInUser && setPlantLocationAndScrollToTop(plant);\r\n  }, []);\r\n\r\n  const handlePlantEntryChange = ({ target }: any, plant: Plant): void => {\r\n    const clonedPlant: Plant = JSON.parse(JSON.stringify(plant));\r\n    switch (target.name) {\r\n      case \"name\":\r\n        clonedPlant.name = target.value;\r\n        break;\r\n      case \"description\":\r\n        clonedPlant.description = target.value;\r\n        break;\r\n      case \"size\":\r\n        clonedPlant.size = target.value;\r\n        break;\r\n      case \"location\":\r\n        clonedPlant.location = target.value;\r\n        break;\r\n      case \"price\":\r\n        clonedPlant.price = target.value;\r\n    }\r\n    dispatch(setPlant(clonedPlant));\r\n  };\r\n\r\n  const handlePlantImageChange = ({ target }: any, plant: Plant): void => {\r\n    const setImageDataForPlant = (\r\n      plant: Plant,\r\n      { imageUrl, imagePublicId }: UploadImageData\r\n    ) => {\r\n      const clonedPlant = JSON.parse(JSON.stringify(plant));\r\n      clonedPlant.imagePublicId = imagePublicId;\r\n      clonedPlant.imageUrl = imageUrl;\r\n      dispatch(setPlant(clonedPlant));\r\n    };\r\n\r\n    const image = target.files[0];\r\n    const { imagePublicId } = plant as Plant;\r\n    dispatch(setDestroyImageData({ imagePublicId }));\r\n    const uploadForm = new FormData();\r\n    uploadForm.append(\"image\", image);\r\n    dispatch(setIsUploadingPlantImage(true));\r\n    dispatch(uploadPlantImage(uploadForm))\r\n      .unwrap()\r\n      .then(({ imageUrl, imagePublicId }: UploadImageData) => {\r\n        setImageDataForPlant(plant, { imageUrl, imagePublicId });\r\n      })\r\n      .catch((rejectedValue: any) => {\r\n        console.log(rejectedValue.message);\r\n      });\r\n  };\r\n\r\n  const handleUpdatePlant = ({\r\n    _id,\r\n    name,\r\n    description,\r\n    size,\r\n    imageUrl,\r\n    imagePublicId,\r\n    location,\r\n    price,\r\n  }: Plant): void => {\r\n    const setPlantChangesAndReturnToPlantsSection = (\r\n      updatedPlant: Plant\r\n    ): void => {\r\n      dispatch(setPlantChanges(updatedPlant));\r\n      history.push(\"/\");\r\n      dispatch(scrollToPlants());\r\n    };\r\n\r\n    const updatedPlant: Plant = {\r\n      name,\r\n      description,\r\n      size,\r\n      imageUrl,\r\n      imagePublicId,\r\n      location,\r\n      price,\r\n    };\r\n    dispatch(setIsUpdatingPlant(true));\r\n    dispatch(updatePlant({ plantId: _id as PlantId, updatedPlant }))\r\n      .unwrap()\r\n      .then((updatedPlant) => {\r\n        setPlantChangesAndReturnToPlantsSection(updatedPlant);\r\n      })\r\n      .catch((rejectedValue: any) => {\r\n        console.log(rejectedValue.message);\r\n      });\r\n  };\r\n\r\n  if (!loggedInUser) {\r\n    return <Redirect to={\"/auth/unauthorized\"} />;\r\n  }\r\n  const { name, description, size, imageUrl, price } = plant as Plant;\r\n\r\n  return (\r\n    <div className=\"container row mt-5 \">\r\n      <div className=\"mt-2 col-12 col-md-6 offset-md-6\">\r\n        <h2 className=\"mt-5 mb-4 text-left\"> Update your plant </h2>\r\n        <div className=\"card cardMediumWidth mb-5\">\r\n          {isUploadingPlantImage || isDeletingPlantImage || isUpdatingPlant ? (\r\n            <LoadingSpinner />\r\n          ) : (\r\n            <img src={imageUrl} alt={name} className=\"mb-2 smallPicSize\" />\r\n          )}\r\n          <div className=\"card-body\">\r\n            <label htmlFor=\"updateName\"> Name </label>\r\n            <input\r\n              type=\"text\"\r\n              id=\"updateName\"\r\n              name=\"name\"\r\n              value={name}\r\n              className=\"mb-4 form-control\"\r\n              onChange={(event) => {\r\n                handlePlantEntryChange(event, plant);\r\n              }}\r\n            />\r\n            <label htmlFor=\"updateDescription\"> Description </label>\r\n            <input\r\n              type=\"text\"\r\n              id=\"updateDescription\"\r\n              name=\"description\"\r\n              value={description}\r\n              className=\"mb-4 form-control\"\r\n              onChange={(event) => {\r\n                handlePlantEntryChange(event, plant);\r\n              }}\r\n            />\r\n            <label htmlFor=\"updateSize\"> Size (cm) </label>\r\n            <input\r\n              type=\"number\"\r\n              id=\"updateSize\"\r\n              name=\"size\"\r\n              value={size}\r\n              min=\"1\"\r\n              className=\"mb-4 form-control\"\r\n              onChange={(event) => {\r\n                handlePlantEntryChange(event, plant);\r\n              }}\r\n            />\r\n            <label htmlFor=\"updateLocation\"> Location </label>\r\n            <select\r\n              ref={selectElementRef}\r\n              id=\"updateLocation\"\r\n              name=\"location\"\r\n              className=\"mb-4 form-control px-2\"\r\n              onChange={(event) => {\r\n                handlePlantEntryChange(event, plant);\r\n              }}\r\n            >\r\n              <option value=\"sun\"> sun </option>\r\n              <option value=\"shade\"> shade </option>\r\n              <option value=\"sun and shade\"> sun and shade </option>\r\n            </select>\r\n            <label htmlFor=\"updatePrice\"> Price (EUR) </label>\r\n            <input\r\n              type=\"number\"\r\n              id=\"updatePrice\"\r\n              name=\"price\"\r\n              value={price}\r\n              min=\"1\"\r\n              className=\"mb-4 form-control\"\r\n              onChange={(event) => {\r\n                handlePlantEntryChange(event, plant);\r\n              }}\r\n            />\r\n            <label htmlFor=\"updateImage\"> Image </label>\r\n            <input\r\n              type=\"file\"\r\n              id=\"updateImage\"\r\n              name=\"plantImage\"\r\n              className=\"mb-4 form-control\"\r\n              onChange={(event) => {\r\n                handlePlantImageChange(event, plant);\r\n              }}\r\n            />\r\n            <div className=\"col-12 text-right pr-0\">\r\n              <button\r\n                disabled={\r\n                  isUploadingPlantImage ||\r\n                  isDeletingPlantImage ||\r\n                  isUpdatingPlant\r\n                    ? true\r\n                    : false\r\n                }\r\n                className=\"btn btn-sm ml-4 form-control smallWidth mb-2\"\r\n                onClick={() => {\r\n                  handleDeletePlantImage(destroyImageData, dispatch);\r\n                  handleUpdatePlant(plant);\r\n                }}\r\n              >\r\n                Save\r\n              </button>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default UpdatePlantForm;\r\n","import { useState, useEffect } from \"react\";\r\nimport { Link, useHistory } from \"react-router-dom\";\r\nimport { useAppDispatch, useAppSelector } from \"../hooks\";\r\nimport { CardElement, useStripe, useElements } from \"@stripe/react-stripe-js\";\r\nimport {\r\n  setClientSecret,\r\n  createPayment,\r\n  scrollToPlants,\r\n} from \"../reducer/jungleSwapSlice\";\r\nimport { Plant } from \"../typeDefinitions\";\r\nimport { RootState } from \"../store\";\r\n\r\ninterface CardStyle {\r\n  style: {\r\n    base: {\r\n      color: string;\r\n      fontFamily: string;\r\n      fontSmoothing: string;\r\n      fontSize: string;\r\n      \"::placeholder\": { color: string };\r\n    };\r\n    invalid: {\r\n      color: string;\r\n      iconColor: string;\r\n    };\r\n  };\r\n}\r\n\r\nconst CheckoutForm = (): JSX.Element => {\r\n  const [isSucceeded, setIsSucceeded] = useState(false);\r\n  const [isProcessing, setIsProcessing] = useState(false);\r\n  const [isDisabled, setIsDisabled] = useState(true);\r\n  const [paymentError, setPaymentError] = useState(\"\");\r\n  const clientSecret = useAppSelector(\r\n    (state: RootState) => state.jungleSwap.clientSecret\r\n  );\r\n  const plant = useAppSelector((state: RootState) => state.jungleSwap.plant);\r\n  const dispatch = useAppDispatch();\r\n  const history = useHistory();\r\n  const stripe = useStripe();\r\n  const elements = useElements();\r\n  const cardStyle: CardStyle = {\r\n    style: {\r\n      base: {\r\n        color: \"#32325d\",\r\n        fontFamily: \"Arial, sans-serif\",\r\n        fontSmoothing: \"antialiased\",\r\n        fontSize: \"16px\",\r\n        \"::placeholder\": { color: \"#32325d\" },\r\n      },\r\n      invalid: {\r\n        color: \"#fa755a\",\r\n        iconColor: \"#fa755a\",\r\n      },\r\n    },\r\n  };\r\n\r\n  useEffect(() => {\r\n    const initializePayment = (plant: Plant): void => {\r\n      dispatch(createPayment(plant))\r\n        .unwrap()\r\n        .then((payment: any) => {\r\n          dispatch(setClientSecret(payment.clientSecret));\r\n        })\r\n        .catch((rejectedValue: any) => {\r\n          console.log(rejectedValue.message);\r\n        });\r\n    };\r\n\r\n    initializePayment(plant);\r\n\r\n    return () => {\r\n      const returnToPlantsSection = (): void => {\r\n        history.push(\"/\");\r\n        dispatch(scrollToPlants());\r\n      };\r\n\r\n      returnToPlantsSection();\r\n    };\r\n  }, []);\r\n\r\n  const handleCardElementInputChanges = async (event: any): Promise<void> => {\r\n    setIsDisabled(event.empty);\r\n    setPaymentError(event.error ? event.error.message : \"\");\r\n  };\r\n\r\n  const handleSubmitPayment = async (event: { preventDefault: () => void }) => {\r\n    event.preventDefault();\r\n    // Stripe.js has not yet loaded\r\n    if (!stripe || !elements) {\r\n      return;\r\n    }\r\n    setIsProcessing(true);\r\n    const payload = await (stripe as any).confirmCardPayment(clientSecret, {\r\n      payment_method: { card: (elements as any).getElement(CardElement) },\r\n    });\r\n    if (payload.error) {\r\n      setPaymentError(`Payment failed ${payload.error.message}`);\r\n      setIsProcessing(false);\r\n    } else {\r\n      setPaymentError(\"\");\r\n      setIsProcessing(false);\r\n      setIsSucceeded(true);\r\n    }\r\n  };\r\n  const { _id, name, price } = plant as Plant;\r\n\r\n  return (\r\n    <div className=\"container col-9\">\r\n      <form\r\n        id=\"payment-form\"\r\n        className=\"checkoutForm mt-5\"\r\n        onSubmit={handleSubmitPayment}\r\n      >\r\n        <h2 className=\"text-left mb-2 p-2\"> {name} </h2>\r\n        <h3 className=\"text-left mb-4 p-2\"> Price: {price} € </h3>\r\n        <CardElement\r\n          id=\"card-element\"\r\n          options={cardStyle}\r\n          className=\"p-2\"\r\n          onChange={handleCardElementInputChanges}\r\n        />\r\n        <div className=\"row justify-content-center\">\r\n          <button\r\n            type=\"submit\"\r\n            id=\"submit\"\r\n            disabled={isProcessing || isDisabled || isSucceeded}\r\n            className=\"btn btn-sm mt-5 mb-4\"\r\n          >\r\n            <span id=\"button-text\">\r\n              {isProcessing ? (\r\n                <div id=\"spinner\" className=\"spinner\" />\r\n              ) : (\r\n                \"Pay now\"\r\n              )}\r\n            </span>\r\n          </button>\r\n        </div>\r\n        {\r\n          /* Show any error that happens when processing the payment */\r\n          <div\r\n            role=\"alert\"\r\n            hidden={paymentError ? false : true}\r\n            className=\"card-error\"\r\n          >\r\n            {paymentError}\r\n          </div>\r\n        }\r\n        {/* Show success message upon completion */}\r\n        <p\r\n          className={\r\n            isSucceeded\r\n              ? \"result-message text-center\"\r\n              : \"result-message hidden text-center\"\r\n          }\r\n        >\r\n          Payment succeeded.\r\n        </p>\r\n      </form>\r\n      <div className=\"row justify-content-center\">\r\n        {isSucceeded ? (\r\n          <Link\r\n            to={\"/\"}\r\n            onClick={() => {\r\n              dispatch(scrollToPlants());\r\n            }}\r\n          >\r\n            <button className=\"btn btn-sm form-control\"> Go back </button>\r\n          </Link>\r\n        ) : (\r\n          <Link to={`/plants/fetch/${_id}`}>\r\n            <button className=\"btn btn-sm form-control\"> Go back </button>\r\n          </Link>\r\n        )}\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default CheckoutForm;\r\n","import { useEffect } from \"react\";\r\nimport { Redirect } from \"react-router-dom\";\r\nimport { animateScroll as scroll } from \"react-scroll\";\r\nimport { useAppDispatch, useAppSelector } from \"../hooks\";\r\nimport { RootState } from \"../store\";\r\nimport { protectRoute } from \"../lib/utilities\";\r\nimport { loadStripe } from \"@stripe/stripe-js\";\r\nimport { Elements } from \"@stripe/react-stripe-js\";\r\nimport CheckoutForm from \"../components/CheckoutForm\";\r\n\r\nconst stripePromise = loadStripe(\r\n  \"pk_test_51IQBsPA6EAM4YnfDyrjHWnLHzZ5KkI9tsERzYhBGVoctZBrFUb4Sda035HvcQKpp7thFiqW6QmO8ytPbOAMTg33z00cHvcbojv\"\r\n);\r\n\r\nconst CheckoutPage = (): JSX.Element => {\r\n  const loggedInUser = useAppSelector(\r\n    (state: RootState) => state.jungleSwap.loggedInUser\r\n  );\r\n  const dispatch = useAppDispatch();\r\n\r\n  useEffect(() => {\r\n    protectRoute(dispatch);\r\n    loggedInUser && scroll.scrollToTop();\r\n  }, []);\r\n\r\n  if (!loggedInUser) {\r\n    return <Redirect to={\"/auth/unauthorized\"} />;\r\n  }\r\n\r\n  return (\r\n    <div className=\"container row mt-5\">\r\n      <div className=\"mt-5 col-11 col-md-6 offset-1 offset-md-5 App\">\r\n        <Elements stripe={stripePromise}>\r\n          <CheckoutForm />\r\n        </Elements>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default CheckoutPage;\r\n","import { Link } from \"react-router-dom\";\r\nimport { useAppSelector } from \"../hooks\";\r\nimport { User, Message, Plant } from \"../typeDefinitions\";\r\nimport { RootState } from \"../store\";\r\n\r\ntype RequestThumbnailProps = {\r\n  message: Message;\r\n};\r\n\r\nconst RequestThumbnail = ({ message }: RequestThumbnailProps): JSX.Element => {\r\n  const loggedInUser = useAppSelector(\r\n    (state: RootState) => state.jungleSwap.loggedInUser\r\n  );\r\n  const { _id, buyer, seller, plant, messageState } = message;\r\n  const { name } = plant as Plant;\r\n  const { username } = buyer as User;\r\n\r\n  return (\r\n    <div\r\n      hidden={\r\n        (seller as User)._id === (loggedInUser as User)._id &&\r\n        messageState === true\r\n          ? false\r\n          : true\r\n      }\r\n      className=\"card p-3 mt-4\"\r\n    >\r\n      <h4> Request for {name} </h4>\r\n      <h5> by {username} </h5>\r\n      <div className=\"text-center\">\r\n        <Link\r\n          className=\"btn smallWidth form-control\"\r\n          to={`/requests/fetch/${_id}`}\r\n        >\r\n          Details\r\n        </Link>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default RequestThumbnail;\r\n","import { useEffect } from \"react\";\r\nimport { Link, Redirect } from \"react-router-dom\";\r\nimport { animateScroll as scroll } from \"react-scroll\";\r\nimport { useAppDispatch, useAppSelector } from \"../hooks\";\r\nimport {\r\n  setIsNewRequest,\r\n  setStartAmountOfRequests,\r\n} from \"../reducer/jungleSwapSlice\";\r\nimport { Message } from \"../typeDefinitions\";\r\nimport { RootState } from \"../store\";\r\nimport { fetchMessages, protectRoute } from \"../lib/utilities\";\r\nimport RequestTile from \"../components/RequestTile\";\r\nimport LoadingSpinner from \"../components/LoadingSpinner\";\r\n\r\nconst RequestsPage = (): JSX.Element => {\r\n  const loggedInUser = useAppSelector(\r\n    (state: RootState) => state.jungleSwap.loggedInUser\r\n  );\r\n  const isUserChange = useAppSelector(\r\n    (state: RootState) => state.jungleSwap.isUserChange\r\n  );\r\n  const isFetchingMessages = useAppSelector(\r\n    (state: RootState) => state.jungleSwap.isFetchingMessages\r\n  );\r\n  const messages = useAppSelector(\r\n    (state: RootState) => state.jungleSwap.messages\r\n  );\r\n  const amountOfRequests = useAppSelector(\r\n    (state: RootState) => state.jungleSwap.amountOfRequests\r\n  );\r\n  const dispatch = useAppDispatch();\r\n\r\n  useEffect(() => {\r\n    const resetRequestVariableAndScrollToTop = (): void => {\r\n      dispatch(setIsNewRequest(false));\r\n      scroll.scrollToTop();\r\n    };\r\n\r\n    protectRoute(dispatch);\r\n    if (loggedInUser) {\r\n      fetchMessages(dispatch);\r\n      isUserChange && dispatch(setStartAmountOfRequests());\r\n      resetRequestVariableAndScrollToTop();\r\n    }\r\n\r\n    return () => {\r\n      resetRequestVariableAndScrollToTop();\r\n    };\r\n  }, []);\r\n\r\n  if (!loggedInUser) {\r\n    return <Redirect to={\"/auth/unauthorized\"} />;\r\n  }\r\n\r\n  return (\r\n    <div className=\"container row mt-5\">\r\n      <div className=\"mt-5 col-11 col-md-5 offset-1 offset-md-5\">\r\n        <h2> Requests for your plants </h2>\r\n        <h3 className=\"mb-4\"> [{amountOfRequests}] </h3>\r\n        <div className=\"text-right pr-2\">\r\n          <Link to={\"/\"}>\r\n            <button className=\"btn btn-sm mt-4 smallWidth form-control\">\r\n              Go back\r\n            </button>\r\n          </Link>\r\n        </div>\r\n        {isFetchingMessages ? (\r\n          <LoadingSpinner />\r\n        ) : (\r\n          <div>\r\n            {messages.map((message: Message, index: number): JSX.Element => {\r\n              return <RequestTile message={message} key={index} />;\r\n            })}\r\n          </div>\r\n        )}\r\n        <div\r\n          hidden={amountOfRequests !== 0 ? false : true}\r\n          className=\"text-right mt-4 pr-2\"\r\n        >\r\n          <Link to={\"/\"}>\r\n            <button className=\"btn btn-sm mt-4 smallWidth form-control\">\r\n              Go back\r\n            </button>\r\n          </Link>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default RequestsPage;\r\n","import { Link } from \"react-router-dom\";\r\nimport { useAppSelector } from \"../hooks\";\r\nimport { User, Plant, Message } from \"../typeDefinitions\";\r\nimport { RootState } from \"../store\";\r\n\r\ntype ReplyThumbnailProps = {\r\n  message: Message;\r\n};\r\n\r\nconst ReplyThumbnail = ({ message }: ReplyThumbnailProps): JSX.Element => {\r\n  const loggedInUser = useAppSelector(\r\n    (state: RootState) => state.jungleSwap.loggedInUser\r\n  );\r\n  const { _id, buyer, seller, plant, reply } = message;\r\n  const { name } = plant as Plant;\r\n  const { username } = seller as User;\r\n\r\n  return (\r\n    <div\r\n      hidden={\r\n        (buyer as User)._id === (loggedInUser as User)._id && reply !== \"\"\r\n          ? false\r\n          : true\r\n      }\r\n      className=\"card p-3 mt-4 \"\r\n    >\r\n      <h4> Reply for {name} </h4>\r\n      <h5> by {username} </h5>\r\n      <div className=\"text-center\">\r\n        <Link\r\n          to={`/replies/fetch/${_id}`}\r\n          className=\"btn smallWidth form-control\"\r\n        >\r\n          Details\r\n        </Link>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default ReplyThumbnail;\r\n","import { useEffect } from \"react\";\r\nimport { Link, Redirect } from \"react-router-dom\";\r\nimport { animateScroll as scroll } from \"react-scroll\";\r\nimport { useAppDispatch, useAppSelector } from \"../hooks\";\r\nimport {\r\n  setIsNewReply,\r\n  setStartAmountOfReplies,\r\n} from \"../reducer/jungleSwapSlice\";\r\nimport { Message } from \"../typeDefinitions\";\r\nimport { RootState } from \"../store\";\r\nimport { fetchMessages, protectRoute } from \"../lib/utilities\";\r\nimport ReplyTile from \"../components/ReplyTile\";\r\nimport LoadingSpinner from \"../components/LoadingSpinner\";\r\n\r\nconst RepliesPage = (): JSX.Element => {\r\n  const loggedInUser = useAppSelector(\r\n    (state: RootState) => state.jungleSwap.loggedInUser\r\n  );\r\n  const isUserChange = useAppSelector(\r\n    (state: RootState) => state.jungleSwap.isUserChange\r\n  );\r\n  const isFetchingMessages = useAppSelector(\r\n    (state: RootState) => state.jungleSwap.isFetchingMessages\r\n  );\r\n  const messages = useAppSelector(\r\n    (state: RootState) => state.jungleSwap.messages\r\n  );\r\n  const amountOfReplies = useAppSelector(\r\n    (state: RootState) => state.jungleSwap.amountOfReplies\r\n  );\r\n  const dispatch = useAppDispatch();\r\n\r\n  useEffect(() => {\r\n    const resetReplyVariableAndScrollToTop = (): void => {\r\n      dispatch(setIsNewReply(false));\r\n      scroll.scrollToTop();\r\n    };\r\n\r\n    protectRoute(dispatch);\r\n    if (loggedInUser) {\r\n      fetchMessages(dispatch);\r\n      isUserChange && dispatch(setStartAmountOfReplies());\r\n      resetReplyVariableAndScrollToTop();\r\n    }\r\n\r\n    return () => {\r\n      resetReplyVariableAndScrollToTop();\r\n    };\r\n  }, []);\r\n\r\n  if (!loggedInUser) {\r\n    return <Redirect to={\"/auth/unauthorized\"} />;\r\n  }\r\n\r\n  return (\r\n    <div className=\"container row mt-5\">\r\n      <div className=\"mt-5 col-11 col-md-5 offset-1 offset-md-5\">\r\n        <h2> Replies for your requests </h2>\r\n        <h3 className=\"mb-4\"> [{amountOfReplies}] </h3>\r\n        <div className=\"text-right pr-2\">\r\n          <Link to={\"/\"}>\r\n            <button className=\"btn btn-sm mt-4 smallWidth form-control\">\r\n              Go back\r\n            </button>\r\n          </Link>\r\n        </div>\r\n        {isFetchingMessages ? (\r\n          <LoadingSpinner />\r\n        ) : (\r\n          <div>\r\n            {messages.map((message: Message, index: number): JSX.Element => {\r\n              return <ReplyTile message={message} key={index} />;\r\n            })}\r\n          </div>\r\n        )}\r\n        <div\r\n          hidden={amountOfReplies !== 0 ? false : true}\r\n          className=\"text-right mt-4 pr-2\"\r\n        >\r\n          <Link to={\"/\"}>\r\n            <button className=\"btn btn-sm mt-4 smallWidth form-control\">\r\n              Go back\r\n            </button>\r\n          </Link>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default RepliesPage;\r\n","import { useEffect } from \"react\";\r\nimport { Redirect } from \"react-router-dom\";\r\nimport { Link, useHistory } from \"react-router-dom\";\r\nimport { animateScroll as scroll } from \"react-scroll\";\r\nimport { useAppDispatch, useAppSelector } from \"../hooks\";\r\nimport {\r\n  setIsCreatingMessage,\r\n  createMessage,\r\n  addMessage,\r\n  setErrorMessage,\r\n} from \"../reducer/jungleSwapSlice\";\r\nimport { User, Plant, Message } from \"../typeDefinitions\";\r\nimport { RootState } from \"../store\";\r\nimport { protectRoute } from \"../lib/utilities\";\r\n\r\nconst CreateRequestForm = (): JSX.Element => {\r\n  const loggedInUser = useAppSelector(\r\n    (state: RootState) => state.jungleSwap.loggedInUser\r\n  );\r\n  const plant = useAppSelector((state: RootState) => state.jungleSwap.plant);\r\n  const isCreatingMessage = useAppSelector(\r\n    (state: RootState) => state.jungleSwap.isCreatingMessage\r\n  );\r\n  const errorMessage = useAppSelector(\r\n    (state: RootState) => state.jungleSwap.errorMessage\r\n  );\r\n  const dispatch = useAppDispatch();\r\n  const history = useHistory();\r\n\r\n  useEffect(() => {\r\n    protectRoute(dispatch);\r\n    if (loggedInUser) {\r\n      dispatch(setErrorMessage(null));\r\n      scroll.scrollToTop();\r\n    }\r\n  }, []);\r\n\r\n  const handleCreateMessageForRequest = (event: any, plant: Plant): void => {\r\n    const addMessageAndReturnToPlantDetailsPage = (message: Message): void => {\r\n      dispatch(addMessage(message));\r\n      const { plant } = message;\r\n      history.push(`/plants/fetch/${(plant as Plant)._id}`);\r\n    };\r\n\r\n    event.preventDefault();\r\n    const { request } = event.target;\r\n    const { _id, creator } = plant;\r\n    const newMessage: Message = {\r\n      seller: (creator as User)._id,\r\n      plant: _id,\r\n      request: request.value,\r\n    };\r\n    dispatch(setIsCreatingMessage(true));\r\n    dispatch(createMessage(newMessage))\r\n      .unwrap()\r\n      .then((message) => {\r\n        addMessageAndReturnToPlantDetailsPage(message);\r\n      })\r\n      .catch((rejectedValue: any) => {\r\n        dispatch(setErrorMessage(rejectedValue.message));\r\n      });\r\n  };\r\n\r\n  if (!loggedInUser) {\r\n    return <Redirect to={\"/auth/unauthorized\"} />;\r\n  }\r\n  const { _id, name } = plant as Plant;\r\n\r\n  return (\r\n    <div className=\"container row mt-5\">\r\n      <div className=\"mt-5 col-11 col-md-5 offset-1 offset-md-5\">\r\n        <h2 className=\"mb-4\"> Your request </h2>\r\n        <h3 className=\"mb-4\"> for {name} </h3>\r\n        <form\r\n          className=\"pl-0\"\r\n          onSubmit={(event) => {\r\n            handleCreateMessageForRequest(event, plant);\r\n          }}\r\n        >\r\n          <div>\r\n            <textarea\r\n              name=\"request\"\r\n              cols={35}\r\n              rows={7}\r\n              className=\"mb-4 form-control\"\r\n            />\r\n          </div>\r\n          <p hidden={errorMessage ? false : true} className=\"warningColor\">\r\n            {\" \"}\r\n            {errorMessage}{\" \"}\r\n          </p>\r\n          <div className=\"text-right\">\r\n            <button\r\n              type=\"submit\"\r\n              disabled={isCreatingMessage ? true : false}\r\n              className=\"btn btn-sm mx-2 form-control smallWidth\"\r\n            >\r\n              Send\r\n            </button>\r\n            <Link to={`/plants/fetch/${_id}`}>\r\n              <button className=\"btn btn-sm mx-2 form-control smallWidth\">\r\n                Go back\r\n              </button>\r\n            </Link>\r\n          </div>\r\n        </form>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default CreateRequestForm;\r\n","import { useEffect } from \"react\";\r\nimport { Redirect } from \"react-router-dom\";\r\nimport { Link, useParams, useHistory } from \"react-router-dom\";\r\nimport { animateScroll as scroll } from \"react-scroll\";\r\nimport LoadingSpinner from \"../components/LoadingSpinner\";\r\nimport { useAppDispatch, useAppSelector } from \"../hooks\";\r\nimport {\r\n  setMessage,\r\n  updateMessage,\r\n  setMessageChanges,\r\n  decreaseAmountOfRequests,\r\n} from \"../reducer/jungleSwapSlice\";\r\nimport { User, Plant, Message, MessageId } from \"../typeDefinitions\";\r\nimport { RootState } from \"../store\";\r\nimport { fetchSingleMessage, protectRoute } from \"../lib/utilities\";\r\n\r\nconst RequestDetails = (): JSX.Element => {\r\n  const loggedInUser = useAppSelector(\r\n    (state: RootState) => state.jungleSwap.loggedInUser\r\n  );\r\n  const isFetchingMessage = useAppSelector(\r\n    (state: RootState) => state.jungleSwap.isFetchingMessage\r\n  );\r\n  const message = useAppSelector(\r\n    (state: RootState) => state.jungleSwap.message\r\n  );\r\n  const { messageId } = useParams<{ messageId: MessageId }>();\r\n  const dispatch = useAppDispatch();\r\n  const history = useHistory();\r\n\r\n  useEffect(() => {\r\n    protectRoute(dispatch);\r\n    if (loggedInUser) {\r\n      fetchSingleMessage(messageId, dispatch);\r\n      scroll.scrollToTop();\r\n    }\r\n  }, []);\r\n\r\n  const handleChangeMessageState = (message: Message): void => {\r\n    const setBuyerMessageInactive = (message: Message): Message => {\r\n      const clonedMessage: Message = JSON.parse(JSON.stringify(message));\r\n      clonedMessage.messageState = false;\r\n      dispatch(setMessage(clonedMessage));\r\n      return clonedMessage;\r\n    };\r\n\r\n    const updateBuyerMessage = ({\r\n      _id,\r\n      buyer,\r\n      seller,\r\n      plant,\r\n      request,\r\n      reply,\r\n      messageState,\r\n    }: Message) => {\r\n      const setMessageChangesAndReturnToRequestsPage = (\r\n        message: Message\r\n      ): void => {\r\n        dispatch(setMessageChanges(message));\r\n        dispatch(decreaseAmountOfRequests());\r\n        history.push(\"/requests/fetch-all\");\r\n      };\r\n\r\n      const updatedMessage: Message = {\r\n        buyer,\r\n        seller,\r\n        plant,\r\n        request,\r\n        reply,\r\n        messageState,\r\n      };\r\n      dispatch(updateMessage({ messageId: _id as MessageId, updatedMessage }))\r\n        .unwrap()\r\n        .then((message) => {\r\n          setMessageChangesAndReturnToRequestsPage(message);\r\n        })\r\n        .catch((rejectedValue: any) => {\r\n          console.log(rejectedValue.message);\r\n        });\r\n    };\r\n\r\n    const updatedMessage = setBuyerMessageInactive(message);\r\n    updateBuyerMessage(updatedMessage);\r\n  };\r\n\r\n  if (!loggedInUser) {\r\n    return <Redirect to={\"/auth/unauthorized\"} />;\r\n  }\r\n\r\n  const { _id, buyer, plant, request, reply } = message as Message;\r\n  if (isFetchingMessage || !buyer || !plant) {\r\n    return (\r\n      <div className=\"container d-flex align-items-center justify-content-center mt-5\">\r\n        <LoadingSpinner />\r\n        <span> Loading request </span>\r\n      </div>\r\n    );\r\n  }\r\n  const { name } = plant as Plant;\r\n  const { username } = buyer as User;\r\n\r\n  return (\r\n    <div className=\"container row mt-5 \">\r\n      <div className=\"mt-5 col-11 col-md-5 offset-1 offset-md-5\">\r\n        <h2 className=\"mb-5\"> Request for {name} </h2>\r\n        <h5> by {username} </h5>\r\n        <p className=\"textField p-3 mb-4\"> {request} </p>\r\n        <div hidden={reply ? false : true}>\r\n          <h5> Your reply </h5>\r\n          <p className=\"textField p-3 mb-4\"> {reply} </p>\r\n        </div>\r\n        <div className=\"text-right px-3\">\r\n          <Link to={`/messages/update/${_id}`} hidden={!reply ? false : true}>\r\n            <button className=\"btn btn-sm ml-2 smallWidth form-control mb-1\">\r\n              Reply\r\n            </button>\r\n          </Link>\r\n          <button\r\n            className=\"btn btn-sm ml-2 smallWidth form-control mb-1\"\r\n            onClick={() => {\r\n              handleChangeMessageState(message);\r\n            }}\r\n          >\r\n            Done\r\n          </button>\r\n        </div>\r\n        <div className=\"text-right px-3\">\r\n          <Link to={\"/requests/fetch-all\"} onClick={scroll.scrollToTop}>\r\n            <button className=\"btn btn-sm mt-4 smallWidth form-control\">\r\n              Go back\r\n            </button>\r\n          </Link>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default RequestDetails;\r\n","import { useEffect } from \"react\";\r\nimport { Redirect } from \"react-router-dom\";\r\nimport { Link, useParams, useHistory } from \"react-router-dom\";\r\nimport { animateScroll as scroll } from \"react-scroll\";\r\nimport LoadingSpinner from \"../components/LoadingSpinner\";\r\nimport { useAppDispatch, useAppSelector } from \"../hooks\";\r\nimport {\r\n  setIsDeletingMessage,\r\n  deleteMessage,\r\n  removeMessage,\r\n  decreaseAmountOfReplies,\r\n} from \"../reducer/jungleSwapSlice\";\r\nimport { User, Plant, Message, MessageId } from \"../typeDefinitions\";\r\nimport { RootState } from \"../store\";\r\nimport { fetchSingleMessage, protectRoute } from \"../lib/utilities\";\r\n\r\nconst ReplyDetails = (): JSX.Element => {\r\n  const loggedInUser = useAppSelector(\r\n    (state: RootState) => state.jungleSwap.loggedInUser\r\n  );\r\n  const message = useAppSelector(\r\n    (state: RootState) => state.jungleSwap.message\r\n  );\r\n  const isFetchingMessage = useAppSelector(\r\n    (state: RootState) => state.jungleSwap.isFetchingMessage\r\n  );\r\n  const isDeletingMessage = useAppSelector(\r\n    (state: RootState) => state.jungleSwap.isDeletingMessage\r\n  );\r\n  const { messageId } = useParams<{ messageId: MessageId }>();\r\n  const dispatch = useAppDispatch();\r\n  const history = useHistory();\r\n\r\n  useEffect(() => {\r\n    protectRoute(dispatch);\r\n    if (loggedInUser) {\r\n      fetchSingleMessage(messageId, dispatch);\r\n      scroll.scrollToTop();\r\n    }\r\n  }, []);\r\n\r\n  const handleDeleteMessage = (messageId: MessageId): void => {\r\n    const removeMessageReplyAndReturnToRepliesPage = (\r\n      messageId: MessageId\r\n    ): void => {\r\n      dispatch(removeMessage(messageId));\r\n      dispatch(decreaseAmountOfReplies());\r\n      history.push(\"/replies/fetch-all\");\r\n    };\r\n\r\n    dispatch(setIsDeletingMessage(true));\r\n    dispatch(deleteMessage(messageId))\r\n      .unwrap()\r\n      .then(() => {\r\n        removeMessageReplyAndReturnToRepliesPage(messageId);\r\n      })\r\n      .catch((rejectedValue: any) => {\r\n        console.log(rejectedValue.message);\r\n      });\r\n  };\r\n\r\n  if (!loggedInUser) {\r\n    return <Redirect to={\"/auth/unauthorized\"} />;\r\n  }\r\n\r\n  const { _id, seller, plant, request, reply } = message as Message;\r\n  if (isFetchingMessage || !seller || !plant) {\r\n    return (\r\n      <div className=\"container d-flex align-items-center justify-content-center mt-5\">\r\n        <LoadingSpinner />\r\n        <span> Loading reply </span>\r\n      </div>\r\n    );\r\n  }\r\n  const { name } = plant as Plant;\r\n  const { username } = seller as User;\r\n\r\n  return (\r\n    <div className=\"container row mt-5 \">\r\n      <div className=\"mt-5 col-11 col-md-5 offset-1 offset-md-5\">\r\n        <h2 className=\"mb-5\"> Your request for {name} </h2>\r\n        <p className=\"textField p-3 mb-4\"> {request} </p>\r\n        <div hidden={reply ? false : true}>\r\n          <h5> Reply by {username} </h5>\r\n          <p className=\"textField p-3 mb-4\"> {reply} </p>\r\n        </div>\r\n        <div className=\"text-right px-3\">\r\n          <button\r\n            disabled={isDeletingMessage ? true : false}\r\n            className=\"btn btn-sm ml-2 smallWidth form-control mb-1\"\r\n            onClick={() => {\r\n              handleDeleteMessage(_id as MessageId);\r\n            }}\r\n          >\r\n            Delete\r\n          </button>\r\n        </div>\r\n        <div className=\"text-right px-3\">\r\n          <Link to={\"/replies/fetch-all\"} onClick={scroll.scrollToTop}>\r\n            <button className=\"btn btn-sm mt-4 smallWidth form-control\">\r\n              Go back\r\n            </button>\r\n          </Link>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default ReplyDetails;\r\n","import { useEffect } from \"react\";\r\nimport { Link, useHistory, Redirect } from \"react-router-dom\";\r\nimport { animateScroll as scroll } from \"react-scroll\";\r\nimport { useAppDispatch, useAppSelector } from \"../hooks\";\r\nimport {\r\n  setMessage,\r\n  setIsUpdatingMessage,\r\n  updateMessage,\r\n  setMessageChanges,\r\n} from \"../reducer/jungleSwapSlice\";\r\nimport { Message, MessageId } from \"../typeDefinitions\";\r\nimport { RootState } from \"../store\";\r\nimport { protectRoute } from \"../lib/utilities\";\r\n\r\nconst UpdateRequestForm = (): JSX.Element => {\r\n  const loggedInUser = useAppSelector(\r\n    (state: RootState) => state.jungleSwap.loggedInUser\r\n  );\r\n  const message = useAppSelector(\r\n    (state: RootState) => state.jungleSwap.message\r\n  );\r\n  const isUpdatingMessage = useAppSelector(\r\n    (state: RootState) => state.jungleSwap.isUpdatingMessage\r\n  );\r\n  const dispatch = useAppDispatch();\r\n  const history = useHistory();\r\n\r\n  useEffect(() => {\r\n    protectRoute(dispatch);\r\n    loggedInUser && scroll.scrollToTop();\r\n  }, []);\r\n\r\n  const handleCreateReply = ({ target }: any, message: Message): void => {\r\n    const clonedMessage: Message = JSON.parse(JSON.stringify(message));\r\n    clonedMessage.reply = target.value;\r\n    dispatch(setMessage(clonedMessage));\r\n  };\r\n\r\n  const handleUpdateMessage = ({\r\n    _id,\r\n    buyer,\r\n    seller,\r\n    plant,\r\n    request,\r\n    reply,\r\n    messageState,\r\n  }: Message): void => {\r\n    const setMessageChangesAndReturnToRequestPage = (\r\n      message: Message\r\n    ): void => {\r\n      dispatch(setMessageChanges(message));\r\n      const { _id } = message;\r\n      history.push(`/requests/fetch/${_id}`);\r\n    };\r\n\r\n    const updatedMessage: Message = {\r\n      buyer,\r\n      seller,\r\n      plant,\r\n      request,\r\n      reply,\r\n      messageState,\r\n    };\r\n    dispatch(setIsUpdatingMessage(true));\r\n    dispatch(updateMessage({ messageId: _id as MessageId, updatedMessage }))\r\n      .unwrap()\r\n      .then((message) => {\r\n        setMessageChangesAndReturnToRequestPage(message);\r\n      })\r\n      .catch((rejectedValue: any) => {\r\n        console.log(rejectedValue.message);\r\n      });\r\n  };\r\n\r\n  if (!loggedInUser) {\r\n    return <Redirect to={\"/auth/unauthorized\"} />;\r\n  }\r\n  const { _id, request } = message as Message;\r\n\r\n  return (\r\n    <div className=\"container row mt-5 \">\r\n      <div className=\"mt-2 col-11 col-md-5 offset-1 offset-md-5\">\r\n        <h2 className=\"mt-5 mb-4\"> Reply your request </h2>\r\n        <div className=\"card cardSmallWidth mb-5\">\r\n          <div className=\"card-body\">\r\n            <p> {request} </p>\r\n            <textarea\r\n              name=\"reply\"\r\n              placeholder=\"Your reply\"\r\n              cols={31}\r\n              rows={6}\r\n              className=\"mb-4 form-control\"\r\n              onChange={(event) => {\r\n                handleCreateReply(event, message);\r\n              }}\r\n            />\r\n            <div className=\"row justify-content-end px-3\">\r\n              <button\r\n                disabled={isUpdatingMessage ? true : false}\r\n                className=\"btn btn-sm smallWidth form-control mr-3 mb-2\"\r\n                onClick={() => {\r\n                  handleUpdateMessage(message);\r\n                }}\r\n              >\r\n                Submit\r\n              </button>\r\n              <Link to={`/requests/fetch/${_id}`}>\r\n                <button className=\"btn btn-sm form-control mb-2\">\r\n                  Go back\r\n                </button>\r\n              </Link>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default UpdateRequestForm;\r\n","const Unauthorized = (): JSX.Element => {\r\n  return (\r\n    <div className=\"notFound\">\r\n      <div>\r\n        <h2>\r\n          Oh-oh! <br /> <br />\r\n          We think you got lost in the jungle!\r\n        </h2>\r\n        <h3> 401 Unauthorized </h3>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Unauthorized;\r\n","import { Link } from \"react-router-dom\";\r\n\r\nconst NotFound = (): JSX.Element => {\r\n  return (\r\n    <div className=\"notFound\">\r\n      <div>\r\n        <h2>\r\n          Oh-oh! <br /> <br />\r\n          We think you got lost in the jungle!\r\n        </h2>\r\n        <h3> 404 Not Found </h3>\r\n        <Link to={\"/\"}>\r\n          <button className=\"btn btn-sm ml-2 smallWidth form-control\">\r\n            Take me home{\" \"}\r\n          </button>\r\n        </Link>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default NotFound;\r\n","import { useEffect } from \"react\";\r\n\r\ninterface KommunicateSettings {\r\n  appId: string;\r\n  popupWidget: boolean;\r\n  automaticChatOpenOnNavigation: boolean;\r\n}\r\n\r\nconst KommunicateChat = (): JSX.Element => {\r\n  useEffect(() => {\r\n    const createLauncherIcon = (document: any, method: any): void => {\r\n      const kommunicateSettings: KommunicateSettings = {\r\n        appId: \"10b22c52854a305b79bbdecc356bea5\",\r\n        popupWidget: true,\r\n        automaticChatOpenOnNavigation: true,\r\n      };\r\n      const scriptElement = document.createElement(\"script\");\r\n      scriptElement.type = \"text/javascript\";\r\n      scriptElement.async = true;\r\n      scriptElement.src = \"https://widget.kommunicate.io/v2/kommunicate.app\";\r\n      const headElement = document.getElementsByTagName(\"head\")[0];\r\n      headElement.appendChild(scriptElement);\r\n      (window as any).kommunicate = method;\r\n      method._globals = kommunicateSettings;\r\n    };\r\n\r\n    createLauncherIcon(document, (window as any).kommunicate || {});\r\n  }, []);\r\n\r\n  return <div />;\r\n};\r\n\r\nexport default KommunicateChat;\r\n","import { Route, Switch, withRouter } from \"react-router-dom\";\r\n\r\nimport \"bootstrap/dist/css/bootstrap.min.css\";\r\nimport \"./App.min.css\";\r\n\r\nimport NavBar from \"./components/NavBar\";\r\nimport Footer from \"./components/Footer\";\r\nimport Home from \"./screens/Home\";\r\nimport SignUp from \"./screens/SignUp\";\r\nimport SignIn from \"./screens/SignIn\";\r\nimport LogOut from \"./components/LogOut\";\r\nimport CreatePlantForm from \"./screens/CreatePlantForm\";\r\nimport PlantDetails from \"./screens/PlantDetails\";\r\nimport UpdatePlantForm from \"./screens/UpdatePlantForm\";\r\nimport CheckoutPage from \"./screens/CheckoutPage\";\r\nimport RequestsPage from \"./screens/RequestsPage\";\r\nimport RepliesPage from \"./screens/RepliesPage\";\r\nimport CreateRequestForm from \"./screens/CreateRequestForm\";\r\nimport RequestDetails from \"./screens/RequestDetails\";\r\nimport ReplyDetails from \"./screens/ReplyDetails\";\r\nimport UpdateRequestForm from \"./screens/UpdateRequestForm\";\r\nimport Unauthorized from \"./screens/Unauthorized\";\r\nimport NotFound from \"./screens/NotFound\";\r\nimport KommunicateChat from \"./components/Chat\";\r\n\r\nconst App = (): JSX.Element => {\r\n  return (\r\n    <div className=\"main\">\r\n      <NavBar />\r\n      <Switch>\r\n        <Route exact path=\"/\">\r\n          <Home />\r\n        </Route>\r\n\r\n        <Route path=\"/auth/sign-up\">\r\n          <SignUp />\r\n        </Route>\r\n        <Route path=\"/auth/sign-in\">\r\n          <SignIn />\r\n        </Route>\r\n        <Route path=\"/auth/log-out\">\r\n          <LogOut />\r\n        </Route>\r\n        <Route path=\"/auth/unauthorized\">\r\n          <Unauthorized />\r\n        </Route>\r\n\r\n        <Route path=\"/plants/create\">\r\n          <CreatePlantForm />\r\n        </Route>\r\n        <Route path=\"/plants/fetch/:plantId\">\r\n          <PlantDetails />\r\n        </Route>\r\n        <Route path=\"/plants/update\">\r\n          <UpdatePlantForm />\r\n        </Route>\r\n        <Route path=\"/plants/checkout\">\r\n          <CheckoutPage />\r\n        </Route>\r\n\r\n        <Route path=\"/messages/create\">\r\n          <CreateRequestForm />\r\n        </Route>\r\n        <Route path=\"/messages/update\">\r\n          <UpdateRequestForm />\r\n        </Route>\r\n\r\n        <Route path=\"/requests/fetch-all\">\r\n          <RequestsPage />\r\n        </Route>\r\n        <Route path=\"/requests/fetch/:messageId\">\r\n          <RequestDetails />\r\n        </Route>\r\n\r\n        <Route path=\"/replies/fetch-all\">\r\n          <RepliesPage />\r\n        </Route>\r\n        <Route path=\"/replies/fetch/:messageId\">\r\n          <ReplyDetails />\r\n        </Route>\r\n\r\n        <Route component={NotFound} />\r\n      </Switch>\r\n      <KommunicateChat />\r\n      <Footer />\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default withRouter(App);\r\n","import { configureStore } from \"@reduxjs/toolkit\";\r\nimport jungleSwapSlice from \"./reducer/jungleSwapSlice\";\r\n\r\nexport const store = configureStore({\r\n  reducer: { jungleSwap: jungleSwapSlice },\r\n});\r\n\r\nexport type RootState = ReturnType<typeof store.getState>;\r\nexport type AppDispatch = typeof store.dispatch;\r\n","import React from \"react\";\r\nimport ReactDOM from \"react-dom\";\r\nimport { BrowserRouter } from \"react-router-dom\";\r\nimport App from \"./App\";\r\nimport { Provider } from \"react-redux\";\r\nimport { store } from \"./store\";\r\n\r\nimport \"./index.css\";\r\n\r\nReactDOM.render(\r\n  <React.StrictMode>\r\n    <Provider store={store}>\r\n      <BrowserRouter>\r\n        <App />\r\n      </BrowserRouter>\r\n    </Provider>\r\n  </React.StrictMode>,\r\n  document.querySelector(\"#root\")\r\n);\r\n"],"sourceRoot":""}